{"file_contents":{"src/index.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;600&display=swap');\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  :root {\n    /* Light Mode Colors - Brand Palette */\n    --brand-yellow: #F9ED32;\n    --brand-yellow-light: #FFF225;\n    --brand-grey-dark: #252525;\n    --brand-grey-medium: #3C3C3C;\n    --brand-grey-light: #424242;\n    --brand-white: #FFFFFF;\n    --brand-white-soft: #F2F2F2;\n    \n    /* Semantic Colors - Light Mode */\n    --primary: #F9ED32;\n    --primary-hover: #E6D91F;\n    --primary-light: #FFF225;\n    --primary-bg: #FFFEF5;\n    --secondary: #424242;\n    --accent: #F9ED32;\n    --success: #10B981;\n    --warning: #F59E0B;\n    --error: #EF4444;\n    --info: #3B82F6;\n    --background: #FFFFFF;\n    --surface: #F2F2F2;\n    --surface-elevated: #FFFFFF;\n    --text-primary: #252525;\n    --text-secondary: #424242;\n    --text-tertiary: #7C7C7C;\n    --border: #E8E8E8;\n    --border-hover: #D9D9D9;\n    \n    /* Shadows */\n    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);\n    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);\n    \n    /* Typography */\n    --font-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n    --font-mono: 'Fira Code', 'Courier New', monospace;\n    \n    /* Transitions */\n    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);\n    --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);\n    --transition-duration: 300ms;\n    --transition-timing: cubic-bezier(0.4, 0, 0.2, 1);\n  }\n  \n  .dark {\n    /* Dark Mode Colors - Brand Palette */\n    --brand-yellow: #F9ED32;\n    --brand-yellow-light: #FFF225;\n    --brand-grey-dark: #252525;\n    --brand-grey-medium: #3C3C3C;\n    --brand-grey-light: #424242;\n    --brand-white: #FFFFFF;\n    --brand-white-soft: #F2F2F2;\n    \n    /* Semantic Colors - Dark Mode */\n    --primary: #FFF225;\n    --primary-hover: #F9ED32;\n    --primary-light: #FFF225;\n    --primary-bg: #3C3C3C;\n    --secondary: #F2F2F2;\n    --accent: #FFF225;\n    --success: #34D399;\n    --warning: #FBBF24;\n    --error: #F87171;\n    --info: #60A5FA;\n    --background: #252525;\n    --surface: #3C3C3C;\n    --surface-elevated: #424242;\n    --text-primary: #FFFFFF;\n    --text-secondary: #F2F2F2;\n    --text-tertiary: #D9D9D9;\n    --border: #424242;\n    --border-hover: #5D5D5D;\n    \n    /* Dark Mode Shadows */\n    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);\n    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.5);\n    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);\n    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.5);\n  }\n  \n  * {\n    @apply border-neutral-200 dark:border-neutral-700;\n  }\n  \n  body {\n    background-color: var(--background);\n    color: var(--text-primary);\n    font-family: var(--font-primary);\n    @apply antialiased;\n    transition: background-color var(--transition-duration), color var(--transition-duration);\n  }\n\n  /* Theme transition class for smooth switching */\n  .theme-transition,\n  .theme-transition * {\n    transition: background-color var(--transition-duration) var(--transition-timing),\n                color var(--transition-duration) var(--transition-timing),\n                border-color var(--transition-duration) var(--transition-timing),\n                box-shadow var(--transition-duration) var(--transition-timing),\n                fill var(--transition-duration) var(--transition-timing),\n                stroke var(--transition-duration) var(--transition-timing) !important;\n  }\n\n  .theme-wrapper {\n    transition: background-color var(--transition-duration) var(--transition-timing),\n                color var(--transition-duration) var(--transition-timing);\n  }\n  \n  html {\n    scroll-behavior: smooth;\n  }\n}\n\n@layer components {\n  /* Chat-specific components using brand colors */\n  .chat-surface {\n    background-color: var(--surface);\n    border-color: var(--border);\n    @apply transition-smooth;\n  }\n  \n  .chat-surface-elevated {\n    background-color: var(--surface-elevated);\n    border-color: var(--border);\n    @apply shadow-soft transition-smooth;\n  }\n  \n  .glass {\n    @apply bg-white/95 dark:bg-brand-grey-dark/95 backdrop-blur-lg border border-neutral-200/50 dark:border-brand-grey-light/50 shadow-sm;\n  }\n  \n  .glass-frosted {\n    @apply bg-white/90 dark:bg-brand-grey-medium/90 backdrop-blur-md border border-neutral-200/60 dark:border-brand-grey-light/60;\n  }\n  \n  /* Brand button variants */\n  .btn-primary {\n    @apply px-6 py-3 bg-brand-yellow text-brand-grey-dark rounded-2xl font-semibold font-['Montserrat']\n           hover:bg-brand-yellow-light active:scale-[0.98]\n           transition-all duration-200 shadow-soft hover:shadow-medium\n           dark:bg-brand-yellow-light dark:text-brand-grey-dark dark:hover:bg-brand-yellow\n           focus:outline-none focus:ring-2 focus:ring-brand-yellow/50 focus:ring-offset-2;\n  }\n  \n  .btn-secondary {\n    @apply px-6 py-3 bg-transparent text-brand-grey-dark dark:text-brand-white rounded-2xl font-semibold font-['Montserrat']\n           border-2 border-brand-grey-light dark:border-brand-white-soft\n           hover:bg-brand-grey-50 dark:hover:bg-brand-grey-light active:scale-[0.98]\n           transition-all duration-200\n           focus:outline-none focus:ring-2 focus:ring-brand-grey-light/50 focus:ring-offset-2;\n  }\n  \n  .btn-ghost {\n    @apply px-6 py-3 bg-transparent text-brand-grey-dark dark:text-brand-white rounded-2xl font-semibold font-['Montserrat']\n           hover:bg-brand-grey-50 dark:hover:bg-brand-grey-light active:scale-[0.98]\n           transition-all duration-200\n           focus:outline-none focus:ring-2 focus:ring-brand-grey-200/50;\n  }\n  \n  .btn-icon {\n    @apply p-3 rounded-full bg-transparent hover:bg-brand-grey-100 dark:hover:bg-brand-grey-light\n           transition-all duration-200 active:scale-95\n           focus:outline-none focus:ring-2 focus:ring-brand-yellow/50;\n  }\n  \n  /* Input variants */\n  .input-modern {\n    @apply w-full px-4 py-3 bg-brand-white dark:bg-brand-grey-medium\n           border-2 border-brand-grey-200 dark:border-brand-grey-light rounded-2xl\n           text-brand-grey-dark dark:text-brand-white font-['Inter']\n           focus:ring-2 focus:ring-brand-yellow/50 focus:border-brand-yellow\n           transition-all duration-200 placeholder:text-brand-grey-500\n           hover:border-brand-grey-300 dark:hover:border-brand-grey-600;\n  }\n  \n  .input-search {\n    @apply bg-brand-grey-50 dark:bg-brand-grey-light rounded-full px-4 py-3\n           border-none text-brand-grey-dark dark:text-brand-white font-['Inter']\n           placeholder:text-brand-grey-500 dark:placeholder:text-brand-grey-300\n           focus:outline-none focus:ring-2 focus:ring-brand-yellow/30\n           transition-all duration-200;\n  }\n  \n  /* Message bubbles */\n  .message-bubble-sent {\n    @apply bg-brand-yellow text-brand-grey-dark rounded-2xl rounded-br-sm p-3 max-w-md\n           shadow-sm break-words font-['Inter'];\n  }\n  \n  .message-bubble-received {\n    @apply bg-brand-white dark:bg-brand-grey-light text-brand-grey-dark dark:text-brand-white\n           rounded-2xl rounded-bl-sm p-3 max-w-md shadow-sm break-words font-['Inter'];\n  }\n  \n  /* Card variants */\n  .card-modern {\n    @apply bg-brand-white dark:bg-brand-grey-medium rounded-2xl p-6\n           shadow-soft hover:shadow-medium transition-all duration-200\n           border border-brand-grey-100 dark:border-brand-grey-light;\n  }\n  \n  .card-chat-item {\n    @apply px-4 py-3 hover:bg-brand-grey-50 dark:hover:bg-brand-grey-light\n           cursor-pointer transition-all duration-200 rounded-xl\n           border-l-4 border-transparent;\n  }\n  \n  .card-chat-item-active {\n    @apply bg-brand-yellow/10 dark:bg-brand-yellow/5 border-l-brand-yellow;\n  }\n  \n  /* Badge variants */\n  .badge {\n    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-semibold font-['Inter'];\n  }\n  \n  .badge-unread {\n    @apply bg-brand-yellow text-brand-grey-dark;\n  }\n  \n  .badge-admin {\n    @apply bg-brand-grey-dark dark:bg-brand-white text-brand-white dark:text-brand-grey-dark;\n  }\n  \n  /* Utility classes */\n  .section-container {\n    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;\n  }\n  \n  .scrollbar-custom {\n    scrollbar-width: thin;\n    scrollbar-color: var(--border-hover) transparent;\n  }\n  \n  .scrollbar-custom::-webkit-scrollbar {\n    width: 6px;\n  }\n  \n  .scrollbar-custom::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  \n  .scrollbar-custom::-webkit-scrollbar-thumb {\n    background-color: var(--border-hover);\n    border-radius: 20px;\n  }\n}\n\n@layer utilities {\n  .transition-smooth {\n    @apply transition-all duration-300 ease-out;\n  }\n  \n  .transition-quick {\n    @apply transition-all duration-150 ease-out;\n  }\n}\n","size_bytes":9073},"src/components/ui/Card.jsx":{"content":"import React from 'react';\n\nconst Card = ({ \n  children, \n  variant = 'default',\n  hover = false,\n  padding = true,\n  className = '',\n  onClick,\n  ...props \n}) => {\n  const baseStyles = 'rounded-2xl border transition-all duration-300';\n  \n  const variants = {\n    default: 'bg-white border-neutral-100 shadow-soft',\n    glass: 'bg-white/70 backdrop-blur-xl border-white/20 shadow-soft',\n    elevated: 'bg-white border-neutral-100 shadow-medium',\n    outline: 'bg-transparent border-neutral-200',\n  };\n  \n  const hoverStyles = hover ? 'hover:shadow-medium hover:-translate-y-1 cursor-pointer' : '';\n  const paddingStyles = padding ? 'p-6' : '';\n  \n  return (\n    <div\n      onClick={onClick}\n      className={`\n        ${baseStyles}\n        ${variants[variant]}\n        ${hoverStyles}\n        ${paddingStyles}\n        ${className}\n      `}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","size_bytes":920},"backend/test/testUser.js":{"content":"// testJoinRoom.js\nconst { io } = require(\"socket.io-client\");\n\n// Connect to the server (ensure your server is running on localhost:3000)\nconst socket = io(\"http://localhost:3000\", {\n  transports: [\"websocket\"],\n});\n\n// Specify the room to join\nconst roomId = \"testRoom\";\n\nsocket.on(\"connect\", () => {\n  console.log(\"Connected to server with socket ID:\", socket.id);\n  console.log(`Joining room: ${roomId}`);\n  socket.emit(\"joinRoom\", roomId);\n  //socket.emit(\"send-message\", \"Hello, world!\", roomId);\n});\n\nsocket.on(\"receive-message\", (message) => {\n    console.log(\"Received message:\", message);\n  });","size_bytes":604},"start-mysql.sh":{"content":"#!/bin/bash\n\n# MySQL data directory\nMYSQL_DIR=\"/home/runner/.mysql\"\nSOCKET_PATH=\"/tmp/mysql.sock\"\nPID_FILE=\"/tmp/mysql.pid\"\n\n# Create data directory if it doesn't exist\nif [ ! -d \"$MYSQL_DIR\" ]; then\n    echo \"Initializing MySQL database...\"\n    mkdir -p \"$MYSQL_DIR\"\nfi\n\n# Start MySQL server\necho \"Starting MySQL server...\"\nmysqld --datadir=\"$MYSQL_DIR\" \\\n    --socket=\"$SOCKET_PATH\" \\\n    --pid-file=\"$PID_FILE\" \\\n    --bind-address=127.0.0.1 \\\n    --port=3306 \\\n    --skip-networking=0 \\\n    --innodb_use_native_aio=0 &\n\n# Wait for MySQL to start\necho \"Waiting for MySQL to start...\"\nsleep 5\n\n# Create database and user if needed\necho \"Setting up database...\"\nmysql --socket=\"$SOCKET_PATH\" -u root <<EOF\nCREATE DATABASE IF NOT EXISTS unifychat_db;\nGRANT ALL PRIVILEGES ON unifychat_db.* TO 'root'@'127.0.0.1' IDENTIFIED BY 'suhana2005';\nGRANT ALL PRIVILEGES ON unifychat_db.* TO 'root'@'localhost' IDENTIFIED BY 'suhana2005';\nFLUSH PRIVILEGES;\nEOF\n\necho \"MySQL is ready!\"\n","size_bytes":975},"backend/models/dbModel.js":{"content":"const mysql = require('mysql2/promise');\nrequire('dotenv').config();\n\nconst db = mysql.createPool({\n  host: process.env.DB_HOST,\n  user: process.env.DB_USER,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  port: 3306,\n  waitForConnections: true,\n  connectionLimit: 10,\n  queueLimit: 0\n});\n\n(async () => {\n  try {\n    const connection = await db.getConnection();\n    console.log('Connected to MySQL database');\n    connection.release();\n  } catch (err) {\n    console.error('Database connection failed:', err);\n    process.exit(1);\n  }\n})();\n\nmodule.exports = db;\n","size_bytes":586},"replit.md":{"content":"# UnifyChat - Real-Time Multilingual Chat Application\n\n## Overview\n\nUnifyChat is a real-time group chat web application that automatically translates messages into each participant's preferred language. The application enables seamless cross-language communication using WebSocket connections for instant messaging and Azure AI services for translation and speech-to-text capabilities.\n\nThe system consists of a React frontend (Vite + Tailwind CSS) and a Node.js/Express backend with Socket.IO for real-time communication. Messages are stored in their original language and translated on-demand for each recipient based on their language preference.\n\n## User Preferences\n\nPreferred communication style: Simple, everyday language.\n\n## System Architecture\n\n### Frontend Architecture\n\n**Technology Stack:**\n- **Framework:** React 19 with Vite as the build tool\n- **Styling:** Tailwind CSS with custom design system (primary, secondary, accent color schemes)\n- **State Management:** React Redux for global state, React Hook Form for form handling\n- **Real-time Communication:** Socket.IO client for WebSocket connections\n- **Routing:** React Router DOM v7 for navigation\n- **Animations:** Framer Motion for UI transitions\n\n**Design Patterns:**\n- Component-based architecture with reusable UI components (Button, Input, Card, Modal, Badge, Avatar)\n- Custom styling system with utility classes and design tokens defined in CSS variables\n- Responsive design with mobile-first approach using Tailwind breakpoints\n- Dark mode support with CSS class-based theming\n\n**Key Frontend Features:**\n- Google OAuth integration using `@react-oauth/google`\n- JWT token decoding and session management\n- Toast notifications for user feedback using `react-toastify`\n- Speech-to-text integration using Microsoft Cognitive Services Speech SDK\n- File upload capabilities with visual feedback\n\n### Backend Architecture\n\n**Technology Stack:**\n- **Runtime:** Node.js with Express.js framework\n- **Database ORM:** Prisma Client for type-safe database operations\n- **Real-time:** Socket.IO for WebSocket server implementation\n- **Authentication:** Passport.js with Google OAuth2 strategy, JWT for session tokens\n- **File Handling:** Multer for file uploads with size limits (10MB) and type validation\n\n**Design Patterns:**\n- RESTful API design for HTTP endpoints\n- WebSocket rooms for chat organization\n- Middleware-based request processing (CORS, session, authentication)\n- Controller-based route handling separating business logic from routing\n- Service layer pattern for external API integrations (Azure services)\n\n**Database Schema (Prisma-managed):**\n- **User:** Stores user profiles (email, given_name, profile_picture, password for manual signup)\n- **ChatRoom:** Room metadata (name, description, admin_id, avatar_color, avatar_text, last_message)\n- **Message:** Chat messages (content, created_by, chat_id, timestamps)\n- **ChatRoomRead:** Tracks read/unread status per user per room\n- **Member relationships:** Tracks room membership with status (pending, approved, rejected)\n\n**Authentication Flow:**\n- Google OAuth2 for social login with UUID v5 generation for consistent user IDs\n- JWT-based session tokens with configurable expiration\n- Manual signup/login with bcrypt password hashing\n- Passport session serialization for OAuth flows\n\n**Real-time Communication:**\n- Socket.IO rooms map to chat rooms\n- Authentication via handshake with userId\n- Events: `joinRoom`, `send-message`, `receive-message`, `disconnect`\n- Messages broadcast to room members except sender\n\n**API Structure:**\n- `/auth/*` - User authentication (signup, login, Google OAuth callbacks)\n- `/rooms/*` - Chat room CRUD operations, membership management\n- `/rooms/:roomId/messages` - Message creation and retrieval with pagination\n- Static file serving from `/uploads` directory\n\n### Translation & AI Services\n\n**Azure Translator Integration:**\n- Real-time message translation using Azure Cognitive Services Translator API\n- Automatic language detection (empty 'from' parameter)\n- Translation to target language specified per user preference\n- Request tracing with UUID v4 for debugging\n\n**Azure Speech Service:**\n- Speech-to-text conversion on frontend using Microsoft Cognitive Services Speech SDK\n- Enables voice input for messages\n\n**Design Decision - Translation Approach:**\n- **Problem:** Need to support multiple languages per chat room with different user preferences\n- **Solution:** Store original message once, translate on-demand per recipient's language\n- **Pros:** Reduces storage, maintains message integrity, allows language preference changes\n- **Cons:** Additional API calls per message per recipient (mitigated by caching potential)\n\n### Security Considerations\n\n**Authentication Security:**\n- JWT tokens with expiration for stateless authentication\n- Bcrypt password hashing (12 salt rounds) for manual signups\n- Google OAuth2 for trusted identity verification\n- Session secrets stored in environment variables\n\n**Data Protection:**\n- CORS configured with credentials support\n- Express session with secret-based signing\n- File upload validation (type and size restrictions)\n- COOP and COEP headers for resource isolation\n\n**Authorization:**\n- Admin-only operations checked via database queries\n- Room membership verification before message access\n- User-specific read status tracking\n\n### Performance Optimizations\n\n**Message Loading:**\n- Lazy loading with pagination for message history\n- Scroll-based infinite loading to reduce initial payload\n- Last message caching in ChatRoom table for room list preview\n\n**Database Operations:**\n- Connection pooling with mysql2 (10 connection limit)\n- Prisma ORM for optimized queries\n- Batch updates for read status across multiple users\n\n**File Handling:**\n- 10MB file size limit to prevent abuse\n- Disk-based storage with UUID filenames to prevent conflicts\n- Static file serving through Express for efficient delivery\n\n## External Dependencies\n\n### Third-Party Services\n\n**Azure Cognitive Services:**\n- **Azure Translator API:** Real-time text translation with auto-detection\n  - Configuration: API key and location/region stored in environment\n  - Endpoint: `https://api.cognitive.microsofttranslator.com`\n  \n- **Azure Speech Service:** Speech-to-text conversion\n  - SDK integration on frontend via `microsoft-cognitiveservices-speech-sdk`\n\n**Google OAuth2:**\n- Client ID and secret for OAuth authentication\n- Callback URL: `http://localhost:3000/auth/google/callback`\n- Scopes: profile and email\n\n### Database\n\n**Database System:** \n- Originally configured for MySQL/MariaDB (mysql2 driver)\n- Prisma ORM supports multiple databases (PostgreSQL, MySQL, SQLite)\n- Current setup uses Azure Cosmos DB for PostgreSQL as mentioned in README\n- Connection pooling configured with 10 concurrent connections\n\n**Schema Management:**\n- Prisma migrations for schema version control\n- Type-safe database client generation\n- Environment-based configuration (DB_HOST, DB_USER, DB_PASSWORD, DB_NAME)\n\n### NPM Packages\n\n**Frontend Dependencies:**\n- `socket.io-client` - WebSocket client for real-time communication\n- `axios` - HTTP client for API requests\n- `react-router-dom` - Client-side routing\n- `react-redux` - Global state management\n- `@react-oauth/google` - Google sign-in integration\n- `jwt-decode` - JWT token parsing\n- `framer-motion` - Animation library\n- `react-toastify` - Toast notifications\n- `react-hook-form` - Form state management\n- `microsoft-cognitiveservices-speech-sdk` - Speech recognition\n\n**Backend Dependencies:**\n- `socket.io` - WebSocket server\n- `express` - Web framework\n- `@prisma/client` - Database ORM client\n- `passport` & `passport-google-oauth20` - Authentication\n- `jsonwebtoken` - JWT creation and verification\n- `bcryptjs` - Password hashing\n- `multer` - File upload handling\n- `uuid` - Unique identifier generation\n- `axios` - HTTP client for Azure API calls\n- `cors` - Cross-origin resource sharing\n- `express-session` - Session middleware\n\n### Development Tools\n\n- **Vite:** Fast build tool and dev server (port 5000 configured)\n- **ESLint:** Code linting with React-specific rules\n- **Tailwind CSS:** Utility-first CSS framework with PostCSS\n- **Nodemon:** Auto-restart for backend development\n- **GitHub Copilot:** AI-assisted development (mentioned in README)\n\n### Environment Configuration\n\nRequired environment variables:\n- `GOOGLE_CLIENT_ID`, `GOOGLE_CLIENT_SECRET` - OAuth credentials\n- `JWT_SECRET`, `JWT_EXPIRES_IN` - Token configuration\n- `SESSION_SECRET` - Session signing\n- `AZURE_TRANS_KEY`, `AZURE_TRANS_LOCATION` - Translation API\n- `DB_HOST`, `DB_USER`, `DB_PASSWORD`, `DB_NAME` - Database connection\n- `PORT` - Server port (default 3000)\n- `VITE_API_BASE_URL` - Frontend API endpoint (optional)","size_bytes":8754},"src/components/chatroom/Data.jsx":{"content":"export const CHATS_DATA = [\n  {\n    id: 1,\n    name: \"Group 1\",\n    avatarColor: \"bg-green-400\",\n    avatarText: \"G\",\n    lastMessage: \"User: Hello, there!...\",\n    time: \"30m\",\n    unread: false,\n    isActive: true,\n    info: \"2 Members\",\n  },\n  {\n    id: 2,\n    name: \"Chat 2\",\n    avatarColor: \"bg-cyan-400\",\n    avatarText: \"C\",\n    lastMessage: \"You: hello\",\n    time: \"32m\",\n    unread: false,\n  },\n  {\n    id: 3,\n    name: \"Chat 3\",\n    avatarColor: \"bg-cyan-600\",\n    avatarText: \"C\",\n    lastMessage: \"You: hello\",\n    time: \"35m\",\n    unread: false,\n  },\n  {\n    id: 4,\n    name: \"Chat 4\",\n    avatarColor: \"bg-yellow-400\",\n    avatarText: \"C\",\n    lastMessage: \"User: hello\",\n    time: \"40m\",\n    unread: false,\n  },\n  {\n    id: 5,\n    name: \"Chat 5\",\n    avatarColor: \"bg-yellow-300\",\n    avatarText: \"C\",\n    lastMessage: \"User: hello\",\n    time: \"50m\",\n    unread: false,\n  },\n  {\n    id: 6,\n    name: \"Chat 6\",\n    avatarColor: \"bg-blue-400\",\n    avatarText: \"C\",\n    lastMessage: \"User: hello\",\n    time: \"1h\",\n    unread: false,\n  },\n  {\n    id: 7,\n    name: \"Chat 7\",\n    avatarColor: \"bg-yellow-400\",\n    avatarText: \"C\",\n    lastMessage: \"User: hello\",\n    time: \"2h\",\n    unread: true,\n  },\n];\n\nexport const MESSAGES_CHAT_1 = [\n  {\n    id: 1,\n    content: \"Hello, there! How are you doing?\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 2,\n    content: \"Would you like to learn about...\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 3,\n    content: \"Your car's extended warranty?\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  { id: 4, content: \"My car's extended warranty...?\", fromUser: true },\n  {\n    id: 5,\n    content: \"You heard that right! Attaboy!\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 6,\n    content: \"We are a car service provider\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 7,\n    content:\n      \"with over 20 years of experience across all things car-related! This text is supposed to be long for demonstration purposes so I am just going to yap all over here. Our car services cover everything for anything that moves! Would you believe it? That includes you!! How amazing, is it not? Our service is wonderful! In fact, I was a professional musical composer before I took on a job as a car salesman here and I found that being a car salesman was my actual dream-come-true. I wrote over 90 songs praising our car shop. You can look it up!\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 8,\n    content: \"Yay!\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n    // typing: true,\n  },\n];\n\nexport const MESSAGES_CHAT_2 = [\n  {\n    id: 1,\n    content: \"Welcome to Chat 2!\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-400\",\n  },\n  { id: 2, content: \"Hello, nice to meet you!\", fromUser: true },\n  {\n    id: 3,\n    content: \"Are you interested in our latest product updates?\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-400\",\n  },\n  { id: 4, content: \"Yes, I'd like to know more\", fromUser: true },\n];\n\nexport const MESSAGES_CHAT_3 = [\n  {\n    id: 1,\n    content: \"This is a technical support chat\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-600\",\n  },\n  { id: 2, content: \"I'm having issues with my account\", fromUser: true },\n  {\n    id: 3,\n    content: \"I'll help you troubleshoot. What's the specific problem?\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-600\",\n  },\n];\n\nexport const MESSAGES_CHAT_4 = [\n  {\n    id: 1,\n    content: \"Project Discussion - Website Redesign\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-400\",\n  },\n  {\n    id: 2,\n    content: \"I've completed the initial mockups\",\n    fromUser: true,\n  },\n  {\n    id: 3,\n    content: \"Great! Let's schedule a review meeting tomorrow\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-400\",\n  },\n];\n\nexport const MESSAGES_CHAT_5 = [\n  {\n    id: 1,\n    content: \"Good morning team!\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-300\",\n  },\n  {\n    id: 2,\n    content: \"Good morning!\",\n    fromUser: true,\n  },\n];\n\nexport const MESSAGES_CHAT_6 = [\n  {\n    id: 1,\n    content: \"Marketing Campaign Discussion\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-400\",\n  },\n  {\n    id: 2,\n    content: \"I've analyzed the latest metrics\",\n    fromUser: true,\n  },\n  {\n    id: 3,\n    content: \"What insights did you find?\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-400\",\n  },\n];\n\nexport const MESSAGES_CHAT_7 = [\n  {\n    id: 1,\n    content: \"New product launch meeting\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-400\",\n  },\n  {\n    id: 2,\n    content: \"Is everyone prepared for the launch next week?\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-400\",\n  },\n];\n\nexport const ALL_MESSAGES = {\n  1: MESSAGES_CHAT_1,\n  2: MESSAGES_CHAT_2,\n  3: MESSAGES_CHAT_3,\n  4: MESSAGES_CHAT_4,\n  5: MESSAGES_CHAT_5,\n  6: MESSAGES_CHAT_6,\n  7: MESSAGES_CHAT_7,\n};\n","size_bytes":5246},"src/components/chatroom/ChatWindow.jsx":{"content":"import React, { useEffect, useRef, useState } from \"react\";\nimport {\n  AudioConfig,\n  SpeechConfig,\n  SpeechRecognizer,\n} from \"microsoft-cognitiveservices-speech-sdk\";\nimport { AvatarChat, AvatarPerson } from \"./ReusableComponents\";\nimport {\n  IconButton,\n  ThemeToggle,\n  DateSeparator,\n  TypingIndicator,\n  Avatar,\n  Badge,\n  Tooltip,\n} from \"../ui/ThemeAwareComponents\";\nimport {\n  FaBars,\n  FaGlobe,\n  FaImage,\n  FaInfoCircle,\n  FaMicrophone,\n  FaPaperclip,\n  FaPaperPlane,\n  FaRegStopCircle,\n  FaSearch,\n  FaEllipsisV,\n  FaTrash,\n  FaReply,\n  FaSmile,\n} from \"react-icons/fa\";\nimport { languages } from \"../../constants\";\n\nconst MessageBubble = ({ message, currentUserId, currentChat, onDelete }) => {\n  const [showActions, setShowActions] = useState(false);\n  const isSent = message?.created_by === currentUserId;\n  const sender = message?.sender;\n  \n  const formatTime = (timestamp) => {\n    if (!timestamp) return \"\";\n    return new Date(timestamp).toLocaleTimeString([], {\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  return (\n    <div\n      className={`flex mb-4 animate-slide-up ${\n        isSent ? \"justify-end\" : \"justify-start\"\n      }`}\n      onMouseEnter={() => setShowActions(true)}\n      onMouseLeave={() => setShowActions(false)}\n    >\n      <div className={`flex gap-2 max-w-[70%] ${isSent ? 'flex-row-reverse' : 'flex-row'}`}>\n        {!isSent && (\n          <div className=\"flex-shrink-0\">\n            <Avatar \n              src={sender?.profile_picture} \n              alt={sender?.given_name}\n              fallback={sender?.given_name?.charAt(0)}\n              size=\"sm\"\n            />\n          </div>\n        )}\n        \n        <div className={`flex flex-col ${isSent ? 'items-end' : 'items-start'}`}>\n          {!isSent && (\n            <span className=\"font-['Inter'] text-xs text-brand-grey-600 dark:text-brand-grey-400 mb-1 px-2\">\n              {sender?.given_name}\n            </span>\n          )}\n          \n          <div className=\"relative group\">\n            <div\n              className={`\n                font-['Inter'] rounded-2xl p-3 break-words whitespace-pre-wrap\n                ${isSent \n                  ? 'message-bubble-sent' \n                  : 'message-bubble-received'\n                }\n              `}\n            >\n              {message?.content}\n              <div className={`font-['Inter'] text-xs mt-1 flex items-center gap-1 ${\n                isSent ? 'text-brand-grey-700' : 'text-brand-grey-500 dark:text-brand-grey-400'\n              }`}>\n                <span>{formatTime(message?.created_at)}</span>\n                {isSent && message?.read && (\n                  <span className=\"text-success\">âœ“âœ“</span>\n                )}\n              </div>\n            </div>\n            \n            {showActions && (\n              <div className={`absolute top-0 ${isSent ? 'right-full mr-2' : 'left-full ml-2'} flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity`}>\n                <Tooltip content=\"React\">\n                  <button className=\"btn-icon p-2 text-xs\">\n                    <FaSmile />\n                  </button>\n                </Tooltip>\n                <Tooltip content=\"Reply\">\n                  <button className=\"btn-icon p-2 text-xs\">\n                    <FaReply />\n                  </button>\n                </Tooltip>\n                {isSent && (\n                  <Tooltip content=\"Delete\">\n                    <button \n                      onClick={() => onDelete?.(message.id)}\n                      className=\"btn-icon p-2 text-xs text-error\"\n                    >\n                      <FaTrash />\n                    </button>\n                  </Tooltip>\n                )}\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ChatHeader = ({\n  currentChat,\n  toggleSidebar,\n  toggleChatInfo,\n  showChatInfo,\n  language,\n  setLanguage,\n  onSearch,\n}) => {\n  const [showLangSelector, setShowLangSelector] = useState(false);\n  const [showMenu, setShowMenu] = useState(false);\n  \n  return (\n    <header className=\"px-6 py-4 border-b border-brand-grey-200 dark:border-brand-grey-light bg-brand-white dark:bg-brand-grey-medium flex-shrink-0\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n          <button\n            className=\"md:hidden btn-icon p-2\"\n            onClick={toggleSidebar}\n            aria-label=\"Toggle sidebar\"\n          >\n            <FaBars />\n          </button>\n\n          <AvatarChat\n            color={currentChat?.avatar_color}\n            text={currentChat?.avatar_text}\n          />\n          \n          <div className=\"flex-1 min-w-0\">\n            <h2 className=\"font-['Montserrat'] font-bold text-lg text-brand-grey-dark dark:text-brand-white truncate\">\n              {currentChat?.name}\n            </h2>\n            <div className=\"flex items-center gap-2\">\n              <p className=\"font-['Inter'] text-sm text-brand-grey-600 dark:text-brand-grey-400 truncate\">\n                {currentChat?.member_count || 0} members\n              </p>\n              {currentChat?.is_typing && (\n                <span className=\"font-['Inter'] text-sm text-brand-yellow\">\n                  typing...\n                </span>\n              )}\n            </div>\n          </div>\n        </div>\n        \n        <div className=\"flex items-center gap-2\">\n          <Tooltip content=\"Search messages\">\n            <IconButton\n              icon={<FaSearch />}\n              onClick={onSearch}\n              ariaLabel=\"Search messages\"\n            />\n          </Tooltip>\n          \n          <div className=\"relative\">\n            <Tooltip content=\"Translation\">\n              <IconButton\n                icon={<FaGlobe />}\n                onClick={() => setShowLangSelector(!showLangSelector)}\n                ariaLabel=\"Select language\"\n              />\n            </Tooltip>\n            \n            {showLangSelector && (\n              <div className=\"absolute right-0 top-full mt-2 bg-brand-white dark:bg-brand-grey-medium rounded-2xl shadow-large border border-brand-grey-200 dark:border-brand-grey-light p-2 z-50 min-w-[200px]\">\n                <select\n                  value={language}\n                  onChange={(e) => {\n                    setLanguage(e.target.value);\n                    setShowLangSelector(false);\n                  }}\n                  className=\"w-full input-modern text-sm\"\n                  aria-label=\"Select translation language\"\n                >\n                  {languages.map((lang, i) => (\n                    <option key={i} value={lang.code}>\n                      {lang.language}\n                    </option>\n                  ))}\n                </select>\n              </div>\n            )}\n          </div>\n          \n          <ThemeToggle />\n          \n          <Tooltip content={showChatInfo ? \"Hide info\" : \"Show info\"}>\n            <IconButton\n              icon={<FaInfoCircle />}\n              onClick={toggleChatInfo}\n              className={showChatInfo ? \"bg-brand-yellow/20\" : \"\"}\n              ariaLabel={showChatInfo ? \"Hide chat info\" : \"Show chat info\"}\n            />\n          </Tooltip>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nconst MessageComposer = ({\n  newMessage,\n  setNewMessage,\n  onSendMessage,\n  onFileUpload,\n  onImageUpload,\n  isRecording,\n  onRecordStart,\n  onRecordStop,\n}) => {\n  const fileInputRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\" && (e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      onSendMessage();\n    }\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      onFileUpload(file);\n      e.target.value = \"\";\n    }\n  };\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith(\"image/\")) {\n      onImageUpload?.(file);\n      e.target.value = \"\";\n    }\n  };\n\n  useEffect(() => {\n    if (textareaRef.current) {\n      textareaRef.current.style.height = 'auto';\n      textareaRef.current.style.height = textareaRef.current.scrollHeight + 'px';\n    }\n  }, [newMessage]);\n\n  return (\n    <div className=\"px-6 py-4 bg-brand-white dark:bg-brand-grey-medium border-t border-brand-grey-200 dark:border-brand-grey-light flex-shrink-0\">\n      <div className=\"flex items-end gap-3\">\n        <input\n          type=\"file\"\n          ref={fileInputRef}\n          className=\"hidden\"\n          onChange={handleFileChange}\n          aria-label=\"Upload file\"\n        />\n        <input\n          type=\"file\"\n          ref={imageInputRef}\n          className=\"hidden\"\n          accept=\"image/*\"\n          onChange={handleImageChange}\n          aria-label=\"Upload image\"\n        />\n\n        <div className=\"flex gap-1\">\n          <Tooltip content=\"Attach file\">\n            <IconButton\n              icon={<FaPaperclip />}\n              onClick={() => fileInputRef.current.click()}\n              ariaLabel=\"Attach file\"\n            />\n          </Tooltip>\n          \n          <Tooltip content=\"Attach image\">\n            <IconButton\n              icon={<FaImage />}\n              onClick={() => imageInputRef.current.click()}\n              ariaLabel=\"Attach image\"\n            />\n          </Tooltip>\n          \n          <Tooltip content={isRecording ? \"Stop recording\" : \"Voice message\"}>\n            <IconButton\n              icon={isRecording ? <FaRegStopCircle className=\"text-error\" /> : <FaMicrophone />}\n              onClick={isRecording ? onRecordStop : onRecordStart}\n              className={isRecording ? \"bg-error/10\" : \"\"}\n              ariaLabel={isRecording ? \"Stop recording\" : \"Start voice recording\"}\n            />\n          </Tooltip>\n        </div>\n\n        <div className=\"flex-1 relative\">\n          <textarea\n            ref={textareaRef}\n            className=\"w-full px-4 py-3 bg-brand-grey-50 dark:bg-brand-grey-light rounded-2xl\n                     border-none text-brand-grey-dark dark:text-brand-white font-['Inter']\n                     placeholder:text-brand-grey-500 dark:placeholder:text-brand-grey-300\n                     focus:outline-none focus:ring-2 focus:ring-brand-yellow/50\n                     transition-all duration-200 resize-none max-h-32 scrollbar-custom\"\n            placeholder=\"Type a message... (Ctrl+Enter to send)\"\n            value={newMessage}\n            onChange={(e) => setNewMessage(e.target.value)}\n            onKeyDown={handleKeyPress}\n            rows={1}\n            aria-label=\"Message input\"\n          />\n        </div>\n\n        <Tooltip content=\"Send message\">\n          <button\n            onClick={onSendMessage}\n            disabled={!newMessage.trim()}\n            className={`p-3 rounded-full transition-all duration-200 ${\n              newMessage.trim()\n                ? 'bg-brand-yellow hover:bg-brand-yellow-light text-brand-grey-dark active:scale-95'\n                : 'bg-brand-grey-200 dark:bg-brand-grey-600 text-brand-grey-500 cursor-not-allowed'\n            }`}\n            aria-label=\"Send message\"\n          >\n            <FaPaperPlane className=\"text-lg\" />\n          </button>\n        </Tooltip>\n      </div>\n    </div>\n  );\n};\n\nconst ChatWindow = ({\n  messages = [],\n  currentChat,\n  newMessage,\n  setNewMessage,\n  onSendMessage,\n  messageContainerRef,\n  toggleSidebar,\n  toggleChatInfo,\n  showChatInfo,\n  onFileUpload,\n  onImageUpload,\n  onLoadMoreMessages,\n  currentUserId,\n  onDeleteMessage,\n}) => {\n  const [language, setLanguage] = useState(\"en\");\n  const [isRecording, setIsRecording] = useState(false);\n  const [translatedMessages, setTranslatedMessages] = useState([]);\n  const [isTyping, setIsTyping] = useState(false);\n  \n  const speechKey = import.meta.env.VITE_TRANS_KEY;\n  const speechRegion = import.meta.env.VITE_SPEECH_REGION;\n  const recognizerRef = useRef(null);\n\n  useEffect(() => {\n    const container = messageContainerRef.current;\n    if (!container) return;\n\n    const handleScroll = () => {\n      if (container.scrollTop < 100 && currentChat?.id) {\n        onLoadMoreMessages(currentChat.id);\n      }\n    };\n\n    container.addEventListener(\"scroll\", handleScroll);\n    return () => container.removeEventListener(\"scroll\", handleScroll);\n  }, [currentChat, onLoadMoreMessages]);\n\n  const handleSpeechToTextStart = () => {\n    if (!speechKey || !speechRegion) {\n      console.error(\"Speech configuration missing\");\n      return;\n    }\n    \n    const speechConfig = SpeechConfig.fromSubscription(speechKey, speechRegion);\n    const audioConfig = AudioConfig.fromDefaultMicrophoneInput();\n    speechConfig.setProperty(\"speechServiceConnection_Language\", \"auto\");\n    const recognizer = new SpeechRecognizer(speechConfig, audioConfig);\n\n    recognizerRef.current = recognizer;\n    setIsRecording(true);\n\n    recognizer.startContinuousRecognitionAsync(\n      () => {},\n      (err) => {\n        console.error(err);\n        setIsRecording(false);\n      }\n    );\n\n    recognizer.recognizing = (s, e) => {\n      setNewMessage(e.result.text);\n    };\n  };\n\n  const handleSpeechToTextStop = () => {\n    if (recognizerRef.current) {\n      recognizerRef.current.stopContinuousRecognitionAsync(\n        () => {\n          setIsRecording(false);\n        },\n        (err) => {\n          console.error(err);\n          setIsRecording(false);\n        }\n      );\n    }\n  };\n\n  const translateText = async (text, targetLanguage) => {\n    try {\n      const response = await fetch(\n        `https://api.cognitive.microsofttranslator.com//translate?api-version=3.0&to=${targetLanguage}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Ocp-Apim-Subscription-Key\": import.meta.env.VITE_TRANS_KEY,\n            \"Ocp-Apim-Subscription-Region\": import.meta.env.VITE_TRANS_REGION,\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify([{ Text: text }]),\n        }\n      );\n      const data = await response.json();\n      return data[0].translations[0].text;\n    } catch (error) {\n      console.error(\"Translation Error:\", error);\n      return text;\n    }\n  };\n\n  useEffect(() => {\n    const translateIncomingMessages = async () => {\n      if (language === \"en\") {\n        setTranslatedMessages(messages);\n        return;\n      }\n      \n      const updatedMessages = await Promise.all(\n        messages.map(async (message) => {\n          if (message?.language !== language) {\n            const translatedContent = await translateText(\n              message?.content,\n              language\n            );\n            return { ...message, content: translatedContent };\n          }\n          return message;\n        })\n      );\n      setTranslatedMessages(updatedMessages);\n    };\n\n    translateIncomingMessages();\n  }, [language, messages]);\n\n  const groupedMessages = React.useMemo(() => {\n    const groups = [];\n    translatedMessages.forEach((message, i) => {\n      const currentDate = new Date(message.created_at);\n      const prevMessage = i > 0 ? translatedMessages[i - 1] : null;\n      const prevDate = prevMessage ? new Date(prevMessage.created_at) : null;\n\n      const shouldShowDateSeparator =\n        i === 0 ||\n        currentDate.getFullYear() !== prevDate.getFullYear() ||\n        currentDate.getMonth() !== prevDate.getMonth() ||\n        currentDate.getDate() !== prevDate.getDate();\n\n      if (shouldShowDateSeparator) {\n        groups.push({\n          type: 'date',\n          date: currentDate.toLocaleDateString(\"en-US\", {\n            month: \"long\",\n            day: \"numeric\",\n            year: \"numeric\",\n          }),\n        });\n      }\n\n      groups.push({\n        type: 'message',\n        data: message,\n      });\n    });\n    return groups;\n  }, [translatedMessages]);\n\n  return (\n    <div className=\"flex-1 flex flex-col h-full bg-brand-white dark:bg-brand-grey-dark\">\n      <ChatHeader\n        currentChat={currentChat}\n        toggleSidebar={toggleSidebar}\n        toggleChatInfo={toggleChatInfo}\n        showChatInfo={showChatInfo}\n        language={language}\n        setLanguage={setLanguage}\n      />\n\n      <div \n        className=\"flex-1 overflow-y-auto px-6 py-4 scrollbar-custom\" \n        ref={messageContainerRef}\n      >\n        {groupedMessages.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-full text-center\">\n            <div className=\"text-6xl mb-4\">ðŸ’¬</div>\n            <h3 className=\"font-['Montserrat'] font-semibold text-brand-grey-dark dark:text-brand-white mb-2\">\n              No messages yet\n            </h3>\n            <p className=\"font-['Inter'] text-sm text-brand-grey-600 dark:text-brand-grey-400\">\n              Start the conversation by sending a message\n            </p>\n          </div>\n        ) : (\n          <>\n            {groupedMessages.map((item, index) => {\n              if (item.type === 'date') {\n                return <DateSeparator key={`date-${index}`} date={item.date} />;\n              }\n              return (\n                <MessageBubble\n                  key={item.data.id || index}\n                  message={item.data}\n                  currentUserId={currentUserId}\n                  currentChat={currentChat}\n                  onDelete={onDeleteMessage}\n                />\n              );\n            })}\n            {isTyping && (\n              <div className=\"flex justify-start mb-4\">\n                <TypingIndicator />\n              </div>\n            )}\n          </>\n        )}\n      </div>\n\n      <MessageComposer\n        newMessage={newMessage}\n        setNewMessage={setNewMessage}\n        onSendMessage={onSendMessage}\n        onFileUpload={onFileUpload}\n        onImageUpload={onImageUpload}\n        isRecording={isRecording}\n        onRecordStart={handleSpeechToTextStart}\n        onRecordStop={handleSpeechToTextStop}\n      />\n    </div>\n  );\n};\n\nexport default ChatWindow;\n","size_bytes":17930},"backend/config/db.config.js":{"content":"const mysql = require('mysql2');\nrequire('dotenv').config();\n\nconst db = mysql.createConnection({\n  host: process.env.DB_HOST,\n  user: process.env.DB_USER,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  port: 3306,\n});\n\ndb.connect((err) => {\n  if (err) {\n    console.error('Database connection failed:', err);\n    process.exit(1);\n  }\n  console.log('Connected to MySQL database');\n});\n\nmodule.exports = db;\n","size_bytes":432},"src/components/chatroom/WaitingApproval.jsx":{"content":"import React from \"react\";\nimport { FaHourglassHalf } from \"react-icons/fa\";\n\nconst WaitingApproval = ({ chatName }) => {\n  return (\n    <div className=\"flex-1 flex flex-col items-center justify-center bg-gray-50 mt-20\">\n      <div className=\"text-center p-8 max-w-md\">\n        <div className=\"flex justify-center mb-4\">\n          <div className=\"w-16 h-16 border border-[5px] border-[#ECE17F] rounded-full flex items-center justify-center\">\n            <FaHourglassHalf size={32} className=\"text-[#EEBF2D]\" />\n          </div>\n        </div>\n        <h2 className=\"text-2xl font-bold mb-2 font-['Montserrat']\">\n          Waiting for Approval\n        </h2>\n        <p className=\"text-gray-900 mb-6 font-['Inter']\">\n          Your request to join <strong>\"{chatName}\"</strong> has been submitted.\n          You'll be able to view messages once an admin approves your request.\n        </p>\n        <div className=\"flex justify-center\">\n          <div className=\"flex space-x-2 mt-4\">\n            <div\n              className=\"h-3 w-3 bg-[#EEBF2D] rounded-full animate-bounce\"\n              style={{ animationDelay: \"0ms\" }}\n            ></div>\n            <div\n              className=\"h-3 w-3 bg-[#EEBF2D] rounded-full animate-bounce\"\n              style={{ animationDelay: \"300ms\" }}\n            ></div>\n            <div\n              className=\"h-3 w-3 bg-[#EEBF2D] rounded-full animate-bounce\"\n              style={{ animationDelay: \"600ms\" }}\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WaitingApproval;\n","size_bytes":1563},"vite.config.js":{"content":"import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\n\n// https://vite.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  server: {\n    host: '0.0.0.0',\n    port: 5000,\n    allowedHosts: true\n  }\n})\n","size_bytes":237},"src/pages/Help.jsx":{"content":"import React from \"react\";\nimport Contact from \"../components/home/Contact\";\nimport NavBar from \"../components/NavBar\";\nimport Footer from \"../components/Footer\";\nimport { styles } from \"../styles\";\n\nconst Help = () => {\n  return (\n    <div>\n      <NavBar />\n      <div className={`${styles.paddingY}`}>\n        <Contact />\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Help;\n","size_bytes":395},"src/components/ui/Badge.jsx":{"content":"import React from 'react';\n\nconst Badge = ({ \n  children, \n  variant = 'default',\n  size = 'md',\n  className = '',\n  ...props \n}) => {\n  const baseStyles = 'inline-flex items-center justify-center font-medium rounded-full';\n  \n  const variants = {\n    default: 'bg-neutral-100 text-neutral-700',\n    primary: 'bg-primary-100 text-primary-700',\n    accent: 'bg-accent-100 text-accent-700',\n    success: 'bg-success/10 text-success',\n    warning: 'bg-warning/10 text-warning',\n    error: 'bg-error/10 text-error',\n    gradient: 'bg-gradient-to-r from-primary-600 to-accent-600 text-white',\n  };\n  \n  const sizes = {\n    sm: 'px-2 py-0.5 text-xs',\n    md: 'px-3 py-1 text-sm',\n    lg: 'px-4 py-1.5 text-base',\n  };\n  \n  return (\n    <span\n      className={`\n        ${baseStyles}\n        ${variants[variant]}\n        ${sizes[size]}\n        ${className}\n      `}\n      {...props}\n    >\n      {children}\n    </span>\n  );\n};\n\nexport default Badge;\n","size_bytes":942},"backend/utils/room.js":{"content":"const MemberStatus = Object.freeze({\n  PENDING: 'pending',\n  APPROVED: 'approved',\n  REJECTED: 'rejected',\n});\n\nmodule.exports = MemberStatus;\n","size_bytes":143},"backend/test/testUser1.js":{"content":"// testJoinRoom1.js\nconst { io } = require(\"socket.io-client\");\n\n// Connect to the server (ensure your server is running on localhost:3000)\nconst socket = io(\"http://localhost:3000\", {\n  transports: [\"websocket\"],\n});\n\n// Specify the room to join\nconst roomId = \"testRoom1\";\n\nsocket.on(\"connect\", () => {\n  console.log(\"Connected to server with socket ID:\", socket.id);\n  console.log(`Joining room: ${roomId}`);\n  socket.emit(\"joinRoom\", roomId);\n  socket.emit(\"send-message\", \"Hello, world!\", roomId);\n});\n\nsocket.on(\"receive-message\", (message) => {\n  console.log(\"Received message:\", message);\n});","size_bytes":600},"src/pages/Signup.jsx":{"content":"import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport {\n  showToastError,\n  showToastSuccess,\n} from \"../components/common/ShowToast\";\nimport axios from \"axios\";\nimport { useAuth } from \"../context/authContext\";\nimport { API_BASE_URL } from \"../config/api\";\nimport { Button } from \"../components/ui\";\nimport { FaEye, FaEyeSlash, FaArrowRight, FaCheck, FaShieldAlt, FaBolt, FaUsers } from \"react-icons/fa\";\n\nconst Signup = () => {\n  const formContext = useForm();\n  const { register, handleSubmit, formState, getValues } = formContext;\n  const { errors } = formState;\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [showPasswordConfirm, setShowPasswordConfirm] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const togglePasswordVisibility = () => setShowPassword(!showPassword);\n  const togglePasswordVisibilityConfirm = () =>\n    setShowPasswordConfirm(!showPasswordConfirm);\n\n  const onSubmit = async (data) => {\n    setLoading(true);\n    try {\n      const response = await axios.post(\n        `${API_BASE_URL}/auth/signup`,\n        data\n      );\n      if (response.data?.status === \"success\") {\n        showToastSuccess(response.data?.message || \"Account created successfully\");\n        localStorage.setItem('user_id', response.data.user?.id)\n        login(response.data?.token);\n        navigate(\"/\");\n      }\n    } catch (err) {\n      showToastError(err.response?.data?.message || \"Registration failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const features = [\n    {\n      icon: FaBolt,\n      text: \"Real-time translation to 140+ languages\",\n    },\n    {\n      icon: FaShieldAlt,\n      text: \"Secure end-to-end encrypted messaging\",\n    },\n    {\n      icon: FaUsers,\n      text: \"Create unlimited group chats\",\n    },\n  ];\n\n  return (\n    <div className=\"min-h-screen grid lg:grid-cols-2 bg-neutral-50 dark:bg-slate-900 transition-colors\">\n      {/* Left Side - Branding with Unique Design */}\n      <div className=\"hidden lg:flex flex-col justify-between p-12 bg-gradient-to-br from-accent-600 via-accent-700 to-primary-600 dark:from-accent-800 dark:via-accent-900 dark:to-primary-800 relative overflow-hidden\">\n        {/* Animated Background Elements */}\n        <div className=\"absolute inset-0\">\n          <div className=\"absolute top-20 right-20 w-72 h-72 bg-white/10 rounded-full blur-3xl animate-float\"></div>\n          <div className=\"absolute bottom-32 left-20 w-96 h-96 bg-primary-500/20 rounded-full blur-3xl animate-float-delayed\"></div>\n        </div>\n        \n        {/* Logo */}\n        <div className=\"relative z-10\">\n          <div className=\"flex items-center space-x-3 cursor-pointer group\" onClick={() => navigate(\"/\")}>\n            <div className=\"p-2 bg-white/10 backdrop-blur-sm rounded-2xl group-hover:bg-white/20 transition-all\">\n              <img src={logo} alt=\"Chatlas Logo\" className=\"w-10 h-10\" />\n            </div>\n            <span className=\"text-3xl font-bold text-white\">Chat</span>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"relative z-10 space-y-8\">\n          <div className=\"space-y-4\">\n            <h1 className=\"text-5xl md:text-6xl font-bold text-white leading-tight\">\n              Join the global\n              <br />\n              <span className=\"bg-gradient-to-r from-white to-accent-100 bg-clip-text text-transparent\">\n                conversation\n              </span>\n            </h1>\n            <p className=\"text-xl text-white/90 max-w-md\">\n              Experience seamless communication without language barriers.\n            </p>\n          </div>\n\n          {/* Feature Cards */}\n          <div className=\"space-y-4\">\n            {features.map((feature, index) => (\n              <div key={index} className=\"flex items-start space-x-4 p-5 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20 hover:bg-white/15 transition-all\">\n                <div className=\"flex-shrink-0 p-3 bg-white/20 rounded-xl\">\n                  <feature.icon className=\"text-white text-xl\" />\n                </div>\n                <div className=\"flex-1\">\n                  <p className=\"text-white font-medium leading-relaxed\">{feature.text}</p>\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* User Count */}\n          <div className=\"flex items-center space-x-4 p-5 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20\">\n            <div className=\"flex -space-x-3\">\n              {[1, 2, 3, 4].map((i) => (\n                <div key={i} className=\"w-10 h-10 rounded-full bg-gradient-to-br from-white/20 to-white/10 border-2 border-white flex items-center justify-center\">\n                  <span className=\"text-white text-sm\">ðŸ‘¤</span>\n                </div>\n              ))}\n            </div>\n            <p className=\"text-white/90 font-medium\">Join 10,000+ users worldwide</p>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"relative z-10 text-white/60 text-sm\">\n          Â© 2025 UnifyChat. All rights reserved.\n        </div>\n      </div>\n\n      {/* Right Side - Sign Up Form */}\n      <div className=\"flex items-center justify-center p-6 lg:p-12\">\n        <div className=\"w-full max-w-md space-y-8 animate-fade-in\">\n          {/* Mobile Logo */}\n          <div className=\"lg:hidden flex items-center justify-center space-x-3 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg\">\n            <img src={logo} alt=\"Chatlas Logo\" className=\"w-10 h-10\" />\n            <span className=\"text-2xl font-bold text-neutral-900 dark:text-neutral-100\">UnifyChat</span>\n          </div>\n\n          {/* Header */}\n          <div className=\"text-center lg:text-left space-y-3\">\n            <h2 className=\"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100\">Create account</h2>\n            <p className=\"text-lg text-neutral-600 dark:text-neutral-400\">Start chatting across languages</p>\n          </div>\n\n          {/* Sign Up Form */}\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-5\">\n            <div>\n              <label className=\"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2\">\n                Full name\n              </label>\n              <input\n                type=\"text\"\n                placeholder=\"John Doe\"\n                className=\"w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all\"\n                {...register(\"username\", {\n                  required: \"Name is required\",\n                  minLength: {\n                    value: 2,\n                    message: \"Name must be at least 2 characters\"\n                  }\n                })}\n              />\n              {errors.username && (\n                <p className=\"mt-2 text-sm text-red-600 dark:text-red-400\">{errors.username?.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2\">\n                Email address\n              </label>\n              <input\n                type=\"email\"\n                placeholder=\"you@example.com\"\n                className=\"w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all\"\n                {...register(\"email\", {\n                  required: \"Email is required\",\n                  pattern: {\n                    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                    message: \"Invalid email address\"\n                  }\n                })}\n              />\n              {errors.email && (\n                <p className=\"mt-2 text-sm text-red-600 dark:text-red-400\">{errors.email?.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2\">\n                Password\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  placeholder=\"Create a strong password\"\n                  className=\"w-full px-4 py-3 pr-12 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all\"\n                  {...register(\"password\", {\n                    required: \"Password is required\",\n                    minLength: {\n                      value: 6,\n                      message: \"Password must be at least 6 characters\"\n                    }\n                  })}\n                />\n                <button\n                  type=\"button\"\n                  onClick={togglePasswordVisibility}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors\"\n                >\n                  {showPassword ? <FaEyeSlash size={20} /> : <FaEye size={20} />}\n                </button>\n              </div>\n              {errors.password && (\n                <p className=\"mt-2 text-sm text-red-600 dark:text-red-400\">{errors.password?.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2\">\n                Confirm password\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showPasswordConfirm ? \"text\" : \"password\"}\n                  placeholder=\"Re-enter your password\"\n                  className=\"w-full px-4 py-3 pr-12 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all\"\n                  {...register(\"passwordConfirm\", {\n                    required: \"Please confirm your password\",\n                    validate: (value) =>\n                      value === getValues(\"password\") || \"Passwords do not match\"\n                  })}\n                />\n                <button\n                  type=\"button\"\n                  onClick={togglePasswordVisibilityConfirm}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors\"\n                >\n                  {showPasswordConfirm ? <FaEyeSlash size={20} /> : <FaEye size={20} />}\n                </button>\n              </div>\n              {errors.passwordConfirm && (\n                <p className=\"mt-2 text-sm text-red-600 dark:text-red-400\">{errors.passwordConfirm?.message}</p>\n              )}\n            </div>\n\n            <div className=\"flex items-start\">\n              <input\n                type=\"checkbox\"\n                className=\"w-4 h-4 mt-1 text-primary-600 dark:text-primary-500 border-neutral-300 dark:border-neutral-600 rounded focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-slate-800\"\n                {...register(\"terms\", {\n                  required: \"You must accept the terms and conditions\"\n                })}\n              />\n              <label className=\"ml-2 text-sm text-neutral-600 dark:text-neutral-400\">\n                I agree to the{\" \"}\n                <Link to=\"/terms\" className=\"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors\">\n                  Terms of Service\n                </Link>{\" \"}\n                and{\" \"}\n                <Link to=\"/privacy\" className=\"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors\">\n                  Privacy Policy\n                </Link>\n              </label>\n            </div>\n            {errors.terms && (\n              <p className=\"text-sm text-red-600 dark:text-red-400\">{errors.terms?.message}</p>\n            )}\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full px-6 py-4 bg-gradient-to-r from-accent-600 to-primary-600 hover:from-accent-700 hover:to-primary-700 dark:from-accent-500 dark:to-primary-500 dark:hover:from-accent-600 dark:hover:to-primary-600 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-accent-500/30 dark:shadow-accent-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n            >\n              {loading ? (\n                <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\n              ) : (\n                <>\n                  <span>Create account</span>\n                  <FaArrowRight />\n                </>\n              )}\n            </button>\n          </form>\n\n          {/* Sign In Link */}\n          <div className=\"text-center pt-4\">\n            <p className=\"text-neutral-600 dark:text-neutral-400\">\n              Already have an account?{\" \"}\n              <Link to=\"/signin\" className=\"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors\">\n                Sign in\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Signup;\n","size_bytes":14435},"src/App.jsx":{"content":"import { GoogleOAuthProvider } from \"@react-oauth/google\";\nimport React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./index.css\";\nimport { Routes } from \"./routes/Routes\";\nimport CustomCursor from \"./components/common/CustomCursor\";\nconst CLIENT_ID =\n  \"275407016033-3v0na8sqo6n420e74ak2mlule5i24330.apps.googleusercontent.com\";\nconst App = () => {\n  return (\n    <GoogleOAuthProvider clientId={CLIENT_ID}>\n      <CustomCursor />\n      <Routes />\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={3000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        drggable\n        pauseOnHover\n        theme=\"colored\"\n      />\n    </GoogleOAuthProvider>\n  );\n};\n\nexport default App;\n","size_bytes":851},"README.md":{"content":"# UnifyChat Frontend\n\n## Inspiration\nUnifyChat is inspired by the growing need for seamless communication in a globalized world where language differences often create barriers. We wanted to build a tool that connects people across languagesâ€”whether for casual chats, international collaboration, or community engagementâ€”making it feel like everyone is speaking the same language.\n\n## What It Does\n\nUnifyChat is a real-time group chat web application that automatically translates messages into the preferred language of each participant. Users can create or join chat rooms via unique invitation links and communicate freely, regardless of the language they use.\n\n### Key Features\n- **Real-Time Messaging**: Powered by WebSockets (Socket.IO) for instant communication.\n- **Auto-Translation**: Messages are translated in real time using Azure AI Translator to match the recipient's language preference.\n- **Speech-to-Text**: Users can convert their voice to text using Azure Speech Service.\n- **Secure Authentication**: Sign-in and sign-up with Google OAuth, using JWT for session handling.\n- **Invite System**: Every chat room generates a unique link that users can share to invite others.\n- **Persistent History**: Rooms are persistentâ€”users can leave and return later with full message history preserved.\n- **Lazy Load Messages**: Older messages are loaded on scroll, improving performance and user experience, especially in large conversations.\n\n## How We Built It\n\nWe developed UnifyChat using a full-stack approach:\n\n- **Frontend**: React (Vite) and Tailwind CSS for UI/UX.\n- **Backend**: Node.js and Express.js handle the API and real-time socket connections.\n- **Database**: Azure Cosmos DB for PostgreSQL stores user, room, and message data.\n- **Authentication**: Google OAuth2 with JWT-based sessions ensures security.\n- **AI Services**: Azure Translator for real-time multilingual support, Azure Speech Service for converting speech to text.\n- **Development Tools**: We used GitHub Copilot throughout development to boost our productivity and streamline code generation.\n\n## Challenges We Ran Into\nThe app uses a Client-Server architecture, with WebSocket (Socket.IO) handling real-time communication. Each message is first stored in its original language, then translated and delivered to users in their chosen language. The system supports language preference changes mid-conversation, affecting only future messages.\n\n## Accomplishments That We're Proud Of\n- Successfully built a full-stack chat app with auto-translation.\n- Integrated Azure AI services for both text translation and speech-to-text.\n- Achieved seamless sign-in/sign-up flow with Google OAuth and secure sessions.\n- Built a robust invitation system with dynamic room links and user management.\n\n## What We Learned\n- How to work with Azure Cognitive Services (Translation & Speech APIs).\n- Setting up OAuth with secure session handling using JWT.\n- Collaborative full-stack development using GitHub and Copilot.\n- Handling WebSocket communication for real-time updates.\n\n## What's Next for UnifyChat\n- Add support for chat summarization using Azure OpenAI.\n- Implement file sharing in rooms (or emotes sending).\n- Improve testing coverage and CI/CD pipeline.\n- Add analytics to understand language usage and user behavior.\n- Explore additional security enhancements and performance optimizations.\n- Deployment on Azure with Docker containers.\n\n## Built With\n- Azure (Azure AI Services)\n- Express.js\n- Node.js\n- React\n- WebSocket (Socket.IO)\n- PostgreSQL\n\n## Try It Out\n- [Demo Video](https://www.youtube.com/watch?v=Q3Jx4viHm-g)\n- [Figma Design](https://www.figma.com/design/ASHnFz7S1Fb0QeD3OFd9yf/Azure-AI-Hackathon?node-id=0-1&p=f&t=VsNwiJKGRJSAzFw0-0)\n\n## Running the App\nTo run the app locally, follow these steps:\n**1. Navigate to your desired directory and clone the frontend repository**\n\n```\ngit clone https://github.com/MinhhQuangg/Azure_Hack_FE.git\n```\n\n**2. Create a `.env` file in the root directory and add the following environment variables**\n\n```\nREACT_APP_GOOGLE_CLIENT_ID=<YOUR_GOOGLE_CLIENT_ID>\nVITE_SPEECH_REGION=eastus\nVITE_EMAILJS_PUBLIC_KEY=<YOUR_EMAILJS_PUBLIC_KEY>\nVITE_EMAILJS_SERVICE_ID=<YOUR_EMAILJS_SERVICE_ID>\nVITE_EMAILJS_TEMPLATE_ID=<YOUR_EMAILJS_TEMPLATE_ID>\nVITE_TRANS_KEY=<YOUR_TRANS_KEY>\nVITE_TRANS_REGION=eastus\n```\n\n**3. Install dependencies and start the development server**\n\n```\nnpm install\nnpm run dev\n```\n\n## Connect with Backend to Run the Full App:\nTo run UnifyChat fully, set up the frontend by following instructions in the **[Backend Repository](https://github.com/MinhhQuangg/Azure_App_BE)**.\n\n## Note\nEnsure you have Node.js installed before running the commands.\n","size_bytes":4699},"src/routes/Routes.jsx":{"content":"import {\nBrowserRouter,\nRoute,\nRoutes as RouteComponent,\n} from \"react-router-dom\";\n\nimport React from \"react\";\nimport Home from \"../pages/Home\";\nimport Signin from \"../pages/Signin\";\nimport Signup from \"../pages/Signup\";\nimport ChatRoom from \"../pages/Room\";\nimport Profile from \"../pages/Profile\";\nimport Error from \"../pages/Error\";\nimport { AuthProvider } from \"../context/authContext\";\nimport Help from \"../pages/Help\";\nimport { RequireAuth } from \"../auth/RequireAuth\";\n\nexport const Routes = () => {\nreturn (\n        <BrowserRouter>\n        <AuthProvider>\n                <RouteComponent>\n                <Route path=\"/\" element={<Home />} />\n                <Route path=\"/Home\" element={<Home />} />\n                <Route path=\"/Signin\" element={<Signin />} />\n                <Route path=\"/Signup\" element={<Signup />} />\n                <Route element={<RequireAuth />}>\n                        <Route path=\"/Chat\" element={<ChatRoom />} />\n                        <Route path=\"/Chat/:chatId\" element={<ChatRoom />} />\n                        <Route path=\"/Profile\" element={<Profile />} />\n                </Route>\n                <Route path=\"/Help\" element={<Help />} />\n                <Route path=\"*\" element={<Error />} />\n                </RouteComponent>\n        </AuthProvider>\n        </BrowserRouter>\n);\n};\n","size_bytes":1329},"backend/utils/helper.js":{"content":"const { PrismaClient } = require(\"@prisma/client\");\nconst prisma = new PrismaClient();\n\nconst checkAdmin = async (chatId, userId) => {\n    try {\n        const isAdmin = await prisma.chatRoom.findFirst({\n            where: {id: chatId, admin_id: userId},\n            select: {id: true}\n        })\n\n        return !!isAdmin;\n    }\n    catch (err) {\n        console.error(\"Error checking admin status:\", err.message);\n        throw err\n    }\n}\n\nconst getUser = async (userId) => {\n    try {\n        const user = await prisma.user.findFirst({\n            where: {id: userId}\n        });\n\n        return user\n    }\n    catch (err) {\n        console.error(\"Error checking admin status:\", err.message);\n        throw err\n    }\n}\n\nmodule.exports = {\n    checkAdmin,\n    getUser\n}","size_bytes":771},"src/auth/RequireAuth.jsx":{"content":"import { Navigate, Outlet } from \"react-router-dom\";\n\nexport const RequireAuth = () => {\n  const token = localStorage.getItem(\"token\");\n\n  return token ? <Outlet /> : <Navigate to=\"/Signin\" replace />;\n};\n","size_bytes":205},"backend/README.md":{"content":"# UnifyChat Backend\n\n## Inspiration\n\nUnifyChat is inspired by the growing need for seamless communication in a globalized world where language differences often create barriers. We wanted to build a tool that connects people across languagesâ€”whether for casual chats, international collaboration, or community engagementâ€”making it feel like everyone is speaking the same language.\n\n## What It Does\n\nUnifyChat is a real-time group chat web application that automatically translates messages into the preferred language of each participant. The backend handles user authentication, real-time messaging, translation processing, and database management to ensure a smooth experience.\n\n## Key Features\n\n- **Real-Time Messaging**: Powered by WebSockets (Socket.IO) for instant communication.\n- **Auto-Translation**: Messages are translated in real time using Azure AI Translator to match the recipient's language preference.\n- **Speech-to-Text**: Users can convert their voice to text using Azure Speech Service.\n- **Secure Authentication**: Sign-in and sign-up with Google OAuth, using JWT for session handling.\n- **Invite System**: Every chat room generates a unique link that users can share to invite others.\n- **Persistent History**: Rooms are persistentâ€”users can leave and return later with full message history preserved.\n- **Lazy Load Messages**: Older messages are loaded on scroll, improving performance and user experience, especially in large conversations.\n\n## How We Built It\nWe developed UnifyChat using a full-stack approach:\n\n- **Frontend**: React (Vite) and Tailwind CSS for UI/UX.\n- **Backend**: Node.js and Express.js handle the API and real-time socket connections.\n- **Database**: Azure Cosmos DB for PostgreSQL stores user, room, and message data.\n- **Authentication**: Google OAuth2 with JWT-based sessions ensures security.\n- **AI Services**: Azure Translator for real-time multilingual support, Azure Speech Service for converting speech to text.\n- **Development Tools**: We used GitHub Copilot throughout development to boost our productivity and streamline code generation.\n\n## Challenges We Ran Into\nThe app uses a Client-Server architecture, with WebSocket (Socket.IO) handling real-time communication. Each message is first stored in its original language, then translated and delivered to users in their chosen language. The system supports language preference changes mid-conversation, affecting only future messages.\n\n## Accomplishments That We're Proud Of\n- Successfully built a full-stack chat app with auto-translation.\n- Integrated Azure AI services for both text translation and speech-to-text.\n- Achieved seamless sign-in/sign-up flow with Google OAuth and secure sessions.\n- Built a robust invitation system with dynamic room links and user management.\n\n## What We Learned\n- How to work with Azure Cognitive Services (Translation & Speech APIs).\n- Setting up OAuth with secure session handling using JWT.\n- Collaborative full-stack development using GitHub and Copilot.\n- Handling WebSocket communication for real-time updates.\n\n## What's Next for UnifyChat\n- Add support for chat summarization using Azure OpenAI.\n- Implement file sharing in rooms (or emotes sending).\n- Improve testing coverage and CI/CD pipeline.\n- Add analytics to understand language usage and user behavior.\n- Explore additional security enhancements and performance optimizations.\n- Deployment on Azure with Docker containers.\n\n## Built With\n- Azure (Azure AI Services)\n- Express.js\n- Node.js\n- React\n- WebSocket (Socket.IO)\n- PostgreSQL\n\n## Try It Out\n- [Demo Video](https://www.youtube.com/watch?v=Q3Jx4viHm-g)\n\n## Running the Backend\n\nTo set up the backend locally, follow these steps:\n\n**1. Clone the Repository**\n\n```\ngit clone https://github.com/MinhhQuangg/Azure_App_BE.git\ncd Azure_App_BE\n```\n\n**2. Create a .env File**\n\nCreate a .env file in the root directory and add the following environment variables:\n\n```\nDB_HOST= <DB_HOST>\n# [Name of PostgreSQL database server].postgres.database.azure.com\nDB_USER=<DB_USER>\nDB_PASSWORD=<DB_PASSWORD>\nDB_NAME=postgres\nDATABASE_URL=\"postgresql://DB_USER:DB_PASSWORD@<DB_HOST>:5432/postgres?schema=public\"\nAZURE_TRANS_KEY=<TRANS_KEY>\nVITE_TRANS_KEY=<TRANS_KEY>\nAZURE_TRANS_LOCATION=eastus\nVITE_TRANS_REGION=eastus\nGOOGLE_CLIENT_ID=<GOOGLE_CLIENT_ID>\nGOOGLE_CLIENT_SECRET=<GOOGLE_CLIENT_SECRET>\nSESSION_SECRET=<SESSION_SECRET>\nJWT_SECRET=<JWT_SECRET>\nJWT_EXPIRES_IN=1d\n```\n\n**3. Install Dependencies**\n\n```\nnpm install\n```\n\n**4. Start the Server**\n\n```\nnpm start\n```\n\n## Connect with Frontend to Run the Full App\nTo run UnifyChat fully, set up the frontend by following instructions in the **[Frontend Repository](https://github.com/MinhhQuangg/Azure_Hack_FE)**.\n\n## Note\nEnsure you have Node.js and MongoDB/PostgreSQL set up before running the backend server.\n\n","size_bytes":4824},"src/pages/Room.jsx":{"content":"// Room.jsx\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Sidebar from \"../components/chatroom/Sidebar.jsx\";\nimport ChatWindow from \"../components/chatroom/ChatWindow.jsx\";\nimport ChatInfo from \"../components/chatroom/ChatInfo.jsx\";\nimport NavBar from \"../components/NavBar.jsx\";\nimport { FaTimes } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\nimport { showToastError } from \"../components/common/ShowToast\";\nimport RequestJoin from \"../components/chatroom/RequestJoin.jsx\";\nimport WaitingApproval from \"../components/chatroom/WaitingApproval.jsx\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { API_BASE_URL } from \"../config/api\";\n\nconst ChatRoom = () => {\n  const EmptyState = () => {\n    return (\n      <div className=\"flex-1 flex flex-col items-center justify-center bg-gray-50 transition-colors\">\n        <div className=\"text-center p-8\">\n          <div className=\"text-6xl mb-4\">ðŸ’¬</div>\n          <h2 className=\"text-2xl font-bold text-gray-700 mb-2\">\n            Welcome to Chat!\n          </h2>\n          <p className=\"text-gray-500 mb-6\">\n            Select a conversation or start a new one\n          </p>\n          <button\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full font-medium transition shadow-md\"\n            onClick={() => setIsNewChatModalOpen(true)}\n          >\n            Start New Chat\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  const NewChatModal = ({ isOpen, onClose, onCreateChat }) => {\n    const [chatName, setChatName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n    if (!isOpen) return null;\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      if (!chatName.trim()) return;\n\n      onCreateChat({\n        name: chatName,\n        description: description,\n      });\n\n      setChatName(\"\");\n      setDescription(\"\");\n      onClose();\n    };\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-lg w-full max-w-md mx-4 shadow-lg\">\n          <div className=\"font-['Inter'] p-4 border-b flex justify-between items-center relative\">\n            <h2 className=\"text-xl font-bold text-gray-900\">New Chat</h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-500 hover:text-gray-700 absolute right-4 top-4\"\n            >\n              <FaTimes size={16} />\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"p-4\">\n            <div className=\"mb-4\">\n              <label className=\"font-['Inter'] text-gray-900 block text-sm font-bold mb-2\">\n                Chat Name\n              </label>\n              <input\n                type=\"text\"\n                value={chatName}\n                onChange={(e) => setChatName(e.target.value)}\n                className=\"placeholder-gray-500 shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter chat name\"\n                required\n              />\n            </div>\n\n            <div className=\"mb-4\">\n              <label className=\"font-['Inter'] text-gray-900 block text-sm font-bold mb-2\">\n                Description\n              </label>\n              <textarea\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                className=\"placeholder-gray-500 shadow appearance-none border border-gray-300 rounded w-full py-2 px-3 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                placeholder=\"Enter a description (optional)\"\n              />\n            </div>\n\n            <div className=\"flex justify-end\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"font-['Inter'] font-semibold bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded-lg mr-2\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"font-['Inter'] font-semibold bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg shadow-md\"\n              >\n                Create Chat\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  const { chatId: urlChatId } = useParams();\n  const navigate = useNavigate();\n\n  const userId = localStorage.getItem(\"user_id\");\n\n  // Instead of a single [messages], we store a dictionary: { [roomId]: [msg, msg, ...], ... }\n  const [roomMessages, setRoomMessages] = useState({});\n  const [chats, setChats] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(urlChatId);\n  const [lastScrollChatId, setLastScrollChatId] = useState(null);\n  const [newMessage, setNewMessage] = useState(\"\");\n\n  // UI states\n  const [activeFilter, setActiveFilter] = useState(\"all\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isNewChatModalOpen, setIsNewChatModalOpen] = useState(false);\n  const [showSidebar, setShowSidebar] = useState(true);\n  const [showChatInfo, setShowChatInfo] = useState(false);\n  const [isPrepending, setIsPrepending] = useState(false);\n  const [messagePagination, setMessagePagination] = useState({}); // { [chatId]: { cursor, hasMore } }\n\n  const [showJoinRequest, setShowJoinRequest] = useState(false);\n  const [invitedChatDetails, setInvitedChatDetails] = useState({});\n\n  // const [isMessagesLoaded, setIsMessagesLoaded] = useState(false);\n\n  const messageContainerRef = useRef(null);\n\n  useEffect(() => {\n    const checkMembership = async () => {\n      if (currentChatId && chats.length > 0) {\n        try {\n          const res = await axios.get(\n            `${API_BASE_URL}/chatroom/${currentChatId}/isMember/${userId}`\n          );\n\n          console.log(\"check mem:\", res.data, currentChatId, userId);\n\n          if (!res.data?.isMember) {\n            const chatRes = await axios.get(\n              `${API_BASE_URL}/chatroom/${currentChatId}`\n            );\n            const chatroom = chatRes.data.chatRoom;\n\n            const invitedChat = {\n              id: currentChatId,\n              name: chatroom.name,\n              avatarColor: chatroom.avatar_color,\n              avatarText: chatroom.avatar_text,\n              lastMessage: chatroom.last_message,\n              time: new Date(),\n              unread: true,\n              messages: [],\n              status: \"invited\",\n            };\n\n            setInvitedChatDetails(invitedChat);\n            setShowJoinRequest(true);\n            navigate(\"/Chat\");\n          }\n        } catch (err) {\n          console.error(\"Failed to check membership:\", err);\n          if (err.response?.status === 404) {\n            showToastError(\"Chat room not found\");\n            navigate(\"/Chat\");\n          } else if (err.response?.status === 403) {\n            showToastError(\"You are not a member of this chat room\");\n            navigate(\"/Chat\");\n          } else {\n            showToastError(\"Failed to check membership\");\n          }\n        }\n      }\n    };\n\n    checkMembership();\n  }, [currentChatId, userId, chats, navigate]);\n\n  // Single socket\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    const loadInitialMessages = async () => {\n      if (currentChatId && !roomMessages[currentChatId]) {\n        console.log(\"Enter function fetch initial messages.\");\n        console.log(`${API_BASE_URL}/chatroom/${currentChatId}/messages`);\n\n        try {\n          const res = await axios.get(\n            `${API_BASE_URL}/chatroom/${currentChatId}/messages`,\n            {\n              params: {\n                cursor: null,\n              },\n            }\n          );\n\n          setRoomMessages((prev) => ({\n            ...prev,\n            [currentChatId]: res.data.messages\n              .filter((message) => message.chat_id === currentChatId)\n              .sort((a, b) => new Date(a.created_at) - new Date(b.created_at)),\n          }));\n\n          setMessagePagination((prev) => ({\n            ...prev,\n            [currentChatId]: {\n              cursor: res.data.cursor,\n              hasMore: res.data.hasMore,\n            },\n          }));\n\n        } catch (err) {\n          console.error(\"Error loading initial messages:\", err);\n          if (err.response?.status === 404) {\n            showToastError(\"Chat room not found\");\n          } else if (err.response?.status === 403) {\n            showToastError(\"You are not a member of this chat room\");\n          } else {\n            showToastError(\"Failed to load messages\");\n          }\n        }\n        console.log(11111);\n      }\n    };\n\n    loadInitialMessages();\n    const container = messageContainerRef.current;\n    if (container) {\n      container.scrollTop = container.scrollHeight - container.clientHeight;\n    }\n  }, [currentChatId]);\n\n  useEffect(() => {\n    const socketInstance = io(`${API_BASE_URL}`, {\n      transports: [\"websocket\"],\n      auth: { userId: userId },\n    });\n\n    socketInstance.on(\"connect\", () => {\n      console.log(\"Socket connected successfully\");\n    });\n\n    socketInstance.on(\"connect_error\", (error) => {\n      console.error(\"Socket connection error:\", error);\n      showToastError(\"Failed to connect to chat server\");\n    });\n\n    socketInstance.on(\"disconnect\", (reason) => {\n      console.log(\"Socket disconnected:\", reason);\n    });\n\n    setSocket(socketInstance);\n\n    return () => socketInstance.disconnect();\n  }, [userId]);\n\n  useEffect(() => {\n    if (!socket || !currentChatId) return;\n    const handleReceiveMessage = (incomingMessage) => {\n      console.log(\"Received via socket:\", incomingMessage);\n      setRoomMessages((prev) => {\n        const existing = prev[currentChatId] || [];\n        return {\n          ...prev,\n          [currentChatId]: [\n            ...existing,\n            { ...incomingMessage, fromUser: false },\n          ].sort((a, b) => new Date(a.created_at) - new Date(b.created_at)),\n        };\n      });\n    };\n    socket.on(\"receive-message\", handleReceiveMessage);\n    return () => {\n      socket.off(\"receive-message\", handleReceiveMessage);\n    };\n  }, [socket, currentChatId]);\n\n  // For the currently selected chat, we show that chat's messages or an empty array\n  const currentChatMessages = roomMessages[currentChatId] || [];\n  const currentChat = chats.find((c) => c.id === currentChatId) || null;\n\n  // 1. Load all chats for the sidebar (no GET for messages, just for chats)\n  useEffect(() => {\n    const fetchChats = async () => {\n      try {\n        const allChats = await axios.get(\n          `${API_BASE_URL}/chatroom/user/${userId}`\n        );\n        const newChats =\n          allChats.data?.chatRooms.map((chat) => chat.chatRoom) || [];\n\n        console.log(\"Chats from server:\", newChats);\n        // Mark unread\n        const statuses = await Promise.all(\n          newChats.map((chat) =>\n            axios.get(\n              `${API_BASE_URL}/chatroom/${chat.id}/readStatus/${userId}`\n            )\n          )\n        );\n\n        newChats.forEach((chat, index) => {\n          chat.unread = statuses[index].data.unread;\n        });\n\n        setChats([...chats, ...newChats]);\n\n        // Set currentChatId based on urlChatId if valid, else first chat or null\n        if (urlChatId && newChats.some(chat => chat.id === urlChatId)) {\n          setCurrentChatId(urlChatId);\n        } else if (newChats.length > 0) {\n          setCurrentChatId(newChats[0].id);\n        } else {\n          setCurrentChatId(null);\n        }\n\n        // If urlChatId is specified but not found, show error\n        if (urlChatId && !newChats.some(chat => chat.id === urlChatId)) {\n          showToastError(\"Chat room not found\");\n          navigate(\"/Chat\");\n        }\n      } catch (err) {\n        showToastError(err.response?.data?.message || \"Failed to load chats\");\n        setCurrentChatId(null);\n      }\n    };\n\n    fetchChats();\n  }, [userId, urlChatId, navigate]);\n\n  // 2. Filter chats for sidebar\n\n  const [filteredChats, setFilteredChats] = useState(chats);\n  useEffect(() => {\n    let filtered = [...chats];\n\n    if (searchTerm) {\n      filtered = filtered.filter(\n        (chat) =>\n          chat.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          chat.lastMessage.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    if (activeFilter === \"unread\") {\n      filtered = filtered.filter((chat) => chat.unread);\n    }\n\n    setFilteredChats(filtered);\n  }, [chats, activeFilter, searchTerm]);\n\n  // 4. Send message => POST to the server, but also emit via socket\n  const handleSendMessage = async () => {\n    //console.log(\"handleSendMessage was called, currentChatId=\", currentChatId);\n    if (!newMessage.trim() || !currentChatId) return;\n\n    try {\n      const response = await axios.post(\n        `${API_BASE_URL}/rooms/${currentChatId}/messages`,\n        { text: newMessage, userId: userId }\n      );\n      console.log(response.status, response.data);\n\n      const savedMessage = response.data;\n      savedMessage.fromUser = true;\n      savedMessage.created_at = new Date();\n\n      setRoomMessages((prev) => {\n        const existingArray = prev[currentChatId] || [];\n        return {\n          ...prev,\n          [currentChatId]: [...existingArray, savedMessage].sort(\n            (a, b) => new Date(a.created_at) - new Date(b.created_at)\n          ),\n        };\n      });\n\n      const messageToSend = {\n        content: savedMessage.content,\n        sender: userId || \"Unknown\",\n        senderColor: savedMessage.senderColor || \"#ccc\",\n        created_at: new Date(),\n      };\n\n      if (!socket) {\n        console.log(\"No socket reference, cannot emit!\");\n      } else {\n        socket.emit(\"send-message\", messageToSend, currentChatId);\n      }\n\n      setNewMessage(\"\");\n\n      const updated = chats.map((chat) =>\n        chat.id === currentChatId\n          ? { ...chat, lastMessage: `You: ${newMessage}`, time: \"now\" }\n          : chat\n      );\n      setChats(updated);\n    } catch (error) {\n      console.error(error);\n      if (error.response?.status === 404) {\n        showToastError(\"Chat room not found\");\n      } else if (error.response?.status === 403) {\n        showToastError(\"You are not a member of this chat room\");\n      } else {\n        showToastError(error.response?.data?.error || \"Error sending message\");\n      }\n    }\n  };\n\n  // Handle file upload\n  const handleFileUpload = async (file) => {\n    if (!currentChatId) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const uploadResponse = await axios.post(`${API_BASE_URL}/chatroom/upload`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      const { fileUrl, fileType, originalName } = uploadResponse.data;\n\n      // Send message with file URL\n      const response = await axios.post(\n        `${API_BASE_URL}/rooms/${currentChatId}/messages`,\n        {\n          text: fileType === 'image' ? `Image: ${originalName}` : `File: ${originalName}`,\n          userId: userId,\n          file_url: fileUrl,\n          file_type: fileType\n        }\n      );\n\n      const savedMessage = response.data;\n      savedMessage.fromUser = true;\n      savedMessage.created_at = new Date();\n\n      setRoomMessages((prev) => {\n        const existingArray = prev[currentChatId] || [];\n        return {\n          ...prev,\n          [currentChatId]: [...existingArray, savedMessage].sort(\n            (a, b) => new Date(a.created_at) - new Date(b.created_at)\n          ),\n        };\n      });\n\n      const messageToSend = {\n        content: savedMessage.content,\n        sender: userId || \"Unknown\",\n        senderColor: savedMessage.senderColor || \"#ccc\",\n        created_at: new Date(),\n        file_url: fileUrl,\n        file_type: fileType,\n      };\n\n      if (socket) {\n        socket.emit(\"send-message\", messageToSend, currentChatId);\n      }\n\n      const updated = chats.map((chat) =>\n        chat.id === currentChatId\n          ? { ...chat, lastMessage: `You: ${fileType === 'image' ? 'Image' : 'File'}`, time: \"now\" }\n          : chat\n      );\n      setChats(updated);\n    } catch (error) {\n      console.error(error);\n      showToastError(error.response?.data?.error || \"Error uploading file\");\n    }\n  };\n\n  // Handle image upload (similar to file upload)\n  const handleImageUpload = async (file) => {\n    await handleFileUpload(file);\n  };\n\n  // 5. Create a new chat => POST to the server (no GET for messages)\n  const handleCreateChat = async (chatData) => {\n    const data = {\n      name: chatData.name,\n      description: chatData.description || \"\",\n      adminId: userId,\n      avatarColor: `bg-${\n        [\"green\", \"purple\", \"cyan\", \"yellow\", \"blue\"][\n          Math.floor(Math.random() * 5)\n        ]\n      }-400`,\n      avatarText: chatData.name.charAt(0).toUpperCase(),\n      lastMessage: \"Start a conversation...\",\n    };\n\n    try {\n      const response = await axios.post(`${API_BASE_URL}/chatroom`, data);\n      if (response.status === 201) {\n        const newChat = response.data?.chatroom;\n        newChat.unread = true;\n        setChats((prev) => [newChat, ...prev]);\n        setCurrentChatId(newChat.id);\n        navigate(`/Chat/${newChat.id}`);\n\n        // Optionally join the new room\n        if (socket) {\n          socket.emit(\"joinRoom\", newChat.id);\n        }\n\n        // Start with an empty array for the new chat\n        setRoomMessages((prev) => ({\n          ...prev,\n          [newChat.id]: [],\n        }));\n      }\n    } catch (err) {\n      showToastError(err.response?.data?.message);\n      console.log(err);\n    }\n\n    if (window.innerWidth < 768) {\n      setShowSidebar(false);\n    }\n  };\n\n  // 6. Auto-scroll\n  useEffect(() => {\n    const container = messageContainerRef.current;\n    if (!container) return;\n\n    // Check if it's a new chat or initial load\n    const isNewChatOrInitialLoad =\n      currentChatMessages.length > 0 &&\n      (!lastScrollChatId || lastScrollChatId !== currentChatId);\n\n    // Only auto-scroll if we're already near the bottom or it's a new chat\n    const isNearBottom =\n      container.scrollHeight - container.scrollTop - container.clientHeight <\n      100;\n\n    if ((isNearBottom || isNewChatOrInitialLoad) && !isPrepending) {\n      container.scrollTop = container.scrollHeight;\n    }\n  }, [currentChatMessages, isPrepending, currentChatId, lastScrollChatId]);\n\n  useEffect(() => {\n    const container = messageContainerRef.current;\n    if (container) {\n      // Scroll to the very bottom\n      container.scrollTop = container.scrollHeight;\n    }\n  }, [currentChatId]);\n\n  // 7. Handle selecting a chat\n  const handleChatClick = async (chatId) => {\n    setLastScrollChatId(currentChatId);\n    setCurrentChatId(chatId);\n    // setIsMessagesLoaded(false);\n    navigate(`/Chat/${chatId}`);\n    // Mark as read\n    setChats((prev) =>\n      prev.map((chat) =>\n        chat.id === chatId && chat.unread ? { ...chat, unread: false } : chat\n      )\n    );\n\n    await axios.put(\n      `${API_BASE_URL}/chatroom/${chatId}/readStatus/${userId}`\n    );\n\n    // Join the room if using Socket for presence\n    if (socket) {\n      socket.emit(\"joinRoom\", chatId);\n    }\n\n    // On mobile, hide sidebar after selecting\n    if (window.innerWidth < 768) {\n      setShowSidebar(false);\n    }\n\n    // Fetch initial messages (if not already loaded)\n    if (!roomMessages[chatId]) {\n      console.log(\"Enter function fetch initial messages.\");\n      console.log(`${API_BASE_URL}/chatroom/${chatId}/messages`);\n\n      try {\n        const res = await axios.get(\n          `${API_BASE_URL}/chatroom/${chatId}/messages`,\n          {\n            params: {\n              cursor: null,\n            },\n          }\n        );\n\n        setRoomMessages((prev) => ({\n          ...prev,\n          // [chatId]: res.data.messages,\n          [chatId]: res.data.messages\n            .filter((message) => message.chat_id === chatId)\n            .sort((a, b) => new Date(a.created_at) - new Date(b.created_at)),\n        }));\n\n        // setRoomMessages((prev) => {\n        //   const existing = prev[chatId] || [];\n        //   return {\n        //     ...prev,\n        //     [chatId]: [...newMessages, ...existing], // prepend\n        //   };\n        // });\n\n        setMessagePagination((prev) => ({\n          ...prev,\n          [chatId]: {\n            cursor: res.data.cursor,\n            hasMore: res.data.hasMore,\n          },\n        }));\n\n        // setIsMessagesLoaded(true);\n      } catch (err) {\n        console.error(\"Error loading initial messages:\", err);\n        if (err.response?.status === 404) {\n          showToastError(\"Chat room not found\");\n        } else if (err.response?.status === 403) {\n          showToastError(\"You are not a member of this chat room\");\n        } else {\n          showToastError(\"Failed to load messages\");\n        }\n      }\n      console.log(11111);\n    }\n    const container = messageContainerRef.current;\n    if (container) {\n      container.scrollTop = container.scrollHeight - container.clientHeight;\n    }\n    // else {\n    //   setIsMessagesLoaded(true);\n    // }\n  };\n\n  // 8. Handle resizing\n  useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth < 768) {\n        setShowChatInfo(false);\n        if (currentChatId && showSidebar) {\n          setShowSidebar(false);\n        }\n      } else if (window.innerWidth < 1024) {\n        setShowChatInfo(false);\n        setShowSidebar(true);\n      } else {\n        setShowSidebar(true);\n        setShowChatInfo(true);\n      }\n    };\n\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, [currentChatId]);\n\n  // 9. Toggles\n  const toggleSidebar = () => setShowSidebar(!showSidebar);\n  const toggleChatInfo = () => setShowChatInfo(!showChatInfo);\n\n  // 10. Lazy loading for messages\n\n  const loadMoreMessages = async (chatId) => {\n    console.log(chatId, lastScrollChatId);\n\n    const container = messageContainerRef.current;\n    const initialScrollHeight = container.scrollHeight;\n    const initialScrollTop = container.scrollTop;\n\n    if (chatId !== lastScrollChatId) {\n      setLastScrollChatId(currentChatId);\n      console.log(\"RIGHT???\");\n      return;\n    }\n\n    const { cursor, hasMore } = messagePagination[chatId] || {};\n\n    if (hasMore === false) return;\n\n    setIsPrepending(true);\n\n    try {\n      const res = await axios.get(\n        `${API_BASE_URL}/chatroom/${chatId}/messages`,\n        {\n          params: { cursor },\n        }\n      );\n\n      const newMessages = res.data.messages.filter(\n        (message) => message.chat_id === chatId\n      );\n      // .sort((a, b) => new Date(a.created_at) - new Date(b.created_at));\n\n      setRoomMessages((prev) => {\n        const current = prev[chatId] || [];\n        const combinedMessages = [...newMessages, ...current]\n          .filter(\n            (msg, index, self) =>\n              index === self.findIndex((m) => m.id === msg.id)\n          )\n          .sort((a, b) => new Date(a.created_at) - new Date(b.created_at));\n\n        return {\n          ...prev,\n          [chatId]: combinedMessages,\n        };\n      });\n\n      setMessagePagination((prev) => ({\n        ...prev,\n        [chatId]: {\n          cursor: res.data.cursor,\n          hasMore: res.data.hasMore,\n        },\n      }));\n\n      requestAnimationFrame(() => {\n        if (container) {\n          const newScrollHeight = container.scrollHeight;\n          container.scrollTop =\n            newScrollHeight - initialScrollHeight + initialScrollTop;\n        }\n      });\n    } catch (err) {\n      console.error(\"Failed to load older messages:\", err);\n      if (err.response?.status === 404) {\n        showToastError(\"Chat room not found\");\n      } else if (err.response?.status === 403) {\n        showToastError(\"You are not a member of this chat room\");\n      } else {\n        showToastError(\"Failed to load older messages\");\n      }\n    } finally {\n      // Reset prepending state\n      setIsPrepending(false);\n    }\n  };\n\n  // const loadMoreMessages = async (chatId) => {\n  //   if (chatId !== currentChatId) {\n  //     return;\n  //   }\n\n  //   const { cursor, hasMore } = messagePagination[chatId] || {};\n  //   if (hasMore === false) return;\n\n  //   setIsPrepending(true);\n\n  //   try {\n  //     const res = await axios.get(\n  //       `${API_BASE_URL}/chatroom/${chatId}/messages`,\n  //       {\n  //         params: { cursor },\n  //       }\n  //     );\n\n  //     const newMessages = res.data.messages;\n\n  //     // setRoomMessages((prev) => ({\n  //     //   ...prev,\n  //     //   [chatId]: res.data.messages.filter(\n  //     //     (message) => message.chat_id === chatId\n  //     //   ),\n  //     // }));\n\n  //     setRoomMessages((prev) => {\n  //       const current = prev[chatId] || [];\n  //       console.log(\"current\", current);\n  //       console.log(\"new messages\", newMessages);\n  //       console.log(\"Chat ID FJAKLFJ:\", chatId);\n\n  //       return {\n  //         ...prev,\n  //         [chatId]: [...newMessages, ...current],\n  //       };\n  //     });\n\n  //     setMessagePagination((prev) => ({\n  //       ...prev,\n  //       [chatId]: {\n  //         cursor: res.data.cursor,\n  //         hasMore: res.data.hasMore,\n  //       },\n  //     }));\n  //   } catch (err) {\n  //     console.error(\"Failed to load older messages:\", err);\n  //   } finally {\n  //     setIsPrepending(false);\n  //   }\n  // };\n\n  // 11. Handle join request\n  const handleJoinRequest = async (userName) => {\n    console.log(\n      `User ${userName} requested to join chat ${invitedChatDetails?.name}`\n    );\n\n    const requestedId = invitedChatDetails.id;\n\n    // update in backend\n    try {\n      await axios.post(\n        `${API_BASE_URL}/chatroom/${requestedId}/request`,\n        {\n          userId: userId,\n        }\n      );\n    } catch (err) {\n      console.log(\"Error in updating joining request: \", err.message);\n    }\n\n    const newChat = {\n      ...invitedChatDetails,\n      id: Date.now(),\n      status: \"pending\",\n      messages: [\n        {\n          id: Date.now(),\n          content: `You requested to join ${invitedChatDetails.name}. Waiting for approval...`,\n          fromUser: false,\n          sender: \"System\",\n          senderColor: \"bg-gray-400\",\n          created_at: new Date(),\n        },\n      ],\n    };\n\n    setChats([newChat, ...chats]);\n    setCurrentChatId(newChat.id);\n    setShowJoinRequest(false);\n  };\n\n  // 12. Handle cancel join request\n  const handleCancelJoinRequest = () => {\n    setShowJoinRequest(false);\n\n    if (chats.length > 0) {\n      setCurrentChatId(urlChatId);\n    } else {\n      setCurrentChatId(null);\n    }\n  };\n\n  // 13. Handle delete chat\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const [chatToDelete, setChatToDelete] = useState(null);\n\n  const handleDeleteChat = (chatId) => {\n    const chat = chats.find(c => c.id === chatId);\n    setChatToDelete(chat);\n    setShowDeleteModal(true);\n  };\n\n  const confirmDeleteChat = async () => {\n    if (!chatToDelete) return;\n\n    try {\n      await axios.delete(`${API_BASE_URL}/chatroom/${chatToDelete.id}`, {\n        data: { userId: userId }\n      });\n      setChats((prev) => prev.filter((chat) => chat.id !== chatToDelete.id));\n      if (currentChatId === chatToDelete.id) {\n        const remainingChats = chats.filter((chat) => chat.id !== chatToDelete.id);\n        if (remainingChats.length > 0) {\n          setCurrentChatId(remainingChats[0].id);\n          navigate(`/Chat/${remainingChats[0].id}`);\n        } else {\n          setCurrentChatId(null);\n          navigate(\"/Chat\");\n        }\n      }\n      setShowDeleteModal(false);\n      setChatToDelete(null);\n      showToastError(\"Chat deleted successfully\"); // Note: This should probably be a success toast, but using existing function\n    } catch (err) {\n      console.error(\"Failed to delete chat:\", err);\n      showToastError(\"Failed to delete chat\");\n      setShowDeleteModal(false);\n      setChatToDelete(null);\n    }\n  };\n\n  // 14. Render main content: ChatWindow\n  const renderMainContent = () => {\n    if (!currentChatId || !urlChatId) {\n      return <EmptyState />;\n    }\n\n    if (currentChat?.status === \"pending\") {\n      return <WaitingApproval chatName={currentChat.name} />;\n    }\n\n    return (\n      <ChatWindow\n        // messages={currentChat?.messages || []}\n        messages={roomMessages[currentChatId] || []}\n        // isTyping={isTyping}\n        currentChat={currentChat}\n        newMessage={newMessage}\n        setNewMessage={setNewMessage}\n        onSendMessage={handleSendMessage}\n        messageContainerRef={messageContainerRef}\n        toggleSidebar={toggleSidebar}\n        toggleChatInfo={toggleChatInfo}\n        showSidebar={showSidebar}\n        showChatInfo={showChatInfo}\n        onLoadMoreMessages={loadMoreMessages}\n        currentUserId={userId}\n        onFileUpload={handleFileUpload}\n        onImageUpload={handleImageUpload}\n      />\n    );\n  };\n\n  if (showJoinRequest && invitedChatDetails) {\n    return (\n      <div className=\"flex flex-col h-screen bg-gray-50 transition-colors\">\n        <div className=\"flex flex-1 overflow-hidden\">\n          {showSidebar && (\n            <Sidebar\n              chats={filteredChats}\n              originalChats={chats}\n              setOriginalChats={setChats}\n              currentChatId={currentChatId}\n              onChatClick={handleChatClick}\n              searchTerm={searchTerm}\n              setSearchTerm={setSearchTerm}\n              activeFilter={activeFilter}\n              setActiveFilter={setActiveFilter}\n              onNewChat={() => setIsNewChatModalOpen(true)}\n              onBackToChats={handleBackToChats}\n            />\n          )}\n          <RequestJoin\n            chatName={invitedChatDetails.name}\n            onJoinRequest={handleJoinRequest}\n            onCancel={handleCancelJoinRequest}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  const handleBackToChats = () => {\n    setCurrentChatId(null);\n    navigate(\"/Chat\");\n  };\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-50 transition-colors\">\n      <div className=\"flex flex-1 overflow-hidden\">\n        {showSidebar && (\n          <Sidebar\n            chats={filteredChats}\n            originalChats={chats}\n            setOriginalChats={setChats}\n            currentChatId={currentChatId}\n            onChatClick={handleChatClick}\n            searchTerm={searchTerm}\n            setSearchTerm={setSearchTerm}\n            activeFilter={activeFilter}\n            setActiveFilter={setActiveFilter}\n            onNewChat={() => setIsNewChatModalOpen(true)}\n            onDeleteChat={handleDeleteChat}\n            userId={userId}\n            onBackToChats={handleBackToChats}\n          />\n        )}\n\n        {renderMainContent()}\n\n        {urlChatId &&\n          showChatInfo &&\n          currentChatId &&\n          currentChat?.status !== \"pending\" && (\n            <ChatInfo\n              chatId={currentChatId}\n              setCurrentChatId={setCurrentChatId}\n              originalChats={chats}\n              setOriginalChats={setChats}\n              onBackToChat={() => setShowChatInfo(false)}\n            />\n          )}\n      </div>\n\n      <NewChatModal\n        isOpen={isNewChatModalOpen}\n        onClose={() => setIsNewChatModalOpen(false)}\n        onCreateChat={handleCreateChat}\n      />\n\n      {/* Delete Chat Modal */}\n      {showDeleteModal && chatToDelete && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg w-full max-w-md mx-4 shadow-lg\">\n            <div className=\"font-['Inter'] p-6\">\n              <div className=\"flex items-center mb-4\">\n                <div className=\"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4\">\n                  <FaTimes className=\"text-red-600 text-xl\" />\n                </div>\n                <div>\n                  <h2 className=\"text-xl font-bold text-gray-900\">Delete Chat</h2>\n                  <p className=\"text-sm text-gray-600\">This action cannot be undone</p>\n                </div>\n              </div>\n\n              <div className=\"mb-6\">\n                <p className=\"text-gray-700 mb-2\">\n                  Are you sure you want to delete <span className=\"font-semibold\">\"{chatToDelete.name}\"</span>?\n                </p>\n                <p className=\"text-sm text-gray-500\">\n                  All messages and data will be permanently removed.\n                </p>\n              </div>\n\n              <div className=\"flex justify-end space-x-3\">\n                <button\n                  onClick={() => {\n                    setShowDeleteModal(false);\n                    setChatToDelete(null);\n                  }}\n                  className=\"px-4 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\n                >\n                  Cancel\n                </button>\n                <button\n                  onClick={confirmDeleteChat}\n                  className=\"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors font-medium\"\n                >\n                  Delete Chat\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ChatRoom;\n","size_bytes":33483},"src/components/chatroom/ReusableComponents.jsx":{"content":"const AvatarChat = ({ color, text, size = \"md\", url }) => {\n  const sizeClasses = {\n    sm: \"h-8 w-8\",\n    md: \"h-10 w-10\",\n    lg: \"h-12 w-12\",\n  };\n\n  if (!color) {\n    color = [\n      \"bg-green-400\",\n      \"bg-blue-400\",\n      \"bg-cyan-400\",\n      \"bg-yellow-400\",\n      \"bg-purple-400\",\n    ][Math.floor(Math.random() * 5)];\n  }\n\n  return url ? (\n    <img\n      src={url}\n      alt=\"Avatar\"\n      className={`${sizeClasses[size]} rounded-full object-cover`}\n    />\n  ) : (\n    <div\n      className={`${color} ${sizeClasses[size]} rounded-full flex items-center justify-center text-white font-bold`}\n    >\n      <span>{text}</span>\n    </div>\n  );\n};\n\nconst AvatarPerson = ({ size = \"md\", person }) => {\n  // console.log(person);\n  \n\n  const sizeClasses = {\n    sm: \"h-8 w-8\",\n    md: \"h-10 w-10\",\n    lg: \"h-12 w-12\",\n  };\n\n  return person ? (\n    <img\n      src={person?.profile_picture}\n      alt=\"Avatar\"\n      className={`${sizeClasses[size]} rounded-full object-cover`}\n    />\n  ) : (\n    <div\n      className={`${sizeClasses[size]} rounded-full flex items-center justify-center text-white font-bold`}\n    >\n      <span>{person?.given_name}</span>\n    </div>\n  );\n};\n\nconst IconButton = ({ icon, onClick, color = \"text-gray-600\" }) => {\n  return (\n    <button\n      className={`p-2 rounded-full hover:bg-gray-100 transition duration-200 ${color}`}\n      onClick={onClick}\n    >\n      {icon}\n    </button>\n  );\n};\n\nconst TabButton = ({ text, isActive, onClick }) => {\n  return (\n    <button\n      className={`font-['Montserrat'] px-4 py-1 text-sm font-semibold rounded-full ${\n        isActive ? \"bg-[#FFD254]\" : \"bg-white border border-gray-300\"\n      }`}\n      onClick={onClick}\n    >\n      {text}\n    </button>\n  );\n};\n\nexport { AvatarChat, AvatarPerson, IconButton, TabButton };\n","size_bytes":1791},"src/components/home/Contact.jsx":{"content":"import React, { useState, useRef } from \"react\";\nimport emailjs from \"@emailjs/browser\";\nimport { FaEnvelope, FaUser, FaCheckCircle, FaArrowRight } from \"react-icons/fa\";\n\nconst Contact = () => {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    message: \"\",\n  });\n\n  const [formStatus, setFormStatus] = useState({\n    submitted: false,\n    loading: false,\n    error: false,\n    message: \"\",\n  });\n\n  const form = useRef();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const sendEmail = (e) => {\n    e.preventDefault();\n    setFormStatus({ ...formStatus, loading: true });\n\n    emailjs\n      .sendForm(\n        import.meta.env.VITE_EMAILJS_SERVICE_ID,\n        import.meta.env.VITE_EMAILJS_TEMPLATE_ID,\n        form.current,\n        {\n          publicKey: import.meta.env.VITE_EMAILJS_PUBLIC_KEY,\n        }\n      )\n      .then(\n        () => {\n          setFormStatus({\n            submitted: true,\n            loading: false,\n            error: false,\n            message: \"Thank you for your message! We'll get back to you soon.\",\n          });\n          setFormData({ name: \"\", email: \"\", message: \"\" });\n        },\n        (error) => {\n          console.log(\"FAILED...\", error.text);\n          setFormStatus({\n            submitted: false,\n            loading: false,\n            error: true,\n            message: \"Something went wrong. Please try again.\",\n          });\n        }\n      );\n  };\n\n  return (\n    <div className=\"relative py-32 bg-gradient-to-br from-white via-neutral-50 to-white dark:from-slate-900 dark:via-slate-900 dark:to-slate-900 overflow-hidden transition-colors\">\n      {/* Decorative background */}\n      <div className=\"absolute inset-0 gradient-mesh opacity-20 dark:opacity-10\"></div>\n      <div className=\"absolute top-20 right-0 w-96 h-96 bg-primary-500/5 dark:bg-primary-500/10 rounded-full blur-3xl animate-pulse\"></div>\n      <div className=\"absolute bottom-20 left-0 w-96 h-96 bg-accent-500/5 dark:bg-accent-500/10 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\n      <div className=\"section-container relative z-10\">\n        <div className=\"grid lg:grid-cols-2 gap-16 items-center\">\n          {/* Left Content */}\n          <div className=\"space-y-8 animate-slide-right\">\n            <div className=\"inline-flex items-center space-x-2 px-5 py-2 bg-white dark:bg-slate-800 rounded-full border border-primary-200 dark:border-primary-800 shadow-sm\">\n              <div className=\"w-2 h-2 bg-primary-500 dark:bg-primary-400 rounded-full animate-pulse\"></div>\n              <span className=\"text-sm font-bold bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent\">Get in Touch</span>\n            </div>\n\n            <div className=\"space-y-6\">\n              <h2 className=\"text-5xl md:text-6xl font-display font-bold text-neutral-900 dark:text-neutral-100 leading-[1.1]\">\n                Let's Start a\n                <br />\n                <span className=\"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent\">Conversation</span>\n              </h2>\n              \n              <div className=\"h-1 w-32 bg-gradient-to-r from-primary-500 via-accent-500 to-success-500 rounded-full\"></div>\n            </div>\n\n            <p className=\"text-xl text-neutral-600 dark:text-neutral-300 leading-relaxed\">\n              Have questions or feedback? We're here to help you break down language barriers and connect globally.\n            </p>\n\n            <div className=\"space-y-4\">\n              <div className=\"group relative bg-white dark:bg-slate-800 p-6 rounded-3xl border border-primary-200 dark:border-primary-800 hover:border-primary-400 dark:hover:border-primary-500 transition-all duration-300 shadow-sm\">\n                <div className=\"absolute inset-0 bg-gradient-to-br from-primary-500/5 dark:from-primary-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl\"></div>\n                <div className=\"relative flex items-start space-x-4\">\n                  <div className=\"p-3 bg-gradient-to-br from-primary-500 to-primary-600 dark:from-primary-600 dark:to-primary-700 rounded-2xl shadow-lg\">\n                    <FaEnvelope className=\"text-xl text-white\" />\n                  </div>\n                  <div>\n                    <div className=\"font-bold text-neutral-900 dark:text-neutral-100 mb-1 text-lg\">Email Us</div>\n                    <div className=\"text-neutral-600 dark:text-neutral-400\">support@unifychat.com</div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"group relative bg-white dark:bg-slate-800 p-6 rounded-3xl border border-accent-200 dark:border-accent-800 hover:border-accent-400 dark:hover:border-accent-500 transition-all duration-300 shadow-sm\">\n                <div className=\"absolute inset-0 bg-gradient-to-br from-accent-500/5 dark:from-accent-500/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-3xl\"></div>\n                <div className=\"relative flex items-start space-x-4\">\n                  <div className=\"p-3 bg-gradient-to-br from-accent-500 to-accent-600 dark:from-accent-600 dark:to-accent-700 rounded-2xl shadow-lg\">\n                    <FaUser className=\"text-xl text-white\" />\n                  </div>\n                  <div>\n                    <div className=\"font-bold text-neutral-900 dark:text-neutral-100 mb-1 text-lg\">24/7 Support</div>\n                    <div className=\"text-neutral-600 dark:text-neutral-400\">Always here when you need us</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          {/* Right Form */}\n          <div className=\"relative bg-white dark:bg-slate-800 rounded-3xl p-8 md:p-10 border border-neutral-200 dark:border-neutral-700 shadow-lg animate-slide-left\">\n            <div className=\"absolute inset-0 bg-gradient-to-br from-white to-neutral-50/50 dark:from-slate-800 dark:to-slate-900/50 rounded-3xl\"></div>\n            \n            {formStatus.submitted ? (\n              <div className=\"relative text-center py-12 space-y-6\">\n                <div className=\"relative inline-block\">\n                  <div className=\"absolute inset-0 bg-success-500/20 dark:bg-success-500/30 rounded-full blur-2xl animate-pulse\"></div>\n                  <div className=\"relative w-20 h-20 bg-gradient-to-br from-success-500 to-success-600 dark:from-success-600 dark:to-success-700 rounded-full flex items-center justify-center mx-auto shadow-xl\">\n                    <FaCheckCircle className=\"text-4xl text-white\" />\n                  </div>\n                </div>\n                <h3 className=\"text-3xl font-display font-bold text-neutral-900 dark:text-neutral-100\">Message Sent!</h3>\n                <p className=\"text-lg text-neutral-600 dark:text-neutral-400\">{formStatus.message}</p>\n                <button\n                  onClick={() => setFormStatus({ submitted: false, loading: false, error: false, message: \"\" })}\n                  className=\"inline-flex items-center px-6 py-3 bg-white dark:bg-slate-700 hover:bg-neutral-50 dark:hover:bg-slate-600 text-neutral-700 dark:text-neutral-200 font-semibold rounded-2xl border-2 border-neutral-200 dark:border-neutral-600 transition-all duration-300 hover:scale-105\"\n                >\n                  Send Another Message\n                </button>\n              </div>\n            ) : (\n              <form ref={form} onSubmit={sendEmail} className=\"relative space-y-6\">\n                <div>\n                  <label className=\"block text-sm font-bold text-neutral-700 dark:text-neutral-300 mb-3\">\n                    Your Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleChange}\n                    placeholder=\"John Doe\"\n                    className=\"w-full px-5 py-4 bg-white dark:bg-slate-900 border-2 border-neutral-200 dark:border-neutral-700 rounded-2xl\n                             focus:ring-2 focus:ring-primary-500/30 dark:focus:ring-primary-400/30 focus:border-primary-500 dark:focus:border-primary-400\n                             transition-all duration-200 placeholder:text-neutral-400 dark:placeholder:text-neutral-500\n                             hover:border-neutral-300 dark:hover:border-neutral-600 text-neutral-900 dark:text-neutral-100\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-bold text-neutral-700 dark:text-neutral-300 mb-3\">\n                    Email Address\n                  </label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleChange}\n                    placeholder=\"you@example.com\"\n                    className=\"w-full px-5 py-4 bg-white dark:bg-slate-900 border-2 border-neutral-200 dark:border-neutral-700 rounded-2xl\n                             focus:ring-2 focus:ring-primary-500/30 dark:focus:ring-primary-400/30 focus:border-primary-500 dark:focus:border-primary-400\n                             transition-all duration-200 placeholder:text-neutral-400 dark:placeholder:text-neutral-500\n                             hover:border-neutral-300 dark:hover:border-neutral-600 text-neutral-900 dark:text-neutral-100\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-bold text-neutral-700 dark:text-neutral-300 mb-3\">\n                    Message\n                  </label>\n                  <textarea\n                    name=\"message\"\n                    value={formData.message}\n                    onChange={handleChange}\n                    placeholder=\"Tell us how we can help you...\"\n                    rows=\"5\"\n                    className=\"w-full px-5 py-4 bg-white dark:bg-slate-900 border-2 border-neutral-200 dark:border-neutral-700 rounded-2xl\n                             focus:ring-2 focus:ring-primary-500/30 dark:focus:ring-primary-400/30 focus:border-primary-500 dark:focus:border-primary-400\n                             transition-all duration-200 placeholder:text-neutral-400 dark:placeholder:text-neutral-500\n                             hover:border-neutral-300 dark:hover:border-neutral-600 resize-none text-neutral-900 dark:text-neutral-100\"\n                    required\n                  />\n                </div>\n\n                {formStatus.error && (\n                  <div className=\"p-4 bg-red-50 dark:bg-red-900/20 border-2 border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-2xl text-sm font-medium\">\n                    {formStatus.message}\n                  </div>\n                )}\n\n                <button\n                  type=\"submit\"\n                  disabled={formStatus.loading}\n                  className=\"w-full relative inline-flex items-center justify-center gap-3 px-8 py-4 \n                           bg-gradient-to-r from-primary-600 to-accent-600 text-white text-lg font-bold \n                           rounded-2xl shadow-glow hover:shadow-neon-cyan\n                           hover:scale-105 active:scale-95 transition-all duration-300\n                           disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100\n                           overflow-hidden group\"\n                >\n                  {formStatus.loading ? (\n                    <>\n                      <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\n                      <span>Sending...</span>\n                    </>\n                  ) : (\n                    <>\n                      <span className=\"absolute inset-0 bg-gradient-to-r from-accent-600 to-primary-600 opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></span>\n                      <span className=\"relative z-10\">Send Message</span>\n                      <FaArrowRight className=\"relative z-10 group-hover:translate-x-1 transition-transform\" />\n                    </>\n                  )}\n                </button>\n              </form>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Contact;\n","size_bytes":12597},"backend/server.js":{"content":"const http = require(\"http\");\nconst app = require('./app');\nconst { Server } = require(\"socket.io\");\n\nconst server = http.createServer(app);\nconst io = new Server(server, {\n  cors: {\n    origin: \"*\",\n  },\n});\n\nconst port = process.env.PORT || 3000;\nconst db = require('./config/db.config');\n\napp.set(\"socketio\", io);\n\nio.use((socket, next) => {\n  const userId = socket.handshake.auth.userId;\n  socket.userId = userId;\n  next();\n});\n\nio.on(\"connection\", (socket) => {\n  console.log(\"Client connected with userId:\", socket.userId);\n\n  socket.on(\"joinRoom\", (roomId) => {\n    socket.join(roomId);\n    console.log(`Socket ${socket.userId} joined room ${roomId}`);\n  });\n  socket.on (\"send-message\", (message, roomID) => {\n    if (roomID === \"\"){\n      socket.broadcast.emit(\"receive-message\", message);\n    } else {\n      socket.to(roomID).emit(\"receive-message\", message);\n    }\n  });\n  socket.on(\"disconnect\", () => {\n    console.log(\"Client disconnected:\", socket.id);\n  });\n});\n\nserver.listen(port, () => {\n  console.log(`Server running on port ${port}...`);\n});\n","size_bytes":1063},"backend/start-backend.sh":{"content":"#!/bin/bash\n\n# MySQL configuration\nMYSQL_DIR=\"/home/runner/.mysql\"\nSOCKET_PATH=\"/tmp/mysql.sock\"\nPID_FILE=\"/tmp/mysql.pid\"\n\n# Function to check if MySQL is running\nis_mysql_running() {\n    if [ -f \"$PID_FILE\" ] && ps -p $(cat \"$PID_FILE\") > /dev/null 2>&1; then\n        return 0\n    fi\n    return 1\n}\n\n# Start MySQL if not already running\nif ! is_mysql_running; then\n    echo \"Starting MySQL server...\"\n    \n    # Check if data directory exists and is initialized\n    if [ ! -d \"$MYSQL_DIR/mysql\" ]; then\n        echo \"MySQL data directory not initialized. Database will not be available.\"\n        echo \"Please note: MySQL initialization has issues in this environment.\"\n    else\n        # Try to start MySQL server\n        mysqld --datadir=\"$MYSQL_DIR\" \\\n            --socket=\"$SOCKET_PATH\" \\\n            --pid-file=\"$PID_FILE\" \\\n            --bind-address=127.0.0.1 \\\n            --port=3306 \\\n            --skip-networking=0 \\\n            --innodb_use_native_aio=0 &\n        \n        # Wait a bit for MySQL to start\n        sleep 3\n    fi\nfi\n\n# Start the backend server\necho \"Starting backend server...\"\ncd /home/runner/Azure_Hack_FE/backend\nnpm start\n","size_bytes":1155},"src/main.jsx":{"content":"import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\nimport { ThemeProvider } from \"./context/ThemeContext.jsx\";\n\ncreateRoot(document.getElementById(\"root\")).render(\n  <StrictMode>\n    <ThemeProvider>\n      <App />\n    </ThemeProvider>\n  </StrictMode>\n);\n","size_bytes":336},"src/styles.js":{"content":"const styles = {\n  paddingX: \"px-4 sm:px-6 lg:px-8\",\n  paddingY: \"py-12 md:py-16 lg:py-20\",\n  paddingSection: \"py-16 md:py-20 lg:py-24\",\n  \n  sectionContainer: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n  \n  heroTitle: \"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight\",\n  displayXl: \"text-display-xl font-bold\",\n  displayLg: \"text-display-lg font-bold\",\n  displayMd: \"text-display-md font-semibold\",\n  displaySm: \"text-display-sm font-semibold\",\n  \n  headingXl: \"text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight\",\n  headingLg: \"text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight\",\n  headingMd: \"text-xl md:text-2xl lg:text-3xl font-semibold\",\n  headingSm: \"text-lg md:text-xl lg:text-2xl font-semibold\",\n  \n  bodyLg: \"text-base md:text-lg text-neutral-600\",\n  bodyMd: \"text-sm md:text-base text-neutral-600\",\n  bodySm: \"text-xs md:text-sm text-neutral-600\",\n  \n  btnPrimary: \"btn-primary\",\n  btnSecondary: \"btn-secondary\",\n  btnGhost: \"btn-ghost\",\n  \n  inputModern: \"input-modern\",\n  cardModern: \"card-modern\",\n  \n  glass: \"glass\",\n  glassDark: \"glass-dark\",\n  \n  gradientPrimary: \"gradient-primary\",\n  gradientAccent: \"gradient-accent\",\n  gradientMesh: \"gradient-mesh\",\n  textGradient: \"text-gradient\",\n  \n  transitionSmooth: \"transition-smooth\",\n  transitionQuick: \"transition-quick\",\n  \n  shadowSoft: \"shadow-soft\",\n  shadowMedium: \"shadow-medium\",\n  shadowLarge: \"shadow-large\",\n};\n\nexport { styles };\n","size_bytes":1443},"backend/controllers/userController.js":{"content":"","size_bytes":0},"src/pages/Home.jsx":{"content":"import React, { useRef } from \"react\";\nimport Footer from \"../components/Footer\";\nimport Feature from \"../components/home/Feature\";\n// import Hero from \"../components/home/Hero\"; // Comment out or remove this line\nimport AutoHeroDemo from \"../components/home/AutoHeroDemo\"; // Add this import\nimport Mission from \"../components/home/Mission\";\nimport Service from \"../components/home/Service\";\nimport NavBar from \"../components/NavBar\";\nimport Contact from \"../components/home/Contact\";\n\nconst Home = () => {\n  const serviceRef = useRef(null);\n\n  return (\n    <div className=\"bg-neutral-50 dark:bg-slate-900\">\n      <NavBar />\n      <AutoHeroDemo /> {/* Replace Hero with AutoHeroDemo */}\n      <Mission />\n      <Service ref={serviceRef} />\n      <Feature />\n      <Contact />\n      <Footer />\n    </div>\n  );\n};\n\nexport default Home;\n","size_bytes":835},"src/components/home/Hero.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"../ui\";\nimport { FaArrowRight, FaPlay, FaUsers, FaCheck } from \"react-icons/fa\";\n\nconst Hero = ({ serviceRef }) => {\n  const navigate = useNavigate();\n  const [inputText, setInputText] = useState(\"\");\n  const [translatedText, setTranslatedText] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [sourceLang, setSourceLang] = useState(\"English\");\n  const [targetLang, setTargetLang] = useState(\"Spanish\");\n  \n  const examplePhrases = [\n    { en: \"Hello, how are you?\", es: \"Hola, Â¿cÃ³mo estÃ¡s?\", fr: \"Bonjour, comment allez-vous?\", de: \"Hallo, wie geht es dir?\" },\n    { en: \"Welcome to UnifyChat\", es: \"Bienvenido a UnifyChat\", fr: \"Bienvenue Ã  UnifyChat\", de: \"Willkommen bei UnifyChat\" },\n    { en: \"Let's start chatting\", es: \"Empecemos a chatear\", fr: \"CommenÃ§ons Ã  discuter\", de: \"Lass uns anfangen zu chatten\" },\n  ];\n\n  const [currentPhraseIndex, setCurrentPhraseIndex] = useState(0);\n\n  const getSourcePhrase = () => {\n    const langKey = sourceLang.toLowerCase().substring(0, 2);\n    return examplePhrases[currentPhraseIndex][langKey] || examplePhrases[currentPhraseIndex].en;\n  };\n\n  const getTargetTranslation = () => {\n    const langKey = targetLang.toLowerCase().substring(0, 2);\n    return examplePhrases[currentPhraseIndex][langKey] || examplePhrases[currentPhraseIndex].en;\n  };\n\n  useEffect(() => {\n    const phrase = getSourcePhrase();\n    let charIndex = 0;\n    let typingIntervalHandle = null;\n    let transIntervalHandle = null;\n    let translationTimeoutHandle = null;\n    let nextPhraseTimeoutHandle = null;\n\n    setInputText(\"\");\n    setTranslatedText(\"\");\n    setIsTyping(true);\n\n    typingIntervalHandle = setInterval(() => {\n      if (charIndex < phrase.length) {\n        setInputText(phrase.substring(0, charIndex + 1));\n        charIndex++;\n      } else {\n        clearInterval(typingIntervalHandle);\n        setIsTyping(false);\n        \n        translationTimeoutHandle = setTimeout(() => {\n          const targetTranslation = getTargetTranslation();\n          let transCharIndex = 0;\n          transIntervalHandle = setInterval(() => {\n            if (transCharIndex < targetTranslation.length) {\n              setTranslatedText(targetTranslation.substring(0, transCharIndex + 1));\n              transCharIndex++;\n            } else {\n              clearInterval(transIntervalHandle);\n              nextPhraseTimeoutHandle = setTimeout(() => {\n                setCurrentPhraseIndex((prev) => (prev + 1) % examplePhrases.length);\n              }, 3000);\n            }\n          }, 30);\n        }, 500);\n      }\n    }, 50);\n\n    return () => {\n      clearInterval(typingIntervalHandle);\n      clearInterval(transIntervalHandle);\n      clearTimeout(translationTimeoutHandle);\n      clearTimeout(nextPhraseTimeoutHandle);\n    };\n  }, [currentPhraseIndex, sourceLang, targetLang]);\n\n  const scrollToServiceSection = () => {\n    if (serviceRef && serviceRef.current) {\n      serviceRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  };\n\n  return (\n    <div className=\"relative min-h-screen flex items-center overflow-hidden bg-gradient-to-br from-neutral-50 dark:from-slate-900 via-primary-50/30 dark:via-slate-900 to-purple-50/20 dark:to-slate-900 pt-20\">\n      {/* Subtle gradient mesh */}\n      <div className=\"absolute inset-0 bg-gradient-to-br from-primary-50/50 dark:from-primary-950/20 to-transparent\"></div>\n\n      <div className=\"section-container relative z-10 py-16 lg:py-24\">\n        <div className=\"max-w-5xl mx-auto text-center space-y-12\">\n          {/* Headline */}\n          <div className=\"space-y-6 animate-fade-in\">\n            <h1 className=\"text-4xl sm:text-5xl lg:text-6xl font-bold text-neutral-900 dark:text-neutral-100 leading-tight\">\n              Break Language Barriers\n              <br />\n              <span className=\"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent\">\n                Connect Globally with AI\n              </span>\n            </h1>\n            <p className=\"text-lg sm:text-xl text-neutral-600 dark:text-neutral-300 max-w-3xl mx-auto\">\n              Try it now - Type to translate instantly\n            </p>\n          </div>\n\n          {/* Inline Translation Demo */}\n          <div className=\"max-w-4xl mx-auto\">\n            <div className=\"grid md:grid-cols-2 gap-6 bg-white dark:bg-slate-800 rounded-2xl p-6 sm:p-8 shadow-xl border-2 border-neutral-200 dark:border-neutral-700 focus-within:border-primary-500 dark:focus-within:border-primary-400 transition-all duration-300\">\n              {/* Source Text */}\n              <div className=\"space-y-3\">\n                <div className=\"min-h-[120px] p-4 bg-neutral-50 dark:bg-slate-900 rounded-xl border border-neutral-200 dark:border-neutral-700\">\n                  <p className=\"text-lg text-neutral-900 dark:text-neutral-100 font-medium\">\n                    {inputText}\n                    {isTyping && <span className=\"animate-pulse\">|</span>}\n                  </p>\n                </div>\n                <select \n                  value={sourceLang}\n                  onChange={(e) => setSourceLang(e.target.value)}\n                  className=\"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-neutral-300 dark:border-neutral-600 rounded-lg text-neutral-900 dark:text-neutral-100 font-medium focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 outline-none transition-all\"\n                >\n                  <option>English</option>\n                  <option>Spanish</option>\n                  <option>French</option>\n                  <option>German</option>\n                </select>\n              </div>\n\n              {/* Translated Text */}\n              <div className=\"space-y-3\">\n                <div className=\"min-h-[120px] p-4 bg-primary-50 dark:bg-primary-950/30 rounded-xl border border-primary-200 dark:border-primary-800\">\n                  <p className=\"text-lg text-primary-900 dark:text-primary-100 font-medium\">\n                    {translatedText}\n                    {!isTyping && translatedText && translatedText.length < getTargetTranslation().length && <span className=\"animate-pulse\">|</span>}\n                  </p>\n                </div>\n                <select \n                  value={targetLang}\n                  onChange={(e) => setTargetLang(e.target.value)}\n                  className=\"w-full px-4 py-2 bg-white dark:bg-slate-700 border border-neutral-300 dark:border-neutral-600 rounded-lg text-neutral-900 dark:text-neutral-100 font-medium focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 outline-none transition-all\"\n                >\n                  <option>Spanish</option>\n                  <option>French</option>\n                  <option>German</option>\n                  <option>English</option>\n                </select>\n              </div>\n            </div>\n          </div>\n\n          {/* CTA Buttons */}\n          <div className=\"flex flex-col sm:flex-row items-center justify-center gap-4 animate-slide-up\">\n            <button\n              onClick={() => navigate(\"/Chat\")}\n              className=\"group px-8 py-4 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white text-lg font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-primary-500/30 flex items-center gap-2\"\n            >\n              Get Started Free\n              <FaArrowRight className=\"group-hover:translate-x-1 transition-transform\" />\n            </button>\n\n            <button\n              onClick={scrollToServiceSection}\n              className=\"group px-8 py-4 bg-white dark:bg-slate-800 text-neutral-700 dark:text-neutral-200 text-lg font-semibold rounded-xl border-2 border-neutral-300 dark:border-neutral-600 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-200 hover:scale-105 flex items-center gap-3\"\n            >\n              <div className=\"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center group-hover:bg-primary-600 dark:group-hover:bg-primary-500 transition-colors\">\n                <FaPlay className=\"ml-0.5 text-primary-600 dark:text-primary-400 group-hover:text-white\" />\n              </div>\n              <span>Watch Demo</span>\n            </button>\n          </div>\n\n          {/* Trust Badge */}\n          <div className=\"flex flex-col items-center justify-center space-y-4 animate-fade-in\">\n            <div className=\"flex items-center space-x-2 text-sm text-neutral-600 dark:text-neutral-400\">\n              <FaUsers className=\"text-primary-600 dark:text-primary-400\" />\n              <span className=\"font-medium\">Trusted by 10,000+ users worldwide</span>\n            </div>\n            <div className=\"flex flex-wrap items-center justify-center gap-4\">\n              <div className=\"flex items-center space-x-2 text-sm text-neutral-600 dark:text-neutral-400\">\n                <FaCheck className=\"text-success-600 dark:text-success-400\" />\n                <span>No credit card required</span>\n              </div>\n              <div className=\"flex items-center space-x-2 text-sm text-neutral-600 dark:text-neutral-400\">\n                <FaCheck className=\"text-success-600 dark:text-success-400\" />\n                <span>Free forever</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Hero;\n","size_bytes":9708},"backend/controllers/roomController.js":{"content":"const { PrismaClient } = require(\"@prisma/client\");\nconst prisma = new PrismaClient();\nconst { v4: uuidv4 } = require('uuid');\nconst MemberStatus = require('../utils/room');\nconst { checkAdmin, getUser } = require('../utils/helper');\nconst multer = require('multer');\nconst path = require('path');\nconst fs = require('fs');\n\n// Configure multer for file uploads\nconst storage = multer.diskStorage({\n  destination: (req, file, cb) => {\n    const uploadDir = path.join(__dirname, '../uploads');\n    if (!fs.existsSync(uploadDir)) {\n      fs.mkdirSync(uploadDir, { recursive: true });\n    }\n    cb(null, uploadDir);\n  },\n  filename: (req, file, cb) => {\n    const uniqueName = uuidv4() + path.extname(file.originalname);\n    cb(null, uniqueName);\n  }\n});\n\nconst upload = multer({\n  storage,\n  limits: { fileSize: 10 * 1024 * 1024 }, // 10MB limit\n  fileFilter: (req, file, cb) => {\n    const allowedTypes = /jpeg|jpg|png|gif|pdf|doc|docx|txt/;\n    const extname = allowedTypes.test(path.extname(file.originalname).toLowerCase());\n    const mimetype = allowedTypes.test(file.mimetype);\n\n    if (mimetype && extname) {\n      return cb(null, true);\n    } else {\n      cb(new Error('Invalid file type'));\n    }\n  }\n});\n\n// create chat room by admin_id\nconst createRoom = async (req, res) => {\n    try {\n        const { name, description, adminId, avatarColor, avatarText, lastMessage } = req.body;\n\n        if (!adminId) {\n            return res.status(400).json({ error: \"admin_id is required.\"})\n        }\n\n        // Check if adminId exists in User table\n        const admin = await prisma.user.findUnique({\n            where: { id: adminId }\n        });\n        if (!admin) {\n            return res.status(400).json({ error: \"Invalid admin ID. User does not exist.\" });\n        }\n\n        if (!name) {\n            return res.status(400).json({ error: \"Chat room name is required.\"})\n        }\n\n        if (!avatarColor || !avatarText) {\n            return res.status(400).json({ error: \"Chat room avatar color and text is required.\"})\n        }\n\n        const id = uuidv4();\n\n        const chatroom = await prisma.chatRoom.create({\n            data: {\n                id,\n                name,\n                description,\n                admin_id: adminId,\n                created_at: new Date(),\n                updated_at: new Date(),\n                avatar_color: avatarColor,\n                avatar_text: avatarText,\n                last_message: lastMessage\n            }\n        });\n\n        await prisma.chatRoomMember.create({\n            data: {\n                user_id: adminId,\n                chat_id: id,\n                status: MemberStatus.APPROVED\n            }\n        });\n\n        await prisma.chatRoomRead.create({\n            data: {\n                user_id: adminId,\n                chat_id: id,\n                unread: true\n            }\n        })\n        \n        return res.status(201).json({ message: \"Chat room created successfully.\", chatroom });\n    }\n    catch (err) {\n        console.error(\"Error creating chat room: \", err.message);\n        return res.status(500).json({ error: \"Internal server error.\"});\n    }\n}\n\n// get chat room details\nconst getChatRoomDetails = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n    \n        const chatRoom = await prisma.chatRoom.findUnique({\n            where: { id: chatId },\n            select: {\n                id: true,\n                name: true,\n                description: true,\n                admin_id: true,\n                avatar_color: true,\n                avatar_text: true,\n                last_message: true,\n                created_at: true,\n                updated_at: true,\n                members: {\n                    select: {\n                        timestamp: true,\n                        status: true,\n                        user: {\n                            select: {\n                            id: true,\n                            given_name: true,\n                            profile_picture: true,\n                            email: true\n                            }\n                        }\n                    }\n                }\n            }\n        });\n  \n\tif (!chatRoom) {\n\t\treturn res.status(404).json({ error: \"Chat room not found\" });\n\t}\n\n\tconst formattedMembers = chatRoom.members.map(member => ({\n\t\tid: member.user.id,\n\t\tgiven_name: member.user.given_name,\n\t\tprofile_picture: member.user.profile_picture,\n\t\tstatus: member.status,\n        timestamp: member.timestamp\n\t}));\n\n\treturn res.json({\n\t\tchatRoom: {\n\t\t\t...chatRoom,\n\t\t\tmembers: formattedMembers\n\t\t}\n\t});\n  \n    } catch (err) {\n      console.error(\"Error fetching chat room details:\", err.message);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  };  \n\n// update chat room's description\nconst updateRoomData = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const data = req.body;\n\n        const chatroom = await prisma.chatRoom.update({\n            where: { id: chatId },\n            data: { \n                ...data,\n                updated_at: new Date()\n            }\n        });\n\n        return res.json({ message: \"Chat room's description updated successfully.\", chatroom})\n\n    }\n    catch (err) {\n        console.error(\"Error updating description:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// member request join\nconst requestJoin = async (req, res) => {\n    try {\n        const { chatId } =  req.params;\n        const { userId } = req.body;\n\n        const requested = await prisma.chatRoomMember.findFirst({\n            where: { \n                user_id: userId,\n                chat_id: chatId,\n                status: MemberStatus.PENDING\n            }\n        })\n\n        if (requested == null) {\n            await prisma.chatRoomMember.create({\n                data: { \n                    user_id: userId,\n                    chat_id: chatId,\n                    status: MemberStatus.PENDING\n                }\n            })\n            return res.json({ message: \"Join request sent from \" + userId })\n        }\n        return res.json({ message: userId + \" already sent request to join.\"})\n    }\n    catch (err) {\n        console.error(\"Error requesting to join:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// admin approve member\nconst handleMemberRequest = async (req, res) => {\n    try {\n        const { chatId  } = req.params;\n        const { userId, status } = req.body;\n        \n        if (!checkAdmin(chatId, userId)) {\n            return res.status(400).json({ message: \"Only admin can approve member.\" })\n        }\n\n        if (status == MemberStatus.REJECTED) {\n            await prisma.chatRoomMember.delete({\n                where: { \n                    user_id_chat_id: {\n                        chat_id: chatId, \n                        user_id: userId\n                    }\n                },\n            })\n        }\n        else {\n            await prisma.chatRoomMember.update({\n                where: { \n                    user_id_chat_id: {\n                        chat_id: chatId, \n                        user_id: userId\n                    }\n                },\n                data: { \n                    status: status,\n                    timestamp: new Date()\n                }\n            })\n\n            await prisma.chatRoomRead.create({\n                data: {\n                    user_id: userId,\n                    chat_id: chatId,\n                    unread: true\n                }\n            })\n        }\n\n        return res.json({ message: \"Member approved \" + userId })\n    }\n    catch (err) {\n        console.error(\"Error requesting to join:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// remove member\nconst removeMember = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n\n        if (!checkAdmin(chatId, userId)) {\n            return res.status(400).json({ message: \"Only admin can remove member.\" })\n        }\n\n        await prisma.chatRoomMember.delete({\n            where: {\n                user_id_chat_id: {\n                    chat_id: chatId, \n                    user_id: userId \n                }\n            }\n        });\n\n        return res.json({ message: userId + \" has been removed from chat room\"})\n    }\n    catch (err) {\n        console.error(\"Error removing member:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// leave room (if admin vs if members)\nconst leaveRoom = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n\n        if (checkAdmin(chatId, userId)) {\n            const newAdmin = await prisma.chatRoomMember.findFirst({\n                where: { \n                    chat_id: chatId,\n                    user_id: {\n                        not: userId\n                    },\n                    status: MemberStatus.APPROVED\n                },\n                select: { user_id: true },\n                orderBy: { user_id: \"asc\" } \n            });\n\n            if (newAdmin) {\n                // assign new admin\n                await prisma.chatRoom.update({\n                    where: { id: chatId },\n                    data: { admin_id: newAdmin.user_id }\n                });\n\n                // leave room\n                await prisma.chatRoomMember.delete({\n                    where: { \n                        user_id_chat_id: { \n                            chat_id: chatId, \n                            user_id: userId \n                        } \n                    }\n                });\n\n                await prisma.chatRoomRead.delete({\n                    where: { \n                        user_id_chat_id: { \n                            chat_id: chatId, \n                            user_id: userId \n                        } \n                    }\n                });\n\n            } \n            else {\n                // no members left -> delete the chat room\n                const a = await prisma.chatRoom.findMany({\n                    where: { id: chatId, admin_id: userId },\n                });\n                await prisma.chatRoom.delete({ where: { id: chatId } });\n            }\n        }\n        return res.json({ message: userId + \" has left the chat room\"});\n    }\n    catch (err) {\n        console.error(\"Error leaving room:\", err.message);\n        res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst getReadStatus = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n\n        const response = await prisma.chatRoomRead.findFirst({\n            where: {\n                chat_id: chatId, \n                user_id: userId \n            }\n        });\n        return res.json({ message: \"Chat room read status updated successfully\", unread: response?.unread})\n    }\n    catch (err) {\n        console.error(\"Error loading messages:\", err.message);\n        res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst updateReadStatus = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n\n        await prisma.chatRoomRead.updateMany({\n            where: { \n                chat_id: chatId, \n                user_id: userId\n            },\n            data: { unread: false }\n        });\n        return res.json({message: \"Chat room read status updated.\"})\n    }\n    catch (err) {\n        console.error(\"Error loading messages:\", err.message);\n        res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst loadMessages = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const cursor = req.query.cursor || null;\n        const limit = 20;\n\n        // Check if chatroom exists\n        const chatroom = await prisma.chatRoom.findUnique({\n            where: { id: chatId }\n        });\n        if (!chatroom) {\n            return res.status(404).json({ error: \"Chat room not found\" });\n        }\n\n        console.log(cursor)\n\n        const messages = await prisma.message.findMany({\n            where: { chat_id: chatId },\n            orderBy: { created_at: \"desc\" },\n            take: limit,\n            ...(cursor && {\n            skip: 1,\n            cursor: { id: cursor },\n            }),\n            include: {\n            sender: {\n                select: {\n                given_name: true,\n                profile_picture: true,\n                },\n            },\n            },\n        });\n\n        const oldest = await prisma.message.findFirst({\n            where: { chat_id: chatId },\n            orderBy: { created_at: \"asc\" },\n            select: { id: true },\n        });\n\n        console.log(messages)\n        const hasMore = oldest && !messages.some((msg) => msg.id === oldest?.id);\n\n        return res.json({\n            messages: messages.reverse(),\n            cursor: hasMore ? messages[0]?.id : null,\n            hasMore,\n        });\n    } catch (err) {\n      console.error(\"Error loading messages:\", err.message);\n      return res.status(500).json({ error: \"Internal server error\" });\n    }\n};\n\n\n// load latest chat rooms for user\nconst loadChatRooms = async (req, res) => {\n    try {\n        const { userId } = req.params;\n        const cursor = req.query.cursor || null;\n        const limit = 10;\n\n        // fetch chat rooms where user is an \"approved\" member\n        const chatRooms = await prisma.chatRoomMember.findMany({\n            where: { \n                user_id: userId, \n                status: MemberStatus.APPROVED\n            },\n            take: limit,\n            cursor: cursor ? { chat_id: cursor, user_id: userId } : undefined, // Cursor for pagination\n            orderBy: { chatRoom: { updated_at: \"desc\" } }, // Sort by latest chat room update\n            include: {\n                chatRoom: {\n                    include: {\n                        messages: {\n                            take: 1, // Fetch only the latest message\n                            orderBy: { created_at: \"asc\" }, // Get the most recent message\n                            select: {\n                                content: true, \n                                created_at: true,\n                                sender: { select: { given_name: true, profile_picture: true } }\n                            }\n                        }\n                    }\n                }\n            }\n        });\n\n        // Get last chat room ID for next request\n        const nextCursor = chatRooms.length === limit ? chatRooms[chatRooms.length - 1].id : null;\n\n        return res.json({\n            chatRooms: chatRooms,\n            cursor: nextCursor, // Use this cursor for next request\n            hasMore: !!nextCursor\n        });\n\n    } catch (err) {\n        console.error(\"Error loading chat rooms:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n};\n\nconst getMembers = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const memsChat = await prisma.chatRoomMember.findMany({\n            where: { \n                chat_id: chatId,\n                status: MemberStatus.APPROVED\n             }\n        });\n\n        const members = await Promise.all(\n            memsChat.map((mem) => getUser(mem.user_id))\n        );          \n        \n        return res.json({message: \"Get chat room members successfully.\", members})\n    }\n    catch (err) {\n        console.error(\"Error loading chat rooms:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst getPendingMembers = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const memsChat = await prisma.chatRoomMember.findMany({\n            where: { \n                chat_id: chatId,\n                status: MemberStatus.PENDING\n            }\n        });\n\n        const members = await Promise.all(\n            memsChat.map((mem) => getUser(mem.user_id))\n        );          \n        \n        return res.json({message: \"Get chat room pending members successfully.\", members})\n    }\n    catch (err) {\n        console.error(\"Error loading chat rooms:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// check if admin of chat room\nconst isAdmin = async (req, res) => {\n    try {\n        const { chatId , userId } = req.params;\n        const isAd = await checkAdmin(chatId, userId);\n\n        return res.json({ isAdmin: isAd })\n    }\n    catch (err) {\n        console.error(\"Error checking admin status:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst changeAdmin = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const { newAdminId } = req.body;\n\n        await prisma.chatRoom.updateMany({\n            where: {\n                id: chatId\n            },\n            data: {\n                admin_id: newAdminId\n            }\n        })\n        return res.json({message: \"Change admin successfully.\"})\n    }\n    catch (err) {\n        console.error(\"Failed to change new admin:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst isMember = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n        const findMem = await prisma.chatRoomMember.findFirst({\n            where: {\n                chat_id: chatId,\n                user_id: userId,\n                status: 'approved'\n            }\n        });\n\n        console.log(findMem)\n          \n        return res.json({isMember: findMem != null, chatroom: findMem})\n    }\n    catch (err) {\n        console.error(\"Failed to check member status:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst getPendingRooms = async (req, res) => {\n    const { userId } = req.params;\n\n    try {\n        const pendingRooms = await prisma.chatRoomMember.findMany({\n            where: {\n            user_id: userId,\n            status: \"pending\",\n            },\n            include: {\n            chatRoom: true, // include chat room details\n            },\n        });\n\n        const sortedRooms = pendingRooms\n            .filter(r => r.chatRoom) // ensure chatRoom exists\n            .sort((a, b) => new Date(b.chatRoom.updated_at) - new Date(a.chatRoom.updated_at));\n\n        const rooms = sortedRooms.map((entry) => entry.chatRoom);\n\n      return res.json({ pendingRooms: rooms });\n    } catch (err) {\n      console.error(\"Error fetching pending rooms:\", err);\n      return res.status(500).json({ error: \"Internal server error\" });\n    }\n  };\n\n// File upload endpoint\nconst uploadFile = async (req, res) => {\n    try {\n        if (!req.file) {\n            return res.status(400).json({ error: 'No file uploaded' });\n        }\n\n        const fileUrl = `/uploads/${req.file.filename}`;\n        const fileType = req.file.mimetype.startsWith('image/') ? 'image' : 'file';\n\n        return res.json({\n            message: 'File uploaded successfully',\n            fileUrl,\n            fileType,\n            originalName: req.file.originalname\n        });\n    } catch (err) {\n        console.error('Error uploading file:', err.message);\n        return res.status(500).json({ error: 'Internal server error' });\n    }\n};\n\n\n// delete chat room\nconst deleteRoom = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const { userId } = req.body;\n\n        // Check if user is admin\n        const chatRoom = await prisma.chatRoom.findUnique({\n            where: { id: chatId }\n        });\n\n        if (!chatRoom) {\n            return res.status(404).json({ error: \"Chat room not found\" });\n        }\n\n        if (chatRoom.admin_id !== userId) {\n            return res.status(403).json({ error: \"Only admin can delete the chat room\" });\n        }\n\n        // Delete all related data\n        await prisma.message.deleteMany({\n            where: { chat_id: chatId }\n        });\n\n        await prisma.chatRoomRead.deleteMany({\n            where: { chat_id: chatId }\n        });\n\n        await prisma.chatRoomMember.deleteMany({\n            where: { chat_id: chatId }\n        });\n\n        await prisma.chatRoom.delete({\n            where: { id: chatId }\n        });\n\n        return res.json({ message: \"Chat room deleted successfully\" });\n    } catch (err) {\n        console.error(\"Error deleting chat room:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n};\n\nmodule.exports = {\n    createRoom,\n    requestJoin,\n    getChatRoomDetails,\n    loadMessages,\n    loadChatRooms,\n    isAdmin,\n    updateRoomData,\n    handleMemberRequest,\n    removeMember,\n    leaveRoom,\n    deleteRoom,\n    getReadStatus,\n    updateReadStatus,\n    getMembers,\n    getPendingMembers,\n    changeAdmin,\n    isMember,\n    getPendingRooms,\n    uploadFile,\n    upload // export multer upload middleware\n}\n","size_bytes":21014},"backend/routes/userRoutes.js":{"content":"const express = require('express');\nconst passport = require('../controllers/passController');\n\nconst { googleLogin } = require('../controllers/googleControler');\nconst authController = require('./../controllers/authController');\nconst router = express.Router();\n\nrouter.post('/signup', authController.signup);\nrouter.post('/login', authController.login);\n\nrouter.get(\n  '/google',\n  passport.authenticate('google', { scope: ['profile', 'email'] })\n);\n\nrouter.get(\n  '/google/callback',\n  passport.authenticate('google', { failureRedirect: '/' }),\n  (req, res) => {\n    res.status(200).json({\n      message: 'Google authentication successful',\n      user: req.user,\n    });\n  }\n);\n\nrouter.get('/google/fail', (req, res) => {\n  res.status(401).json({ message: 'Google authentication failed' });\n});\n\nrouter.post('/google', googleLogin);\nrouter.get('/me', authController.protect, authController.getMe);\nrouter.put('/update', authController.protect, authController.updateUser);\nmodule.exports = router;\n","size_bytes":1000},"src/pages/Error.jsx":{"content":"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport NavBar from \"../components/NavBar\";\n\nconst Error = () => {\n  return (\n    <div className=\"flex flex-col h-[100vh] justify-center\">\n      <NavBar />\n      <div className=\"w-full flex justify-center items-center\">\n        <div className=\"flex items-center w-[200px]\">\n          <img\n            src={logo}\n            alt=\"Logo\"\n            className=\"cursor-pointer\"\n            onClick={() => navigate(\"/\")}\n          />\n        </div>\n      </div>\n      <div className=\"flex flex-col items-center justify-center text-center\">\n        <p className=\" lg:text-[4rem] text-[3rem] font-['Montserrat'] font-bold text-[#A30609]\">\n          404{\" \"}\n          <span className=\"md:hidden\">\n            <br />\n          </span>{\" \"}\n          NOT FOUND\n        </p>\n        <p className=\"lg:text-[1.5rem] text-[1rem] text-[#A30609]\">\n          The page you requested does not exist{\" \"}\n          <span className=\"md:hidden\">\n            <br />\n          </span>{\" \"}\n          or has been removed! <br />\n          <div className=\"md:hidden mt-3\" />\n          Please try another link.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Error;\n","size_bytes":1254},"src/components/home/Service.jsx":{"content":"import React, { forwardRef } from \"react\";\nimport { FaGlobe, FaComments, FaLanguage, FaBolt, FaCheckCircle } from \"react-icons/fa\";\n\nconst Service = forwardRef((props, ref) => {\n  const services = [\n    {\n      id: \"translate\",\n      icon: FaLanguage,\n      title: \"140+ Languages\",\n      subtitle: \"Instant Translation\",\n      description: \"Break down language barriers with support for over 140 languages. Chat naturally while our AI handles the translation in real-time.\",\n      features: [\"Real-time translation\", \"Context-aware\", \"Native accuracy\"],\n      gradient: \"from-indigo-500 via-purple-500 to-pink-500\",\n      iconBg: \"bg-indigo-500\",\n    },\n    {\n      id: \"realtime\",\n      icon: FaBolt,\n      title: \"Lightning Fast\",\n      subtitle: \"Real-Time Speed\",\n      description: \"Experience conversations without delays. Our Azure-powered infrastructure ensures messages translate in milliseconds, not seconds.\",\n      features: [\"&lt; 100ms latency\", \"WebSocket powered\", \"Always reliable\"],\n      gradient: \"from-cyan-500 via-blue-500 to-indigo-500\",\n      iconBg: \"bg-cyan-500\",\n    },\n    {\n      id: \"global\",\n      icon: FaGlobe,\n      title: \"Global Reach\",\n      subtitle: \"Connect Worldwide\",\n      description: \"Join chat rooms with people from around the world. Everyone sees messages in their own language automatically.\",\n      features: [\"Auto-detection\", \"Smart routing\", \"Secure encryption\"],\n      gradient: \"from-pink-500 via-rose-500 to-red-500\",\n      iconBg: \"bg-pink-500\",\n    },\n  ];\n\n  return (\n    <div ref={ref} id=\"services\" className=\"relative py-20 bg-neutral-50 dark:bg-slate-900 transition-colors overflow-hidden\">\n      {/* Animated Background Gradients */}\n      <div className=\"absolute inset-0 overflow-hidden\">\n        <div className=\"absolute -top-40 -right-40 w-96 h-96 bg-primary-500/20 dark:bg-primary-500/10 rounded-full blur-3xl animate-float\"></div>\n        <div className=\"absolute -bottom-40 -left-40 w-96 h-96 bg-accent-500/20 dark:bg-accent-500/10 rounded-full blur-3xl animate-float-delayed\"></div>\n      </div>\n\n      <div className=\"section-container relative z-10\">\n        {/* Header */}\n        <div className=\"text-center max-w-3xl mx-auto mb-16 space-y-6\">\n          <div className=\"inline-flex items-center space-x-2 px-4 py-2 bg-white dark:bg-slate-800 rounded-full border border-primary-200 dark:border-primary-800 shadow-sm\">\n            <div className=\"w-2 h-2 bg-primary-500 dark:bg-primary-400 rounded-full animate-pulse\"></div>\n            <span className=\"text-sm font-semibold bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent\">Our Services</span>\n          </div>\n          \n          <h2 className=\"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100 leading-tight\">\n            Everything you need to\n            <br />\n            <span className=\"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent\">\n              communicate globally\n            </span>\n          </h2>\n          \n          <p className=\"text-lg text-neutral-600 dark:text-neutral-300\">\n            Powerful AI-driven services designed for seamless cross-language communication\n          </p>\n        </div>\n\n        {/* Services Grid - Unique Bento Box Layout */}\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {services.map((service, index) => (\n            <div\n              key={service.id}\n              className=\"group relative\"\n            >\n              {/* Card */}\n              <div className=\"relative h-full bg-white dark:bg-slate-800 rounded-3xl p-8 border-2 border-neutral-200 dark:border-neutral-700 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300 overflow-hidden\">\n                {/* Gradient Overlay on Hover */}\n                <div className={`absolute inset-0 bg-gradient-to-br ${service.gradient} opacity-0 group-hover:opacity-5 dark:group-hover:opacity-10 transition-opacity duration-300`}></div>\n                \n                {/* Floating Icon */}\n                <div className=\"relative z-10 space-y-6\">\n                  <div className={`inline-flex p-4 ${service.iconBg} dark:${service.iconBg}/80 rounded-2xl shadow-lg group-hover:scale-110 transition-transform duration-300`}>\n                    <service.icon className=\"text-3xl text-white\" />\n                  </div>\n\n                  {/* Title */}\n                  <div className=\"space-y-2\">\n                    <p className=\"text-sm font-semibold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\">\n                      {service.subtitle}\n                    </p>\n                    <h3 className=\"text-2xl font-bold text-neutral-900 dark:text-neutral-100\">\n                      {service.title}\n                    </h3>\n                  </div>\n\n                  {/* Description */}\n                  <p className=\"text-neutral-600 dark:text-neutral-300 leading-relaxed\">\n                    {service.description}\n                  </p>\n\n                  {/* Features List */}\n                  <ul className=\"space-y-2\">\n                    {service.features.map((feature, idx) => (\n                      <li key={idx} className=\"flex items-center space-x-2 text-sm text-neutral-700 dark:text-neutral-300\">\n                        <FaCheckCircle className=\"text-success-600 dark:text-success-400 flex-shrink-0\" />\n                        <span>{feature}</span>\n                      </li>\n                    ))}\n                  </ul>\n\n                  {/* Hover Indicator */}\n                  <div className=\"pt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                    <div className={`h-1 w-full bg-gradient-to-r ${service.gradient} rounded-full`}></div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        {/* Bottom CTA */}\n        <div className=\"mt-16 text-center\">\n          <div className=\"inline-flex flex-col md:flex-row items-center gap-4 p-8 bg-white dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 shadow-lg\">\n            <div className=\"text-center md:text-left\">\n              <p className=\"text-lg font-semibold text-neutral-900 dark:text-neutral-100\">\n                Ready to connect with the world?\n              </p>\n              <p className=\"text-sm text-neutral-600 dark:text-neutral-400\">\n                Start chatting in any language, instantly\n              </p>\n            </div>\n            <a\n              href=\"/Chat\"\n              className=\"px-6 py-3 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-primary-500/30 whitespace-nowrap\"\n            >\n              Start Chatting\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nService.displayName = 'Service';\n\nexport default Service;\n","size_bytes":7127},"src/components/ui/Modal.jsx":{"content":"import React, { useEffect } from 'react';\nimport { FaTimes } from 'react-icons/fa';\n\nconst Modal = ({ \n  isOpen, \n  onClose, \n  title, \n  children, \n  size = 'md',\n  showClose = true,\n  className = '' \n}) => {\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  const sizes = {\n    sm: 'max-w-md',\n    md: 'max-w-lg',\n    lg: 'max-w-2xl',\n    xl: 'max-w-4xl',\n    full: 'max-w-full mx-4',\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in\"\n      onClick={onClose}\n    >\n      <div \n        className=\"absolute inset-0 bg-neutral-900/50 backdrop-blur-sm\"\n        aria-hidden=\"true\"\n      />\n      \n      <div \n        className={`\n          relative bg-white rounded-2xl shadow-large \n          w-full ${sizes[size]} animate-scale-in\n          ${className}\n        `}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {(title || showClose) && (\n          <div className=\"flex items-center justify-between p-6 border-b border-neutral-100\">\n            {title && (\n              <h2 className=\"text-2xl font-semibold text-neutral-900\">\n                {title}\n              </h2>\n            )}\n            {showClose && (\n              <button\n                onClick={onClose}\n                className=\"ml-auto p-2 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors\"\n              >\n                <FaTimes size={20} />\n              </button>\n            )}\n          </div>\n        )}\n        \n        <div className=\"p-6\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","size_bytes":1852},"src/components/ui/Button.jsx":{"content":"import React from 'react';\n\nconst Button = ({ \n  children, \n  variant = 'primary', \n  size = 'md', \n  fullWidth = false,\n  disabled = false,\n  loading = false,\n  icon,\n  onClick,\n  type = 'button',\n  className = '',\n  ...props \n}) => {\n  const baseStyles = 'inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100';\n  \n  const variants = {\n    primary: 'bg-primary-600 text-white hover:bg-primary-700 shadow-soft hover:shadow-medium',\n    secondary: 'bg-neutral-900 text-white hover:bg-neutral-800 shadow-soft hover:shadow-medium',\n    outline: 'bg-transparent border-2 border-neutral-300 text-neutral-700 hover:border-neutral-400 hover:bg-neutral-50',\n    ghost: 'bg-transparent text-neutral-700 hover:bg-neutral-100',\n    danger: 'bg-error text-white hover:bg-error-dark shadow-soft hover:shadow-medium',\n    success: 'bg-success text-white hover:bg-success-dark shadow-soft hover:shadow-medium',\n    gradient: 'bg-gradient-to-r from-primary-600 to-accent-600 text-white hover:from-primary-700 hover:to-accent-700 shadow-glow',\n  };\n  \n  const sizes = {\n    sm: 'px-4 py-2 text-sm',\n    md: 'px-6 py-3 text-base',\n    lg: 'px-8 py-4 text-lg',\n  };\n  \n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={disabled || loading}\n      className={`\n        ${baseStyles}\n        ${variants[variant]}\n        ${sizes[size]}\n        ${fullWidth ? 'w-full' : ''}\n        ${className}\n      `}\n      {...props}\n    >\n      {loading && (\n        <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n      )}\n      {icon && !loading && <span className=\"mr-2\">{icon}</span>}\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","size_bytes":2159},"src/components/common/ShowToast.jsx":{"content":"import { toast } from \"react-toastify\";\n\n// Show success toast\nexport const showToastSuccess = (message) => {\n  message && toast.success(message);\n};\n\n// Show error toast\nexport const showToastError = (message) => {\n  message && toast.error(message);\n};\n","size_bytes":254},"src/components/chatroom/RequestJoin.jsx":{"content":"import React, { useState } from \"react\";\nimport { FaUserPlus, FaTimes } from \"react-icons/fa\";\n\nconst RequestJoin = ({ chatName, onJoinRequest, onCancel }) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setIsSubmitting(true);\n\n    try {\n      // Simulate API call with timeout\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n      onJoinRequest();\n    } catch (error) {\n      console.error(\"Error sending join request:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg shadow-lg max-w-md w-full overflow-hidden\">\n        <div className=\"p-4 border-b bg-white flex items-center justify-between\">\n          <h2 className=\"font-['Montserrat'] font-bold text-[1.35rem] flex items-center\">\n            <FaUserPlus className=\"mr-2 text-[#2C2E30]\" />\n            Join Chat Room\n          </h2>\n          <button\n            onClick={onCancel}\n            className=\"text-gray-600 hover:text-gray-800\"\n            aria-label=\"Close\"\n          >\n            <FaTimes />\n          </button>\n        </div>\n\n        <div className=\"p-4 bg-gray-50\">\n          <div className=\"mb-6\">\n            <p className=\"font-['Inter'] text-black\">\n              You've been invited to join <strong>\"{chatName}\"</strong>. Your\n              request will be reviewed by the group admin.\n            </p>\n          </div>\n\n          <div className=\"flex justify-end gap-3\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"font-['Montserrat'] font-semibold px-4 py-2 border border-[#D9D9D9] rounded focus:outline-none focus:ring-2 focus:ring-yellow-300 text-[#2C2E30] bg-white disabled:opacity-50\"\n              disabled={isSubmitting}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              onClick={handleSubmit}\n              className=\"font-['Montserrat'] font-semibold px-4 py-2 bg-yellow-300 hover:bg-yellow-400 text-black rounded focus:outline-none focus:ring-2 focus:ring-yellow-300 disabled:opacity-50\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? \"Requesting...\" : \"Request to Join\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestJoin;\n","size_bytes":2514},"backend/controllers/googleControler.js":{"content":"const jwt = require('jsonwebtoken');\nconst { v5: uuidv5 } = require('uuid');\nconst { OAuth2Client } = require('google-auth-library');\nconst { PrismaClient } = require('@prisma/client');\n\nconst client = new OAuth2Client(process.env.GOOGLE_CLIENT_ID);\nconst prisma = new PrismaClient();\n\nconst signToken = (id) => {\n  return jwt.sign({ id }, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXPIRES_IN,\n  });\n};\n\nexports.googleLogin = async (req, res) => {\n  const { token } = req.body;\n\n  try {\n    const ticket = await client.verifyIdToken({\n      idToken: token,\n    });\n\n    const payload = ticket.getPayload();\n    const { sub: id, email, picture: profile_picture, given_name } = payload;\n    const userId = uuidv5(id, uuidv5.DNS);\n\n    // First, try to find by email (since email is unique)\n    let existingUser = await prisma.user.findUnique({\n      where: { email: email },\n    });\n\n    if (existingUser) {\n      // Update the user ID if it doesn't match (in case of UUID generation changes)\n      if (existingUser.id !== userId) {\n        existingUser = await prisma.user.update({\n          where: { email: email },\n          data: { id: userId },\n        });\n      }\n      const token = signToken(existingUser.id);\n      return res.status(200).json({\n        status: 'success',\n        user: existingUser,\n        token: token,\n      });\n    }\n\n    // If no user by email, create new user\n    const newUser = await prisma.user.create({\n      data: {\n        id: userId,\n        given_name,\n        email,\n        profile_picture,\n      },\n    });\n    const newToken = signToken(newUser.id);\n    return res.status(201).json({\n      status: 'success',\n      user: newUser,\n      token: newToken,\n    });\n  } catch (error) {\n    console.error('Error verifying Google token:', error.message);\n    // Check if it's a unique constraint error\n    if (error.code === 'P2002' && error.meta?.target === 'User_email_key') {\n      // Try to find the user again and return it\n      try {\n        const existingUser = await prisma.user.findUnique({\n          where: { email: email },\n        });\n        if (existingUser) {\n          const token = signToken(existingUser.id);\n          return res.status(200).json({\n            status: 'success',\n            user: existingUser,\n            token: token,\n          });\n        }\n      } catch (findError) {\n        console.error('Error finding existing user:', findError.message);\n      }\n    }\n    return res.status(500).json({ message: 'Google authentication failed' });\n  }\n};\n","size_bytes":2532},"tailwind.config.js":{"content":"/** @type {import('tailwindcss').Config} */\n\nmodule.exports = {\n  content: [\"./src/**/*.{js,jsx}\"],\n  darkMode: 'class',\n  mode: \"jit\",\n  theme: {\n    extend: {\n      colors: {\n        brand: {\n          yellow: {\n            DEFAULT: '#F9ED32',\n            light: '#FFF225',\n            50: '#FFFEF5',\n            100: '#FFFCE6',\n            200: '#FFF9C2',\n            300: '#FFF69D',\n            400: '#FFF225',\n            500: '#F9ED32',\n            600: '#E6D91F',\n            700: '#C7B717',\n            800: '#A89610',\n            900: '#7A6B0B',\n          },\n          grey: {\n            dark: '#252525',\n            medium: '#3C3C3C',\n            light: '#424242',\n            50: '#F2F2F2',\n            100: '#E8E8E8',\n            200: '#D9D9D9',\n            300: '#BABABA',\n            400: '#9B9B9B',\n            500: '#7C7C7C',\n            600: '#5D5D5D',\n            700: '#424242',\n            800: '#3C3C3C',\n            900: '#252525',\n          },\n          white: {\n            DEFAULT: '#FFFFFF',\n            soft: '#F2F2F2',\n          },\n        },\n        primary: {\n          50: \"#EEF2FF\",\n          100: \"#E0E7FF\",\n          200: \"#C7D2FE\",\n          300: \"#A5B4FC\",\n          400: \"#818CF8\",\n          500: \"#6366F1\",\n          600: \"#4F46E5\",\n          700: \"#4338CA\",\n          800: \"#3730A3\",\n          900: \"#312E81\",\n          950: \"#1E1B4B\",\n        },\n        secondary: {\n          50: \"#FAF5FF\",\n          100: \"#F3E8FF\",\n          200: \"#E9D5FF\",\n          300: \"#D8B4FE\",\n          400: \"#C084FC\",\n          500: \"#A855F7\",\n          600: \"#9333EA\",\n          700: \"#7E22CE\",\n          800: \"#6B21A8\",\n          900: \"#581C87\",\n        },\n        accent: {\n          50: \"#FDF2F8\",\n          100: \"#FCE7F3\",\n          200: \"#FBCFE8\",\n          300: \"#F9A8D4\",\n          400: \"#F472B6\",\n          500: \"#EC4899\",\n          600: \"#DB2777\",\n          700: \"#BE185D\",\n          800: \"#9D174D\",\n          900: \"#831843\",\n        },\n        neutral: {\n          50: \"#fafafa\",\n          100: \"#f5f5f5\",\n          200: \"#e5e5e5\",\n          300: \"#d4d4d4\",\n          400: \"#a3a3a3\",\n          500: \"#737373\",\n          600: \"#525252\",\n          700: \"#404040\",\n          800: \"#262626\",\n          900: \"#171717\",\n          950: \"#0a0a0a\",\n        },\n        success: {\n          50: \"#f0fdf4\",\n          100: \"#dcfce7\",\n          200: \"#bbf7d0\",\n          300: \"#86efac\",\n          400: \"#4ade80\",\n          500: \"#22c55e\",\n          600: \"#16a34a\",\n          DEFAULT: \"#16a34a\",\n        },\n        warning: {\n          50: \"#fffbeb\",\n          100: \"#fef3c7\",\n          200: \"#fde68a\",\n          300: \"#fcd34d\",\n          400: \"#fbbf24\",\n          500: \"#f59e0b\",\n          DEFAULT: \"#f59e0b\",\n        },\n        error: {\n          50: \"#fef2f2\",\n          100: \"#fee2e2\",\n          200: \"#fecaca\",\n          300: \"#fca5a5\",\n          400: \"#f87171\",\n          500: \"#ef4444\",\n          600: \"#dc2626\",\n          DEFAULT: \"#dc2626\",\n        },\n      },\n      fontFamily: {\n        sans: ['Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],\n        display: ['Space Grotesk', 'Inter', 'system-ui', 'sans-serif'],\n        mono: ['Fira Code', 'JetBrains Mono', 'monospace'],\n      },\n      fontSize: {\n        'display-2xl': ['4.5rem', { lineHeight: '1.1', letterSpacing: '-0.02em', fontWeight: '700' }],\n        'display-xl': ['3.75rem', { lineHeight: '1.1', letterSpacing: '-0.02em', fontWeight: '700' }],\n        'display-lg': ['3rem', { lineHeight: '1.2', letterSpacing: '-0.02em', fontWeight: '700' }],\n        'display-md': ['2.25rem', { lineHeight: '1.2', letterSpacing: '-0.01em', fontWeight: '600' }],\n        'display-sm': ['1.875rem', { lineHeight: '1.3', letterSpacing: '-0.01em', fontWeight: '600' }],\n      },\n      boxShadow: {\n        'soft': '0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)',\n        'medium': '0 4px 20px -2px rgba(0, 0, 0, 0.1), 0 10px 25px -5px rgba(0, 0, 0, 0.08)',\n        'large': '0 10px 40px -10px rgba(0, 0, 0, 0.15), 0 20px 50px -15px rgba(0, 0, 0, 0.12)',\n        'inner-soft': 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)',\n        'glow': '0 0 30px rgba(6, 182, 212, 0.4), 0 0 60px rgba(6, 182, 212, 0.2)',\n        'glow-accent': '0 0 30px rgba(217, 70, 239, 0.4), 0 0 60px rgba(217, 70, 239, 0.2)',\n        'glow-aurora': '0 0 30px rgba(34, 197, 94, 0.3), 0 0 60px rgba(34, 197, 94, 0.15)',\n        'neon-cyan': '0 0 5px rgba(6, 182, 212, 0.5), 0 0 20px rgba(6, 182, 212, 0.3), 0 0 40px rgba(6, 182, 212, 0.1)',\n        'neon-magenta': '0 0 5px rgba(217, 70, 239, 0.5), 0 0 20px rgba(217, 70, 239, 0.3), 0 0 40px rgba(217, 70, 239, 0.1)',\n        'depth': '0 20px 60px -15px rgba(0, 0, 0, 0.3), 0 10px 25px -5px rgba(0, 0, 0, 0.1)',\n      },\n      borderRadius: {\n        'DEFAULT': '0.5rem',\n        'lg': '0.75rem',\n        'xl': '1rem',\n        '2xl': '1.5rem',\n        '3xl': '2rem',\n      },\n      spacing: {\n        '18': '4.5rem',\n        '88': '22rem',\n        '112': '28rem',\n        '128': '32rem',\n      },\n      backdropBlur: {\n        xs: '2px',\n      },\n      animation: {\n        'fade-in': 'fadeIn 0.5s ease-in-out',\n        'slide-up': 'slideUp 0.5s ease-out',\n        'slide-down': 'slideDown 0.5s ease-out',\n        'slide-left': 'slideLeft 0.6s ease-out',\n        'slide-right': 'slideRight 0.6s ease-out',\n        'scale-in': 'scaleIn 0.3s ease-out',\n        'shimmer': 'shimmer 2s linear infinite',\n        'float': 'float 6s ease-in-out infinite',\n        'float-delayed': 'float 6s ease-in-out 3s infinite',\n        'glow-pulse': 'glowPulse 2s ease-in-out infinite',\n        'rotate-slow': 'rotateSlow 20s linear infinite',\n        'gradient-shift': 'gradientShift 8s ease infinite',\n      },\n      keyframes: {\n        fadeIn: {\n          '0%': { opacity: '0' },\n          '100%': { opacity: '1' },\n        },\n        slideUp: {\n          '0%': { transform: 'translateY(20px)', opacity: '0' },\n          '100%': { transform: 'translateY(0)', opacity: '1' },\n        },\n        slideDown: {\n          '0%': { transform: 'translateY(-20px)', opacity: '0' },\n          '100%': { transform: 'translateY(0)', opacity: '1' },\n        },\n        slideLeft: {\n          '0%': { transform: 'translateX(30px)', opacity: '0' },\n          '100%': { transform: 'translateX(0)', opacity: '1' },\n        },\n        slideRight: {\n          '0%': { transform: 'translateX(-30px)', opacity: '0' },\n          '100%': { transform: 'translateX(0)', opacity: '1' },\n        },\n        scaleIn: {\n          '0%': { transform: 'scale(0.95)', opacity: '0' },\n          '100%': { transform: 'scale(1)', opacity: '1' },\n        },\n        shimmer: {\n          '0%': { backgroundPosition: '-1000px 0' },\n          '100%': { backgroundPosition: '1000px 0' },\n        },\n        float: {\n          '0%, 100%': { transform: 'translateY(0px)' },\n          '50%': { transform: 'translateY(-20px)' },\n        },\n        glowPulse: {\n          '0%, 100%': { opacity: '1' },\n          '50%': { opacity: '0.5' },\n        },\n        rotateSlow: {\n          '0%': { transform: 'rotate(0deg)' },\n          '100%': { transform: 'rotate(360deg)' },\n        },\n        gradientShift: {\n          '0%, 100%': { backgroundPosition: '0% 50%' },\n          '50%': { backgroundPosition: '100% 50%' },\n        },\n      },\n      screens: {\n        xs: \"560px\",\n        md: \"892px\",\n        lg: \"1024px\",\n        xl: \"1430px\",\n        \"2xl\": \"1536px\",\n      },\n    },\n  },\n  plugins: [],\n  safelist: [\n    \"bg-primary-400\",\n    \"bg-accent-400\",\n    \"bg-success-light\",\n    \"bg-warning-light\",\n    \"bg-error-light\",\n  ],\n};\n","size_bytes":7639},"backend/controllers/messageController.js":{"content":"// controllers/messageController.js\nconst { PrismaClient } = require(\"@prisma/client\");\nconst prisma = new PrismaClient();\n\nexports.createMessage = async (req, res) => {\n  try {\n    const { roomId } = req.params;\n    const { text, userId } = req.body;\n    console.log(\"roomId:\", roomId);\n    // Validate incoming data\n    if (!roomId || !text || !userId) {\n      return res\n        .status(400)\n        .json({ error: \"Missing required fields (roomId, text, userId).\" });\n    }\n\n    // Check if chatroom exists\n    const chatroom = await prisma.chatRoom.findUnique({\n      where: { id: roomId }\n    });\n    if (!chatroom) {\n      return res.status(404).json({ error: \"Chat room not found\" });\n    }\n\n    // Check if user is an approved member of the room\n    const membership = await prisma.chatRoomMember.findFirst({\n      where: {\n        chat_id: roomId,\n        user_id: userId,\n        status: 'approved'\n      }\n    });\n    if (!membership) {\n      return res.status(403).json({ error: \"User is not a member of this chat room\" });\n    }\n\n    // 1. Create the new message\n    const newMessage = await prisma.message.create({\n      data: {\n        content: text,\n        created_by: userId,\n        chat_id: roomId,\n      },\n    });\n\n    // 2. Update the last_message field of the room\n    await prisma.chatRoom.update({\n      where: { id: roomId },\n      data: {\n        last_message: text,\n        updated_at: new Date(),\n      },\n    });\n\n    // 3. Update read status for all members (set unread = true), except sender\n    const members = await prisma.chatRoomMember.findMany({\n      where: {\n        chat_id: roomId,\n        status: 'approved',\n        NOT: {\n          user_id: userId,\n        },\n      },\n      select: { user_id: true },\n    });\n\n    const memberIds = members.map(m => m.user_id);\n\n    if (memberIds.length > 0) {\n      await prisma.chatRoomRead.updateMany({\n        where: {\n          chat_id: roomId,\n          user_id: { in: memberIds },\n        },\n        data: {\n          unread: true,\n        },\n      });\n    }\n\n    return res.status(201).json(newMessage);\n  } catch (error) {\n    console.error(\"Error creating message:\", error);\n    return res.status(500).json({ error: \"Failed to create message\" });\n  }\n};","size_bytes":2243},"src/components/ui/Avatar.jsx":{"content":"import React from 'react';\n\nconst Avatar = ({ \n  src, \n  alt = '', \n  size = 'md', \n  fallback,\n  status,\n  className = '',\n  ...props \n}) => {\n  const sizes = {\n    xs: 'w-6 h-6 text-xs',\n    sm: 'w-8 h-8 text-sm',\n    md: 'w-10 h-10 text-base',\n    lg: 'w-12 h-12 text-lg',\n    xl: 'w-16 h-16 text-xl',\n    '2xl': 'w-20 h-20 text-2xl',\n  };\n\n  const statusSizes = {\n    xs: 'w-1.5 h-1.5',\n    sm: 'w-2 h-2',\n    md: 'w-2.5 h-2.5',\n    lg: 'w-3 h-3',\n    xl: 'w-3.5 h-3.5',\n    '2xl': 'w-4 h-4',\n  };\n\n  const statusColors = {\n    online: 'bg-success',\n    away: 'bg-warning',\n    busy: 'bg-error',\n    offline: 'bg-neutral-400',\n  };\n\n  return (\n    <div className={`relative inline-flex ${className}`} {...props}>\n      <div \n        className={`\n          ${sizes[size]} \n          rounded-full overflow-hidden bg-neutral-200\n          flex items-center justify-center font-medium text-neutral-600\n          ring-2 ring-white\n        `}\n      >\n        {src ? (\n          <img src={src} alt={alt} className=\"w-full h-full object-cover\" />\n        ) : (\n          <span>{fallback}</span>\n        )}\n      </div>\n      {status && (\n        <span \n          className={`\n            absolute bottom-0 right-0 \n            ${statusSizes[size]} \n            ${statusColors[status]} \n            rounded-full border-2 border-white\n          `}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Avatar;\n","size_bytes":1405},"backend/controllers/passController.js":{"content":"const passport = require('passport');\nconst GoogleStrategy = require('passport-google-oauth20').Strategy;\nconst { PrismaClient } = require('@prisma/client');\nconst prisma = new PrismaClient();\n\npassport.use(\n  new GoogleStrategy(\n    {\n      clientID: process.env.GOOGLE_CLIENT_ID,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n      callbackURL: 'http://localhost:3000/auth/google/callback',\n    },\n    async (accessToken, refreshToken, profile, done) => {\n      try {\n        const { id, emails, given_name } = profile;\n        console.log(profile);\n\n        let user = await prisma.user.findUnique({\n          where: { email: emails[0].value },\n        });\n\n        if (user) {\n          return done(null, user);\n        }\n\n        user = await prisma.user.create({\n          data: {\n            email: emails[0].value,\n            given_name: given_name,\n            profile_picture: profile.photos ? profile.photos[0].value : null,\n          },\n        });\n\n        return done(null, user);\n      } catch (err) {\n        console.error('Error during authentication:', err);\n        return done(err, null);\n      }\n    }\n  )\n);\n\npassport.serializeUser((user, done) => {\n  done(null, user.id);\n});\n\npassport.deserializeUser(async (id, done) => {\n  try {\n    const user = await prisma.user.findUnique({\n      where: { id: id },\n    });\n    done(null, user);\n  } catch (err) {\n    console.error('Error deserializing user:', err);\n    done(err, null);\n  }\n});\n\nmodule.exports = passport;\n","size_bytes":1495},"backend/config/trans.config.js":{"content":"require('dotenv').config()\n\nconst transConfig = {\n    key: process.env.AZURE_TRANS_KEY,\n    location: process.env.AZURE_TRANS_LOCATION\n}\n\nmodule.exports = transConfig","size_bytes":166},"src/context/ErrorBoundary.jsx":{"content":"import React, { Component } from \"react\";\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      errorMessage: \"\",\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render shows the fallback UI\n    return { hasError: true, errorMessage: error.message };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an external service (e.g., Sentry)\n    console.log(\"Error caught by Error Boundary: \", error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <div>Something went wrong: {this.state.errorMessage}</div>;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","size_bytes":799},"src/components/Footer.jsx":{"content":"import { Link } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport { FaEnvelope, FaTwitter, FaGithub, FaLinkedin } from \"react-icons/fa\";\n\nexport const Footer = () => {\n  const footerLinks = {\n    product: [\n      { name: \"Features\", href: \"#features\" },\n      { name: \"Services\", href: \"#services\" },\n      { name: \"Pricing\", href: \"#pricing\" },\n      { name: \"FAQ\", href: \"#faq\" },\n    ],\n    company: [\n      { name: \"About\", href: \"/about\" },\n      { name: \"Blog\", href: \"/blog\" },\n      { name: \"Careers\", href: \"/careers\" },\n      { name: \"Contact\", href: \"#contact\" },\n    ],\n    legal: [\n      { name: \"Privacy\", href: \"/privacy\" },\n      { name: \"Terms\", href: \"/terms\" },\n      { name: \"Security\", href: \"/security\" },\n      { name: \"Cookies\", href: \"/cookies\" },\n    ],\n  };\n\n  return (\n    <footer className=\"relative bg-gradient-to-br from-neutral-950 via-neutral-900 to-neutral-950 text-white overflow-hidden\">\n      {/* Decorative elements */}\n      <div className=\"absolute top-0 left-0 w-96 h-96 bg-primary-500/5 rounded-full blur-3xl\"></div>\n      <div className=\"absolute bottom-0 right-0 w-96 h-96 bg-accent-500/5 rounded-full blur-3xl\"></div>\n      \n      <div className=\"section-container relative z-10 py-16\">\n        <div className=\"grid grid-cols-2 md:grid-cols-5 gap-8 mb-12\">\n          {/* Brand */}\n          <div className=\"col-span-2 space-y-6\">\n            <div className=\"flex items-center space-x-3\">\n              <img src={logo} alt=\"Chatlas\" className=\"h-12 w-12\" />\n              <span className=\"text-2xl font-display font-bold text-gradient\">UnifyChat</span>\n            </div>\n            <p className=\"text-neutral-300 max-w-xs text-lg leading-relaxed\">\n              Breaking language barriers with AI-powered real-time translation. Connect with anyone, anywhere.\n            </p>\n            <div className=\"flex items-center space-x-4\">\n              <a\n                href=\"https://twitter.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"p-3 rounded-2xl bg-white/5 hover:bg-primary-600/20 border border-white/10 hover:border-primary-500/50 transition-all duration-300 hover:scale-110\"\n              >\n                <FaTwitter size={20} />\n              </a>\n              <a\n                href=\"https://github.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"p-3 rounded-2xl bg-white/5 hover:bg-primary-600/20 border border-white/10 hover:border-primary-500/50 transition-all duration-300 hover:scale-110\"\n              >\n                <FaGithub size={20} />\n              </a>\n              <a\n                href=\"https://linkedin.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"p-3 rounded-2xl bg-white/5 hover:bg-primary-600/20 border border-white/10 hover:border-primary-500/50 transition-all duration-300 hover:scale-110\"\n              >\n                <FaLinkedin size={20} />\n              </a>\n            </div>\n          </div>\n\n          {/* Product */}\n          <div>\n            <h3 className=\"font-bold text-lg mb-6 text-gradient-cyan\">Product</h3>\n            <ul className=\"space-y-2\">\n              {footerLinks.product.map((link) => (\n                <li key={link.name}>\n                  <a\n                    href={link.href}\n                    className=\"text-neutral-400 hover:text-white transition-colors\"\n                  >\n                    {link.name}\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Company */}\n          <div>\n            <h3 className=\"font-bold text-lg mb-6 text-gradient-cyan\">Company</h3>\n            <ul className=\"space-y-2\">\n              {footerLinks.company.map((link) => (\n                <li key={link.name}>\n                  <a\n                    href={link.href}\n                    className=\"text-neutral-400 hover:text-white transition-colors\"\n                  >\n                    {link.name}\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Legal */}\n          <div>\n            <h3 className=\"font-bold text-lg mb-6 text-gradient-cyan\">Legal</h3>\n            <ul className=\"space-y-2\">\n              {footerLinks.legal.map((link) => (\n                <li key={link.name}>\n                  <a\n                    href={link.href}\n                    className=\"text-neutral-400 hover:text-white transition-colors\"\n                  >\n                    {link.name}\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n\n        {/* Bottom */}\n        <div className=\"pt-8 border-t border-white/10\">\n          <div className=\"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0\">\n            <p className=\"text-neutral-400\">\n              Â© 2025 <span className=\"text-white font-semibold\">UnifyChat</span>. All Rights Reserved.\n            </p>\n            <a\n              href=\"mailto:unifychathelp@gmail.com\"\n              className=\"group flex items-center space-x-2 text-neutral-300 hover:text-primary-400 transition-all duration-300\"\n            >\n              <div className=\"p-2 rounded-xl bg-white/5 group-hover:bg-primary-600/20 border border-white/10 group-hover:border-primary-500/50 transition-all duration-300\">\n                <FaEnvelope />\n              </div>\n              <span className=\"font-medium\">unifychathelp@gmail.com</span>\n            </a>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","size_bytes":5694},"src/components/chatroom/Trans.jsx":{"content":"import axios from \"axios\";\n\nconst translateText = async (text, targetLanguage) => {\n  const apiKey = \"\";\n  const region = \"\";\n  const url = `https://${region}.api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=${targetLanguage}`;\n\n  const headers = {\n    \"Ocp-Apim-Subscription-Key\": apiKey,\n    \"Content-Type\": \"application/json\",\n  };\n\n  const data = [{ Text: text }];\n  try {\n    const response = await axios.post(url, data, { headers });\n    return response.data[0].translations[0].text;\n  } catch (error) {\n    console.error(\"Error translating text:\", error);\n    return text;\n  }\n};\nconst handleSendMessageWithTranslation = async () => {\n  if (newMessage.trim() === \"\") return;\n\n  let translatedMessage = newMessage;\n  if (language !== \"en\") {\n    translatedMessage = await translateText(newMessage, language);\n  }\n  socket.emit(\"sendMessage\", {\n    text: translatedMessage,\n    language: language,\n    sender: currentChat.name,\n    timestamp: new Date().toISOString(),\n  });\n\n  setNewMessage(\"\");\n};\n\nuseEffect(() => {\n  socket.on(\"newMessage\", async (message) => {\n    let translatedText = message.text;\n\n    if (language !== \"en\" && message.language !== language) {\n      translatedText = await translateText(message.text, language);\n    }\n\n    setNewMessage((prevMessages) => [\n      ...prevMessages,\n      { ...message, translatedText },\n    ]);\n  });\n\n  return () => {\n    socket.off(\"newMessage\");\n  };\n}, [language]);\n","size_bytes":1448},"src/assets/index.js":{"content":"import logo from \"./Logo.png\";\nimport chatlas from \"./UnifyChat.png\";\nimport visibility from \"./Visibility.png\";\nimport visibilityOff from \"./InvisibilityOff.png\";\nimport menu from \"./menu.svg\";\nimport close from \"./close.svg\";\nimport hero from \"./Hero.png\";\nimport mission from \"./Mission.png\";\nimport serviceOne from \"./ServiceOne.png\";\nimport earth from \"./Earth.png\";\nimport translateIcon from \"./TranslateIcon.png\";\nimport micro from \"./Micro.png\";\nimport folder from \"./Folders.png\";\nimport summarize from \"./Summarize.png\";\n\nexport {\n  logo,\n  chatlas,\n  visibility,\n  visibilityOff,\n  menu,\n  close,\n  hero,\n  mission,\n  serviceOne,\n  earth,\n  translateIcon,\n  micro,\n  folder,\n  summarize,\n};\n","size_bytes":702},"src/config/api.js":{"content":"// API configuration\nconst getApiBaseUrl = () => {\n  // Check if running in Replit environment\n  if (typeof window !== 'undefined' && window.location.hostname.includes('replit')) {\n    // Use same origin for Replit (backend on port 3000, but accessed through proxy)\n    return 'http://localhost:3000';\n  }\n\n  // Use environment variable if provided\n  if (import.meta.env.VITE_API_BASE_URL) {\n    return import.meta.env.VITE_API_BASE_URL;\n  }\n\n  // Default to localhost for local development\n  return 'http://localhost:3000';\n};\n\nexport const API_BASE_URL = getApiBaseUrl();\n","size_bytes":574},"src/components/ui/index.js":{"content":"export { default as Button } from './Button';\nexport { default as Input } from './Input';\nexport { default as Card } from './Card';\nexport { default as Modal } from './Modal';\nexport { default as Badge } from './Badge';\nexport { default as Avatar } from './Avatar';\n","size_bytes":266},"src/components/ui/Input.jsx":{"content":"import React, { forwardRef } from 'react';\n\nconst Input = forwardRef(({ \n  label,\n  error,\n  helperText,\n  icon,\n  fullWidth = true,\n  className = '',\n  ...props \n}, ref) => {\n  return (\n    <div className={`${fullWidth ? 'w-full' : ''}`}>\n      {label && (\n        <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n          {label}\n        </label>\n      )}\n      <div className=\"relative\">\n        {icon && (\n          <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400\">\n            {icon}\n          </div>\n        )}\n        <input\n          ref={ref}\n          className={`\n            w-full px-4 py-3 bg-white border rounded-xl\n            transition-all duration-200 \n            placeholder:text-neutral-400\n            focus:outline-none focus:ring-2 focus:ring-primary-500/20\n            disabled:bg-neutral-50 disabled:cursor-not-allowed\n            ${icon ? 'pl-10' : ''}\n            ${error ? 'border-error focus:border-error focus:ring-error/20' : 'border-neutral-200 focus:border-primary-500'}\n            ${className}\n          `}\n          {...props}\n        />\n      </div>\n      {(error || helperText) && (\n        <p className={`mt-1.5 text-sm ${error ? 'text-error' : 'text-neutral-500'}`}>\n          {error || helperText}\n        </p>\n      )}\n    </div>\n  );\n});\n\nInput.displayName = 'Input';\n\nexport default Input;\n","size_bytes":1382},"src/components/home/Feature.jsx":{"content":"import React, { useState } from \"react\";\nimport { FaMicrophone, FaFileAlt, FaRobot, FaArrowRight, FaPlay } from \"react-icons/fa\";\n\nconst Feature = () => {\n  const [activeFeature, setActiveFeature] = useState(0);\n\n  const features = [\n    {\n      id: \"speech\",\n      icon: FaMicrophone,\n      title: \"Voice-to-Text & Text-to-Speech\",\n      description: \"Transform conversations with our in-house powerful speech capabilities. Convert text to natural-sounding speech and vice versa for seamless, engaging cross-language communication.\",\n      stats: [\n        { label: \"Languages\", value: \"75+\" },\n        { label: \"Accuracy\", value: \"99%\" },\n        { label: \"Response\", value: \"<1s\" },\n      ],\n      badge: \"Powered\",\n      color: \"primary\",\n      bgGradient: \"from-indigo-500/10 to-purple-500/10\",\n    },\n    {\n      id: \"files\",\n      icon: FaFileAlt,\n      title: \"File Sharing\",\n      description: \"Share documents, images, and media directly in your chat rooms with built-in language annotation. File sharing is seamless, secure, and efficient for all your cross-cultural collaborative needs.\",\n      stats: [\n        { label: \"Max Size\", value: \"100MB\" },\n        { label: \"File Types\", value: \"All\" },\n        { label: \"Security\", value: \"E2E\" },\n      ],\n      badge: \"Secure\",\n      color: \"accent\",\n      bgGradient: \"from-pink-500/10 to-rose-500/10\",\n    },\n    {\n      id: \"summarize\",\n      icon: FaRobot,\n      title: \"Chat Summarization\",\n      description: \"Quickly summarize multilingual conversations within any date range. Stay updated without reading every message and get key takeaways in your preferred language.\",\n      stats: [\n        { label: \"Speed\", value: \"Instant\" },\n        { label: \"Accuracy\", value: \"95%\" },\n        { label: \"Support\", value: \"Multilingual\" },\n      ],\n      badge: \"Coming Soon\",\n      color: \"success\",\n      bgGradient: \"from-emerald-500/10 to-teal-500/10\",\n    },\n  ];\n\n  const colorMap = {\n    primary: {\n      bg: \"bg-indigo-500\",\n      text: \"text-indigo-600 dark:text-indigo-400\",\n      border: \"border-indigo-500\",\n      gradient: \"from-indigo-600 to-purple-600\",\n    },\n    accent: {\n      bg: \"bg-pink-500\",\n      text: \"text-pink-600 dark:text-pink-400\",\n      border: \"border-pink-500\",\n      gradient: \"from-pink-600 to-rose-600\",\n    },\n    success: {\n      bg: \"bg-emerald-500\",\n      text: \"text-emerald-600 dark:text-emerald-400\",\n      border: \"border-emerald-500\",\n      gradient: \"from-emerald-600 to-teal-600\",\n    },\n  };\n\n  return (\n    <div className=\"relative py-20 bg-white dark:bg-slate-900 transition-colors overflow-hidden\">\n      {/* Background Elements */}\n      <div className=\"absolute inset-0\">\n        <div className=\"absolute top-0 right-0 w-96 h-96 bg-primary-500/10 dark:bg-primary-500/5 rounded-full blur-3xl\"></div>\n        <div className=\"absolute bottom-0 left-0 w-96 h-96 bg-accent-500/10 dark:bg-accent-500/5 rounded-full blur-3xl\"></div>\n      </div>\n\n      <div className=\"section-container relative z-10\">\n        {/* Header */}\n        <div className=\"text-center max-w-3xl mx-auto mb-16 space-y-6\">\n          <div className=\"inline-flex items-center space-x-2 px-4 py-2 bg-neutral-100 dark:bg-slate-800 rounded-full border border-primary-200 dark:border-primary-800 shadow-sm\">\n            <div className=\"w-2 h-2 bg-primary-500 dark:bg-primary-400 rounded-full animate-pulse\"></div>\n            <span className=\"text-sm font-semibold bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent\">Powerful Features</span>\n          </div>\n          \n          <h2 className=\"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100 leading-tight\">\n            Everything you need for\n            <br />\n            <span className=\"bg-gradient-to-r from-primary-600 to-accent-600 dark:from-primary-400 dark:to-accent-400 bg-clip-text text-transparent\">\n              seamless communication\n            </span>\n          </h2>\n          \n          <p className=\"text-lg text-neutral-600 dark:text-neutral-300\">\n            AI-powered features designed to break down language barriers\n          </p>\n        </div>\n\n        {/* Interactive Feature Tabs */}\n        <div className=\"max-w-6xl mx-auto\">\n          {/* Tab Navigation */}\n          <div className=\"flex flex-col md:flex-row gap-3 mb-8 p-2 bg-neutral-100 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700\">\n            {features.map((feature, index) => (\n              <button\n                key={feature.id}\n                onClick={() => setActiveFeature(index)}\n                className={`flex-1 p-4 rounded-xl transition-all duration-300 ${\n                  activeFeature === index\n                    ? `bg-white dark:bg-slate-700 shadow-lg ${colorMap[feature.color].text} border-2 ${colorMap[feature.color].border} dark:border-opacity-50`\n                    : 'bg-transparent text-neutral-600 dark:text-neutral-400 hover:bg-white/50 dark:hover:bg-slate-700/50 border-2 border-transparent'\n                }`}\n              >\n                <div className=\"flex items-center space-x-3\">\n                  <div className={`p-2 rounded-lg ${activeFeature === index ? colorMap[feature.color].bg : 'bg-neutral-300 dark:bg-slate-600'} transition-colors`}>\n                    <feature.icon className=\"text-white text-lg\" />\n                  </div>\n                  <div className=\"text-left flex-1\">\n                    <p className=\"font-semibold\">{feature.title.split(' ')[0]}</p>\n                  </div>\n                  {activeFeature === index && (\n                    <span className={`px-2 py-1 text-xs font-bold rounded-full ${colorMap[feature.color].bg} text-white`}>\n                      {feature.badge}\n                    </span>\n                  )}\n                </div>\n              </button>\n            ))}\n          </div>\n\n          {/* Feature Content */}\n          <div className=\"relative\">\n            {features.map((feature, index) => (\n              <div\n                key={feature.id}\n                className={`transition-all duration-500 ${\n                  activeFeature === index ? 'opacity-100 block' : 'opacity-0 hidden'\n                }`}\n              >\n                <div className=\"grid md:grid-cols-2 gap-8 items-center\">\n                  {/* Left: Content */}\n                  <div className=\"space-y-6 order-2 md:order-1\">\n                    <div className=\"space-y-4\">\n                      <h3 className=\"text-3xl md:text-4xl font-bold text-neutral-900 dark:text-neutral-100\">\n                        {feature.title}\n                      </h3>\n                      <p className=\"text-lg text-neutral-600 dark:text-neutral-300 leading-relaxed\">\n                        {feature.description}\n                      </p>\n                    </div>\n\n                    {/* Stats */}\n                    <div className=\"grid grid-cols-3 gap-4\">\n                      {feature.stats.map((stat, idx) => (\n                        <div key={idx} className=\"p-4 bg-neutral-50 dark:bg-slate-800 rounded-xl border border-neutral-200 dark:border-neutral-700\">\n                          <div className={`text-2xl font-bold ${colorMap[feature.color].text}`}>\n                            {stat.value}\n                          </div>\n                          <div className=\"text-xs text-neutral-600 dark:text-neutral-400 mt-1\">\n                            {stat.label}\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n\n                    {/* CTA Button */}\n                    <button className={`group inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r ${colorMap[feature.color].gradient} text-white font-semibold rounded-xl hover:shadow-lg transition-all duration-200 hover:scale-105`}>\n                      <span>Learn More</span>\n                      <FaArrowRight className=\"group-hover:translate-x-1 transition-transform\" />\n                    </button>\n                  </div>\n\n                  {/* Right: Visual */}\n                  <div className=\"order-1 md:order-2\">\n                    <div className={`relative p-12 bg-gradient-to-br ${feature.bgGradient} dark:${feature.bgGradient.replace('/10', '/20')} rounded-3xl border border-neutral-200 dark:border-neutral-700`}>\n                      <div className=\"relative flex items-center justify-center\">\n                        {/* Large Icon Display */}\n                        <div className={`w-48 h-48 rounded-full bg-gradient-to-br ${colorMap[feature.color].gradient} flex items-center justify-center shadow-2xl animate-float`}>\n                          <feature.icon className=\"text-white text-7xl\" />\n                        </div>\n                        {/* Play Button Overlay for Demo */}\n                        {feature.id === 'speech' && (\n                          <div className=\"absolute inset-0 flex items-center justify-center\">\n                            <button className=\"w-16 h-16 bg-white dark:bg-slate-800 rounded-full flex items-center justify-center shadow-xl hover:scale-110 transition-transform\">\n                              <FaPlay className=\"text-primary-600 dark:text-primary-400 ml-1\" />\n                            </button>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Bottom Grid - Mini Features */}\n        <div className=\"mt-20 grid md:grid-cols-3 gap-6\">\n          <div className=\"p-6 bg-neutral-50 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300\">\n            <div className=\"text-primary-600 dark:text-primary-400 text-3xl mb-3\">ðŸ”’</div>\n            <h4 className=\"font-bold text-neutral-900 dark:text-neutral-100 mb-2\">End-to-End Encryption</h4>\n            <p className=\"text-sm text-neutral-600 dark:text-neutral-400\">Your messages are always secure and private</p>\n          </div>\n          <div className=\"p-6 bg-neutral-50 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-accent-500 dark:hover:border-accent-400 transition-all duration-300\">\n            <div className=\"text-accent-600 dark:text-accent-400 text-3xl mb-3\">âš¡</div>\n            <h4 className=\"font-bold text-neutral-900 dark:text-neutral-100 mb-2\">Lightning Fast</h4>\n            <p className=\"text-sm text-neutral-600 dark:text-neutral-400\">Real-time translation with minimal latency</p>\n          </div>\n          <div className=\"p-6 bg-neutral-50 dark:bg-slate-800 rounded-2xl border border-neutral-200 dark:border-neutral-700 hover:border-success-500 dark:hover:border-success-400 transition-all duration-300\">\n            <div className=\"text-success-600 dark:text-success-400 text-3xl mb-3\">ðŸŒ</div>\n            <h4 className=\"font-bold text-neutral-900 dark:text-neutral-100 mb-2\">Global Access</h4>\n            <p className=\"text-sm text-neutral-600 dark:text-neutral-400\">Available anywhere, anytime, on any device</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Feature;\n","size_bytes":11356},"src/context/authContext.jsx":{"content":"import React, { createContext, useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { API_BASE_URL } from \"../config/api\";\n\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  console.log(\"AuthProvider rendered\");\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    console.log(token);\n    if (token) {\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n      fetchUser();\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const fetchUser = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/auth/me`);\n      setUser(response.data.data.user);\n    } catch (error) {\n      console.error(\"Failed to fetch user\", error);\n      logout();\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const login = (token) => {\n    localStorage.setItem(\"token\", token);\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    fetchUser();\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setUser(null);\n    delete axios.defaults.headers.common[\"Authorization\"];\n  };\n\n  const updateUser = async (userData) => {\n    try {\n      const response = await axios.put(`${API_BASE_URL}/auth/update`, userData);\n      setUser(response.data.data.user);\n      return { success: true };\n    } catch (error) {\n      console.error(\"Failed to update user\", error);\n      return { success: false, error: error.message };\n    }\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout, updateUser, loading, error }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n","size_bytes":1847},"backend/controllers/authController.js":{"content":"const jwt = require('jsonwebtoken');\nconst bcrypt = require('bcryptjs');\nconst { PrismaClient } = require('@prisma/client');\n\nconst prisma = new PrismaClient();\n\nconst signToken = (id) => {\n  return jwt.sign({ id }, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXPIRES_IN,\n  });\n};\n\nexports.signup = async (req, res, next) => {\n  const { username, email, password, passwordConfirm } = req.body;\n  try {\n    if (password !== passwordConfirm) {\n      return res\n        .status(400)\n        .json({ message: 'Password and password confirm do not match' });\n    }\n    const existingUser = await prisma.user.findUnique({\n      where: { email },\n    });\n    if (existingUser) {\n      return res.status(400).json({ message: 'Email already exists' });\n    }\n    const hashedPassword = await bcrypt.hash(password, 12);\n    const newUser = await prisma.user.create({\n      data: {\n        given_name: username,\n        email,\n        password: hashedPassword,\n      },\n    });\n    const token = signToken(newUser.id);\n    return res.status(201).json({\n      status: 'success',\n      token,\n      message: 'User created successfully',\n    });\n  } catch (err) {\n    return res.status(500).json({ message: err.message });\n  }\n};\n\nexports.login = async (req, res, next) => {\n  const { email, password } = req.body;\n\n  try {\n    const user = await prisma.user.findUnique({\n      where: { email },\n    });\n\n    if (!user) {\n      return res.status(401).json({ message: 'Invalid email or password' });\n    }\n\n    const isPasswordCorrect = await bcrypt.compare(password, user.password);\n\n    if (!isPasswordCorrect) {\n      return res\n        .status(401)\n        .json({ message: 'Please log in by Google account' });\n    }\n    const token = signToken(user.id);\n\n    return res.status(200).json({\n      status: 'success',\n      token,\n      data: {\n        user: {\n          id: user.id,\n          username: user.given_name,\n          email: user.email,\n          picture: user.profile_picture,\n          created_at: user.created_at,\n        },\n      },\n    });\n  } catch (err) {\n    return res.status(500).json({ message: 'Server error' });\n  }\n};\n\nexports.getMe = async (req, res) => {\n  try {\n    const userId = req.user.id;\n\n    const user = await prisma.user.findUnique({\n      where: { id: userId },\n    });\n\n    if (!user) {\n      return res.status(404).json({ message: 'User not found' });\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      data: {\n        user: {\n          id: user.id,\n          username: user.given_name,\n          email: user.email,\n          profile_picture: user.profile_picture,\n          created_at: user.created_at,\n        },\n      },\n    });\n  } catch (err) {\n    return res.status(500).json({ message: 'Server error' });\n  }\n};\n\nexports.updateUser = async (req, res) => {\n  try {\n    const userId = req.user.id;\n    const { given_name, email, profile_picture } = req.body;\n\n    const updatedUser = await prisma.user.update({\n      where: { id: userId },\n      data: {\n        given_name: given_name || undefined,\n        email: email || undefined,\n        profile_picture: profile_picture || undefined,\n      },\n    });\n\n    return res.status(200).json({\n      status: 'success',\n      data: {\n        user: {\n          id: updatedUser.id,\n          username: updatedUser.given_name,\n          email: updatedUser.email,\n          profile_picture: updatedUser.profile_picture,\n          created_at: updatedUser.created_at,\n        },\n      },\n    });\n  } catch (err) {\n    console.error('Update user error:', err);\n    return res.status(500).json({ message: 'Server error during user update' });\n  }\n};\n\nexports.protect = async (req, res, next) => {\n  try {\n    let token;\n    if (\n      req.headers.authorization &&\n      req.headers.authorization.startsWith('Bearer')\n    ) {\n      token = req.headers.authorization.split(' ')[1];\n    }\n\n    if (!token) {\n      return res.status(401).json({\n        message: 'You are not logged in! Please log in to get access',\n      });\n    }\n\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\n\n    const freshUser = await prisma.user.findUnique({\n      where: { id: decoded.id },\n    });\n\n    if (!freshUser) {\n      return res.status(401).json({ message: 'User no longer exists' });\n    }\n\n    if (freshUser.password_changed_at) {\n      const passwordChangedAt = freshUser.password_changed_at;\n      if (\n        passwordChangedAt &&\n        passwordChangedAt > new Date(decoded.iat * 1000)\n      ) {\n        return res.status(401).json({\n          message: 'User recently changed password! Please log in again',\n        });\n      }\n    }\n\n    req.user = freshUser;\n    next();\n  } catch (err) {\n    return res\n      .status(500)\n      .json({ message: 'Server error during token verification' });\n  }\n};\n","size_bytes":4811},"src/constants/index.js":{"content":"export const sections = [\n  { id: \"Home\", title: \"Home\" },\n  { id: \"Chat\", title: \"Chat\" },\n  { id: \"Help\", title: \"Help\" },\n];\n\nexport const languages = [\n  { language: \"Afrikaans\", code: \"af\" },\n  { language: \"Albanian\", code: \"sq\" },\n  { language: \"Amharic\", code: \"am\" },\n  { language: \"Arabic\", code: \"ar\" },\n  { language: \"Armenian\", code: \"hy\" },\n  { language: \"Assamese\", code: \"as\" },\n  { language: \"Azerbaijani (Latin)\", code: \"az\" },\n  { language: \"Bangla\", code: \"bn\" },\n  { language: \"Bashkir\", code: \"ba\" },\n  { language: \"Basque\", code: \"eu\" },\n  { language: \"Bhojpuri\", code: \"bho\" },\n  { language: \"Bodo\", code: \"brx\" },\n  { language: \"Bosnian (Latin)\", code: \"bs\" },\n  { language: \"Bulgarian\", code: \"bg\" },\n  { language: \"Cantonese (Traditional)\", code: \"yue\" },\n  { language: \"Catalan\", code: \"ca\" },\n  { language: \"Chinese (Literary)\", code: \"lzh\" },\n  { language: \"Chinese Simplified\", code: \"zh-Hans\" },\n  { language: \"Chinese Traditional\", code: \"zh-Hant\" },\n  { language: \"chiShona\", code: \"sn\" },\n  { language: \"Croatian\", code: \"hr\" },\n  { language: \"Czech\", code: \"cs\" },\n  { language: \"Danish\", code: \"da\" },\n  { language: \"Dari\", code: \"prs\" },\n  { language: \"Divehi\", code: \"dv\" },\n  { language: \"Dogri\", code: \"doi\" },\n  { language: \"Dutch\", code: \"nl\" },\n  { language: \"English\", code: \"en\" },\n  { language: \"Estonian\", code: \"et\" },\n  { language: \"Faroese\", code: \"fo\" },\n  { language: \"Fijian\", code: \"fj\" },\n  { language: \"Filipino\", code: \"fil\" },\n  { language: \"Finnish\", code: \"fi\" },\n  { language: \"French\", code: \"fr\" },\n  { language: \"French (Canada)\", code: \"fr-ca\" },\n  { language: \"Galician\", code: \"gl\" },\n  { language: \"Georgian\", code: \"ka\" },\n  { language: \"German\", code: \"de\" },\n  { language: \"Greek\", code: \"el\" },\n  { language: \"Gujarati\", code: \"gu\" },\n  { language: \"Haitian Creole\", code: \"ht\" },\n  { language: \"Hausa\", code: \"ha\" },\n  { language: \"Hebrew\", code: \"he\" },\n  { language: \"Hindi\", code: \"hi\" },\n  { language: \"Hmong Daw (Latin)\", code: \"mww\" },\n  { language: \"Hungarian\", code: \"hu\" },\n  { language: \"Icelandic\", code: \"is\" },\n  { language: \"Igbo\", code: \"ig\" },\n  { language: \"Indonesian\", code: \"id\" },\n  { language: \"Inuinnaqtun\", code: \"ikt\" },\n  { language: \"Inuktitut\", code: \"iu\" },\n  { language: \"Inuktitut (Latin)\", code: \"iu-Latn\" },\n  { language: \"Irish\", code: \"ga\" },\n  { language: \"Italian\", code: \"it\" },\n  { language: \"Japanese\", code: \"ja\" },\n  { language: \"Kannada\", code: \"kn\" },\n  { language: \"Kashmiri\", code: \"ks\" },\n  { language: \"Kazakh\", code: \"kk\" },\n  { language: \"Khmer\", code: \"km\" },\n  { language: \"Kinyarwanda\", code: \"rw\" },\n  { language: \"Klingon (Latin)\", code: \"tlh-Latn\" },\n  { language: \"Klingon (plqaD)\", code: \"tlh-Piqd\" },\n  { language: \"Konkani\", code: \"gom\" },\n  { language: \"Korean\", code: \"ko\" },\n  { language: \"Kurdish (Central)\", code: \"ku\" },\n  { language: \"Kurdish (Northern)\", code: \"kmr\" },\n  { language: \"Kyrgyz (Cyrillic)\", code: \"ky\" },\n  { language: \"Lao\", code: \"lo\" },\n  { language: \"Latvian\", code: \"lv\" },\n  { language: \"Lithuanian\", code: \"lt\" },\n  { language: \"Lingala\", code: \"ln\" },\n  { language: \"Lower Sorbian\", code: \"dsb\" },\n  { language: \"Luganda\", code: \"lug\" },\n  { language: \"Macedonian\", code: \"mk\" },\n  { language: \"Maithili\", code: \"mai\" },\n  { language: \"Malagasy\", code: \"mg\" },\n  { language: \"Malay (Latin)\", code: \"ms\" },\n  { language: \"Malayalam\", code: \"ml\" },\n  { language: \"Maltese\", code: \"mt\" },\n  { language: \"Maori\", code: \"mi\" },\n  { language: \"Marathi\", code: \"mr\" },\n  { language: \"Mongolian (Cyrillic)\", code: \"mn-Cyrl\" },\n  { language: \"Mongolian (Traditional)\", code: \"mn-Mong\" },\n  { language: \"Myanmar\", code: \"my\" },\n  { language: \"Nepali\", code: \"ne\" },\n  { language: \"Norwegian BokmÃ¥l\", code: \"nb\" },\n  { language: \"Nyanja\", code: \"nya\" },\n  { language: \"Odia\", code: \"or\" },\n  { language: \"Pashto\", code: \"ps\" },\n  { language: \"Persian\", code: \"fa\" },\n  { language: \"Polish\", code: \"pl\" },\n  { language: \"Portuguese (Brazil)\", code: \"pt\" },\n  { language: \"Portuguese (Portugal)\", code: \"pt-pt\" },\n  { language: \"Punjabi\", code: \"pa\" },\n  { language: \"Queretaro Otomi\", code: \"otq\" },\n  { language: \"Romanian\", code: \"ro\" },\n  { language: \"Rundi\", code: \"run\" },\n  { language: \"Russian\", code: \"ru\" },\n  { language: \"Samoan (Latin)\", code: \"sm\" },\n  { language: \"Serbian (Cyrillic)\", code: \"sr-Cyrl\" },\n  { language: \"Serbian (Latin)\", code: \"sr-Latn\" },\n  { language: \"Sesotho\", code: \"st\" },\n  { language: \"Sesotho sa Leboa\", code: \"nso\" },\n  { language: \"Setswana\", code: \"tn\" },\n  { language: \"Sindhi\", code: \"sd\" },\n  { language: \"Sinhala\", code: \"si\" },\n  { language: \"Slovak\", code: \"sk\" },\n  { language: \"Slovenian\", code: \"sl\" },\n  { language: \"Somali (Arabic)\", code: \"so\" },\n  { language: \"Spanish\", code: \"es\" },\n  { language: \"Swahili (Latin)\", code: \"sw\" },\n  { language: \"Swedish\", code: \"sv\" },\n  { language: \"Tahitian\", code: \"ty\" },\n  { language: \"Tamil\", code: \"ta\" },\n  { language: \"Tatar (Latin)\", code: \"tt\" },\n  { language: \"Telugu\", code: \"te\" },\n  { language: \"Thai\", code: \"th\" },\n  { language: \"Tibetan\", code: \"bo\" },\n  { language: \"Tigrinya\", code: \"ti\" },\n  { language: \"Tongan\", code: \"to\" },\n  { language: \"Turkish\", code: \"tr\" },\n  { language: \"Turkmen (Latin)\", code: \"tk\" },\n  { language: \"Ukrainian\", code: \"uk\" },\n  { language: \"Upper Sorbian\", code: \"hsb\" },\n  { language: \"Urdu\", code: \"ur\" },\n  { language: \"Uyghur (Arabic)\", code: \"ug\" },\n  { language: \"Uzbek (Latin)\", code: \"uz\" },\n  { language: \"Vietnamese\", code: \"vi\" },\n  { language: \"Welsh\", code: \"cy\" },\n  { language: \"Xhosa\", code: \"xh\" },\n  { language: \"Yoruba\", code: \"yo\" },\n  { language: \"Yucatec Maya\", code: \"yua\" },\n  { language: \"Zulu\", code: \"zu\" },\n];\n","size_bytes":5730},"src/pages/Signin.jsx":{"content":"import { GoogleLogin } from \"@react-oauth/google\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport {\n  showToastError,\n  showToastSuccess,\n} from \"../components/common/ShowToast\";\nimport axios from \"axios\";\nimport { useAuth } from \"../context/authContext\";\nimport { API_BASE_URL } from \"../config/api\";\nimport { Button } from \"../components/ui\";\nimport { FaEye, FaEyeSlash, FaArrowRight, FaGlobe, FaComments, FaBolt } from \"react-icons/fa\";\n\nconst Signin = () => {\n  const formContext = useForm();\n  const { register, handleSubmit, formState } = formContext;\n  const { errors } = formState;\n  const navigate = useNavigate();\n  const { login } = useAuth();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const togglePasswordVisibility = () => setShowPassword(!showPassword);\n\n  const onSubmit = async (data) => {\n    setLoading(true);\n    try {\n      const response = await axios.post(\n        `${API_BASE_URL}/auth/login`,\n        data\n      );\n      if (response.data.status === \"success\") {\n        showToastSuccess(\"Login successful\");\n        login(response.data?.token);\n        localStorage.setItem('user_id', response.data.user?.id)\n        navigate(\"/\");\n      }\n    } catch (err) {\n      showToastError(err.response?.data?.message || \"Login failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleSuccess = async (response) => {\n    try {\n      setLoading(true);\n      const googleData = { token: response.credential };\n      const result = await axios.post(\n        `${API_BASE_URL}/auth/google`,\n        googleData,\n        {\n          withCredentials: true,\n        }\n      );\n      if (result.data.status === \"success\") {\n        showToastSuccess(\"Login successful\");\n        localStorage.setItem('user_id', result.data.user?.id)\n        login(result.data?.token);\n        navigate(\"/\");\n      }\n    } catch (err) {\n      console.error(\"Error during Google login:\", err);\n      showToastError(\"Google login failed.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleFailure = (error) => {\n    showToastError(\"Google authentication failed\");\n    console.error(\"Google authentication error:\", error);\n  };\n\n  return (\n    <div className=\"min-h-screen grid lg:grid-cols-2 bg-neutral-50 dark:bg-slate-900 transition-colors\">\n      {/* Left Side - Branding with Unique Design */}\n      <div className=\"hidden lg:flex flex-col justify-between p-12 bg-gradient-to-br from-primary-600 via-primary-700 to-accent-600 dark:from-primary-800 dark:via-primary-900 dark:to-accent-800 relative overflow-hidden\">\n        {/* Animated Background Elements */}\n        <div className=\"absolute inset-0\">\n          <div className=\"absolute top-20 left-20 w-64 h-64 bg-white/10 rounded-full blur-3xl animate-float\"></div>\n          <div className=\"absolute bottom-40 right-20 w-96 h-96 bg-accent-500/20 rounded-full blur-3xl animate-float-delayed\"></div>\n        </div>\n        \n        {/* Logo */}\n        <div className=\"relative z-10\">\n          <div className=\"flex items-center space-x-3 cursor-pointer group\" onClick={() => navigate(\"/\")}>\n            <div className=\"p-2 bg-white/10 backdrop-blur-sm rounded-2xl group-hover:bg-white/20 transition-all\">\n              <img src={logo} alt=\"Chatlas Logo\" className=\"w-10 h-10\" />\n            </div>\n            <span className=\"text-3xl font-bold text-white\">Chat</span>\n          </div>\n        </div>\n\n        {/* Main Content */}\n        <div className=\"relative z-10 space-y-8\">\n          <div className=\"space-y-4\">\n            <h1 className=\"text-5xl md:text-6xl font-bold text-white leading-tight\">\n              Welcome back to\n              <br />\n              <span className=\"bg-gradient-to-r from-white to-primary-100 bg-clip-text text-transparent\">\n                global conversations\n              </span>\n            </h1>\n            <p className=\"text-xl text-white/90 max-w-md\">\n              Continue breaking language barriers with AI-powered real-time translation.\n            </p>\n          </div>\n\n          {/* Feature Pills */}\n          <div className=\"space-y-3\">\n            <div className=\"flex items-center space-x-3 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20\">\n              <div className=\"p-2 bg-white/20 rounded-xl\">\n                <FaGlobe className=\"text-white text-xl\" />\n              </div>\n              <div>\n                <p className=\"text-white font-semibold\">140+ Languages</p>\n                <p className=\"text-white/70 text-sm\">Instant translation</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-3 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20\">\n              <div className=\"p-2 bg-white/20 rounded-xl\">\n                <FaBolt className=\"text-white text-xl\" />\n              </div>\n              <div>\n                <p className=\"text-white font-semibold\">Real-Time Speed</p>\n                <p className=\"text-white/70 text-sm\">&lt; 100ms latency</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-3 p-4 bg-white/10 backdrop-blur-sm rounded-2xl border border-white/20\">\n              <div className=\"p-2 bg-white/20 rounded-xl\">\n                <FaComments className=\"text-white text-xl\" />\n              </div>\n              <div>\n                <p className=\"text-white font-semibold\">Secure Chats</p>\n                <p className=\"text-white/70 text-sm\">End-to-end encrypted</p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"relative z-10 text-white/60 text-sm\">\n          Â© 2025 UnifyChat. All rights reserved.\n        </div>\n      </div>\n\n      {/* Right Side - Sign In Form */}\n      <div className=\"flex items-center justify-center p-6 lg:p-12\">\n        <div className=\"w-full max-w-md space-y-8 animate-fade-in\">\n          {/* Mobile Logo */}\n          <div className=\"lg:hidden flex items-center justify-center space-x-3 p-4 bg-white dark:bg-slate-800 rounded-2xl shadow-lg\">\n            <img src={logo} alt=\"Chatlas Logo\" className=\"w-10 h-10\" />\n            <span className=\"text-2xl font-bold text-neutral-900 dark:text-neutral-100\">UnifyChatChat</span>\n          </div>\n\n          {/* Header */}\n          <div className=\"text-center lg:text-left space-y-3\">\n            <h2 className=\"text-4xl md:text-5xl font-bold text-neutral-900 dark:text-neutral-100\">Welcome back</h2>\n            <p className=\"text-lg text-neutral-600 dark:text-neutral-400\">Sign in to continue your conversations</p>\n          </div>\n\n          {/* Google Sign In */}\n          <div className=\"space-y-4\">\n            <div className=\"flex justify-center p-4 bg-white dark:bg-slate-800 rounded-2xl border-2 border-neutral-200 dark:border-neutral-700\">\n              <GoogleLogin\n                onSuccess={handleGoogleSuccess}\n                onError={handleGoogleFailure}\n                useOneTap\n                theme=\"outline\"\n                size=\"large\"\n                width=\"400\"\n              />\n            </div>\n\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <div className=\"w-full border-t-2 border-neutral-200 dark:border-neutral-700\"></div>\n              </div>\n              <div className=\"relative flex justify-center text-sm\">\n                <span className=\"px-4 bg-neutral-50 dark:bg-slate-900 text-neutral-500 dark:text-neutral-400 font-medium\">Or continue with email</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Sign In Form */}\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n            <div className=\"space-y-5\">\n              <div>\n                <label className=\"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2\">\n                  Email address\n                </label>\n                <input\n                  type=\"email\"\n                  placeholder=\"you@example.com\"\n                  className=\"w-full px-4 py-3 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all\"\n                  {...register(\"email\", {\n                    required: \"Email is required\",\n                    pattern: {\n                      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                      message: \"Invalid email address\"\n                    }\n                  })}\n                />\n                {errors.email && (\n                  <p className=\"mt-2 text-sm text-red-600 dark:text-red-400\">{errors.email?.message}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2\">\n                  Password\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder=\"Enter your password\"\n                    className=\"w-full px-4 py-3 pr-12 bg-white dark:bg-slate-800 border-2 border-neutral-200 dark:border-neutral-700 rounded-xl text-neutral-900 dark:text-neutral-100 placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus:ring-2 focus:ring-primary-500 dark:focus:ring-primary-400 focus:border-primary-500 dark:focus:border-primary-400 transition-all\"\n                    {...register(\"password\", { required: \"Password is required\" })}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={togglePasswordVisibility}\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors\"\n                  >\n                    {showPassword ? <FaEyeSlash size={20} /> : <FaEye size={20} />}\n                  </button>\n                </div>\n                {errors.password && (\n                  <p className=\"mt-2 text-sm text-red-600 dark:text-red-400\">{errors.password?.message}</p>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <label className=\"flex items-center cursor-pointer\">\n                <input\n                  type=\"checkbox\"\n                  className=\"w-4 h-4 text-primary-600 dark:text-primary-500 border-neutral-300 dark:border-neutral-600 rounded focus:ring-primary-500 dark:focus:ring-primary-400 bg-white dark:bg-slate-800\"\n                />\n                <span className=\"ml-2 text-sm text-neutral-600 dark:text-neutral-400\">Remember me</span>\n              </label>\n              <Link to=\"/forgot-password\" className=\"text-sm font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors\">\n                Forgot password?\n              </Link>\n            </div>\n\n            <button\n              type=\"submit\"\n              disabled={loading}\n              className=\"w-full px-6 py-4 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 dark:from-primary-500 dark:to-primary-600 dark:hover:from-primary-600 dark:hover:to-primary-700 text-white font-semibold rounded-xl transition-all duration-200 hover:scale-105 hover:shadow-xl shadow-lg shadow-primary-500/30 dark:shadow-primary-500/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2\"\n            >\n              {loading ? (\n                <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\"></div>\n              ) : (\n                <>\n                  <span>Sign in</span>\n                  <FaArrowRight />\n                </>\n              )}\n            </button>\n          </form>\n\n          {/* Sign Up Link */}\n          <div className=\"text-center pt-4\">\n            <p className=\"text-neutral-600 dark:text-neutral-400\">\n              Don't have an account?{\" \"}\n              <Link to=\"/signup\" className=\"font-semibold text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 transition-colors\">\n                Sign up\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Signin;\n","size_bytes":12808},"backend/app.js":{"content":"// app.js\nrequire(\"dotenv\").config({ path: \"./config.env\" });\nconst express = require(\"express\");\nconst session = require(\"express-session\");\nconst cors = require(\"cors\");\nconst passport = require(\"./controllers/passController\");\n\nconst userRouter = require(\"./routes/userRoutes\");\nconst roomRoute = require(\"./routes/roomRoutes\");\n// Import your messageRoutes (the file with router.post(\"/rooms/:roomId/messages\"))\nconst messageRoutes = require(\"./routes/messageRoutes\");\n\nconst translate = require(\"./controllers/transController\");\nconst app = express();\n\nconst corsOptions = {\n  origin: true,\n  credentials: true,\n};\napp.use(cors(corsOptions));\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\n// Serve static files from uploads directory\napp.use('/uploads', express.static('uploads'));\n\n// Security headers (optional)\napp.use((req, res, next) => {\n  res.setHeader(\"Cross-Origin-Opener-Policy\", \"same-origin\");\n  res.setHeader(\"Cross-Origin-Embedder-Policy\", \"require-corp\");\n  next();\n});\n\n// Session\napp.use(\n  session({\n    secret: process.env.SESSION_SECRET || \"some-secret\",\n    resave: false,\n    saveUninitialized: false,\n  })\n);\n\n// Passport\napp.use(passport.initialize());\napp.use(passport.session());\n\n// Example homepage\napp.get(\"/\", (req, res) => {\n  res.send('<a href=\"/auth/google\">Login with Google</a>');\n});\n\n// Example user routes => /auth/...\napp.use(\"/auth\", userRouter);\n\n// Example room routes => /chatroom/...\napp.use(\"/chatroom\", roomRoute);\n\n// Mount your message routes at root => /rooms/:roomId/messages\napp.use(\"/\", messageRoutes);\n\n// If you need translation for testing\napp.get(\"/testTrans\", (req, res) => {\n  translate(\"\", \"vi\", \"How are you?\");\n  res.send(\"ok\");\n});\n\nmodule.exports = app;\n","size_bytes":1751},"backend/routes/messageRoutes.js":{"content":"// routes/messageRoutes.js\nconst express = require(\"express\");\nconst router = express.Router();\nconst messageController = require(\"../controllers/messageController\");\n\nrouter.post(\"/rooms/:roomId/messages\", messageController.createMessage);\n\nmodule.exports = router;","size_bytes":266},"src/components/home/Mission.jsx":{"content":"import React from \"react\";\nimport { mission } from \"../../assets\";\nimport { FaGlobeAmericas, FaUsers, FaHeadset } from \"react-icons/fa\";\nimport { useTheme } from \"../../context/ThemeContext\";\n\nconst Mission = () => {\n  const { theme } = useTheme();\n\n  const stats = [\n    {\n      id: \"languages\",\n      icon: FaGlobeAmericas,\n      title: \"140+\",\n      subtitle: \"Supported Languages\",\n      description: \"Covering 95% of the world's population\",\n      gradient: \"from-indigo-500 via-purple-500 to-pink-500\",\n      iconBg: \"bg-primary-500\",\n    },\n    {\n      id: \"users\",\n      icon: FaUsers,\n      title: \"10K+\",\n      subtitle: \"Happy Users\",\n      description: \"And growing every day\",\n      gradient: \"from-cyan-500 via-blue-500 to-indigo-500\",\n      iconBg: \"bg-accent-500\",\n    },\n    {\n      id: \"support\",\n      icon: FaHeadset,\n      title: \"24/7\",\n      subtitle: \"Support\",\n      description: \"Always here to help you\",\n      gradient: \"from-pink-500 via-rose-500 to-red-500\",\n      iconBg: \"bg-aurora-500\",\n    },\n  ];\n\n  return (\n    <div className={`relative py-32 overflow-hidden ${theme === 'dark' ? 'bg-neutral-950' : 'bg-white'}`}>\n      {/* Background Image with advanced overlay */}\n      <div\n        className=\"absolute inset-0 bg-cover bg-center transition-all duration-300\"\n        style={{ backgroundImage: `url(${mission})` }}\n      >\n        <div className={`absolute inset-0 ${theme === 'dark' ? 'bg-gradient-to-br from-neutral-950/95 via-neutral-950/85 to-neutral-900/90' : 'bg-gradient-to-br from-gray-900/80 via-gray-700/70 to-gray-900/80 opacity-95'}`}></div>\n        <div className={`absolute inset-0 bg-gradient-to-t ${theme === 'dark' ? 'from-neutral-950 via-transparent to-transparent' : 'from-white/90 via-transparent to-transparent'}`}></div>\n      </div>\n\n      {/* Decorative elements */}\n      <div className=\"absolute top-20 right-20 w-64 h-64 bg-primary-500/5 rounded-full blur-3xl animate-pulse\"></div>\n      <div className=\"absolute bottom-20 left-20 w-72 h-72 bg-accent-500/5 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\n      <div className=\"section-container relative z-10\">\n        <div className=\"grid lg:grid-cols-2 gap-16 items-center\">\n          {/* Left Content */}\n          <div className={`space-y-8 animate-slide-right ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\n            <div className=\"inline-flex items-center space-x-2 px-4 py-2 glass-dark rounded-full border border-primary-500/30\">\n              <div className=\"w-2 h-2 bg-primary-400 rounded-full animate-pulse\"></div>\n              <span className=\"text-sm font-semibold bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-accent-400\">Our Mission</span>\n            </div>\n\n            <div className=\"space-y-6\">\n              <h2 className=\"text-5xl md:text-6xl font-display font-bold leading-[1.1]\">\n                A World Without\n                <br />\n                <span className=\"text-gradient\">Language Barriers</span>\n              </h2>\n\n              <div className=\"h-1 w-24 bg-gradient-to-r from-primary-500 to-accent-500 rounded-full\"></div>\n            </div>\n\n            <p className={`text-xl leading-relaxed max-w-2xl ${theme === 'dark' ? 'text-neutral-300' : 'text-gray-700'}`}>\n              By combining cutting-edge AI with secure, seamless access, we bring people togetherâ€”breaking down\n              linguistic divides and building a more <span className=\"text-primary-400 font-semibold\">connected world</span>.\n            </p>\n            \n          </div>\n\n          {/* Right Stats Grid */}\n          <div className=\"grid grid-cols-1 gap-6 animate-slide-left\">\n            {stats.map((stat) => (\n              <div\n                key={stat.id}\n                className=\"group relative\"\n              >\n                {/* Card */}\n                <div className=\"relative h-full bg-white dark:bg-slate-800 rounded-3xl p-8 border-2 border-neutral-200 dark:border-neutral-700 hover:border-primary-500 dark:hover:border-primary-400 transition-all duration-300 overflow-hidden\">\n                  {/* Gradient Overlay on Hover */}\n                  <div className={`absolute inset-0 bg-gradient-to-br ${stat.gradient} opacity-0 group-hover:opacity-5 dark:group-hover:opacity-10 transition-opacity duration-300`}></div>\n                  \n                  {/* Content */}\n                  <div className=\"relative z-10 flex items-start space-x-4\">\n                    <div className={`w-14 h-14 ${stat.iconBg} dark:${stat.iconBg}/80 rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300 flex-shrink-0`}>\n                      <stat.icon className=\"text-white text-2xl\" />\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"text-4xl font-display font-bold bg-clip-text text-transparent bg-gradient-to-r from-primary-400 to-accent-400 mb-2\">{stat.title}</div>\n                      <div className={`font-medium ${theme === 'dark' ? 'text-neutral-300' : 'text-gray-800'}`}>{stat.subtitle}</div>\n                      <div className={`text-sm mt-1 ${theme === 'dark' ? 'text-neutral-500' : 'text-gray-600'}`}>{stat.description}</div>\n                    </div>\n                  </div>\n                  \n                  {/* Hover Indicator */}\n                  <div className=\"pt-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300\">\n                    <div className={`h-1 w-full bg-gradient-to-r ${stat.gradient} rounded-full`}></div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Mission;\n","size_bytes":5736},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n","size_bytes":81},"src/components/chatroom/ChatInfo.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { AvatarPerson } from \"./ReusableComponents\";\nimport {\n  IconButton,\n  Avatar,\n  Badge,\n  Button,\n  Modal,\n  Divider,\n  Input,\n} from \"../ui/ThemeAwareComponents\";\nimport {\n  FaEdit,\n  FaCopy,\n  FaCheck,\n  FaTimes,\n  FaTimesCircle,\n  FaUserShield,\n  FaChevronDown,\n  FaChevronUp,\n  FaCalendar,\n  FaUsers,\n  FaLink,\n} from \"react-icons/fa\";\nimport { showToastError, showToastSuccess } from \"../common/ShowToast\";\nimport { API_BASE_URL } from \"../../config/api\";\n\nconst CollapsibleSection = ({ title, icon, children, defaultOpen = true, count }) => {\n  const [isOpen, setIsOpen] = useState(defaultOpen);\n\n  return (\n    <div className=\"border-b border-brand-grey-200 dark:border-brand-grey-light last:border-b-0\">\n      <button\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"w-full px-6 py-4 flex items-center justify-between hover:bg-brand-grey-50 dark:hover:bg-brand-grey-light/50 transition-colors\"\n        aria-expanded={isOpen}\n      >\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-brand-grey-600 dark:text-brand-grey-400\">{icon}</span>\n          <h3 className=\"font-['Montserrat'] font-semibold text-brand-grey-dark dark:text-brand-white\">\n            {title}\n          </h3>\n          {count !== undefined && (\n            <Badge variant=\"default\" className=\"ml-2\">\n              {count}\n            </Badge>\n          )}\n        </div>\n        {isOpen ? (\n          <FaChevronUp className=\"text-brand-grey-500 dark:text-brand-grey-400\" />\n        ) : (\n          <FaChevronDown className=\"text-brand-grey-500 dark:text-brand-grey-400\" />\n        )}\n      </button>\n      {isOpen && <div className=\"px-6 py-4\">{children}</div>}\n    </div>\n  );\n};\n\nconst MemberItem = ({ member, currentUserId, isAdmin, onUserInfoClick }) => {\n  const isCurrentUser = member.id === currentUserId;\n  \n  return (\n    <div className=\"flex items-center justify-between py-3 group\">\n      <div className=\"flex items-center gap-3 flex-1 min-w-0\">\n        <Avatar\n          src={member.profile_picture}\n          alt={member.given_name}\n          fallback={member.given_name?.charAt(0)}\n          size=\"md\"\n        />\n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center gap-2\">\n            <p className=\"font-['Inter'] font-medium text-brand-grey-dark dark:text-brand-white truncate\">\n              {member.given_name}\n              {isCurrentUser && (\n                <span className=\"text-brand-grey-500 dark:text-brand-grey-400 ml-1\">\n                  (You)\n                </span>\n              )}\n            </p>\n            {isAdmin && <Badge variant=\"admin\">Admin</Badge>}\n          </div>\n          {member.email && (\n            <p className=\"font-['Inter'] text-sm text-brand-grey-600 dark:text-brand-grey-400 truncate\">\n              {member.email}\n            </p>\n          )}\n        </div>\n      </div>\n      {!isCurrentUser && onUserInfoClick && (\n        <IconButton\n          icon={<FaUserShield />}\n          onClick={() => onUserInfoClick(member)}\n          className=\"opacity-0 group-hover:opacity-100 transition-opacity\"\n          ariaLabel={`Manage ${member.given_name}`}\n        />\n      )}\n    </div>\n  );\n};\n\nconst JoinRequestItem = ({ request, onAccept, onReject }) => {\n  return (\n    <div className=\"flex items-center justify-between py-3\">\n      <div className=\"flex items-center gap-3\">\n        <Avatar\n          src={request.profile_picture}\n          alt={request.given_name}\n          fallback={request.given_name?.charAt(0)}\n          size=\"md\"\n        />\n        <div>\n          <p className=\"font-['Inter'] font-medium text-brand-grey-dark dark:text-brand-white\">\n            {request.given_name}\n          </p>\n          {request.email && (\n            <p className=\"font-['Inter'] text-sm text-brand-grey-600 dark:text-brand-grey-400\">\n              {request.email}\n            </p>\n          )}\n        </div>\n      </div>\n      <div className=\"flex gap-2\">\n        <button\n          onClick={() => onAccept(request.id)}\n          className=\"p-2 rounded-full bg-success/10 text-success hover:bg-success/20 transition-colors\"\n          aria-label={`Accept ${request.given_name}'s request`}\n        >\n          <FaCheck />\n        </button>\n        <button\n          onClick={() => onReject(request.id)}\n          className=\"p-2 rounded-full bg-error/10 text-error hover:bg-error/20 transition-colors\"\n          aria-label={`Reject ${request.given_name}'s request`}\n        >\n          <FaTimes />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nconst ChatInfo = ({ chatId, currentUserId, onClose, setCurrentChatId, originalChats, setOriginalChats }) => {\n  const userId = currentUserId || localStorage.getItem(\"user_id\");\n  const [groupData, setGroupData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [joinRequests, setJoinRequests] = useState([]);\n  const [isEditingName, setIsEditingName] = useState(false);\n  const [newGroupName, setNewGroupName] = useState(\"\");\n  const [isLeaveModalOpen, setIsLeaveModalOpen] = useState(false);\n  const [isUserInfoModalOpen, setIsUserInfoModalOpen] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [isCurrentUserAdmin, setIsCurrentUserAdmin] = useState(false);\n\n  useEffect(() => {\n    const fetchGroupData = async () => {\n      try {\n        setLoading(true);\n        const response = await axios.get(`${API_BASE_URL}/chatroom/${chatId}`);\n        const chatRoom = response.data.chatRoom;\n\n        const members = [];\n        const pendingMembers = [];\n\n        for (const member of chatRoom.members) {\n          if (member.status === \"approved\") {\n            members.push(member);\n          } else if (member.status === \"pending\") {\n            pendingMembers.push(member);\n          }\n        }\n\n        const mockData = {\n          id: chatRoom.id,\n          name: chatRoom.name,\n          createdAt: chatRoom.created_at,\n          description: chatRoom.description,\n          adminId: chatRoom.admin_id,\n          inviteLink: `${window.location.origin}/Chat/${chatRoom.id}`,\n          members: members,\n          joinRequests: pendingMembers,\n        };\n\n        setGroupData(mockData);\n        setNewGroupName(mockData.name);\n        setJoinRequests(mockData.joinRequests);\n        setIsCurrentUserAdmin(mockData.adminId === Number(userId));\n        setLoading(false);\n      } catch (err) {\n        console.error(\"Failed to load group data:\", err);\n        setError(\"Failed to load group data\");\n        setLoading(false);\n      }\n    };\n\n    if (chatId) {\n      fetchGroupData();\n    }\n  }, [chatId, userId]);\n\n  const handleCopyInviteLink = () => {\n    navigator.clipboard.writeText(groupData.inviteLink);\n    showToastSuccess(\"Invite link copied to clipboard!\");\n  };\n\n  const handleJoinRequest = async (requestUserId, approve) => {\n    try {\n      if (approve) {\n        await axios.put(`${API_BASE_URL}/chatroom/${chatId}/approveMember`, {\n          userId: requestUserId,\n        });\n        const approvedRequest = joinRequests.find((req) => req.id === requestUserId);\n        setGroupData((prev) => ({\n          ...prev,\n          members: [...prev.members, { ...approvedRequest, status: \"approved\" }],\n        }));\n        showToastSuccess(\"Member approved successfully\");\n      } else {\n        await axios.delete(`${API_BASE_URL}/chatroom/${chatId}/members/${requestUserId}`);\n        showToastSuccess(\"Request rejected\");\n      }\n      setJoinRequests((prev) => prev.filter((req) => req.id !== requestUserId));\n    } catch (err) {\n      console.error(\"Failed to handle join request\", err);\n      showToastError(\"Failed to process request\");\n    }\n  };\n\n  const handleLeaveGroup = async () => {\n    try {\n      await axios.delete(`${API_BASE_URL}/chatroom/${chatId}/members/${userId}`);\n      showToastSuccess(\"Left the group successfully\");\n      setIsLeaveModalOpen(false);\n      if (setCurrentChatId) setCurrentChatId(null);\n      if (onClose) onClose();\n    } catch (err) {\n      console.error(\"Failed to leave group\", err);\n      showToastError(\"Failed to leave group\");\n    }\n  };\n\n  const handleUserAction = async (targetUserId, action) => {\n    try {\n      setIsUserInfoModalOpen(false);\n\n      if (action === \"makeAdmin\") {\n        await axios.put(`${API_BASE_URL}/chatroom/${chatId}/changeAdmin`, {\n          newAdminId: targetUserId,\n        });\n        setGroupData((prev) => ({\n          ...prev,\n          adminId: targetUserId,\n        }));\n        setIsCurrentUserAdmin(false);\n        showToastSuccess(\"Admin status transferred successfully\");\n      } else if (action === \"removeMember\") {\n        await axios.delete(`${API_BASE_URL}/chatroom/${chatId}/members/${targetUserId}`);\n        setGroupData((prev) => ({\n          ...prev,\n          members: prev.members.filter((member) => member.id !== targetUserId),\n        }));\n        showToastSuccess(\"Member removed successfully\");\n      }\n    } catch (err) {\n      console.error(`Failed to ${action}`, err);\n      showToastError(`Failed to ${action}`);\n    }\n  };\n\n  const handleSaveName = async () => {\n    try {\n      if (!newGroupName.trim()) {\n        showToastError(\"Group name cannot be empty\");\n        return;\n      }\n\n      if (newGroupName.trim() === groupData.name) {\n        setIsEditingName(false);\n        return;\n      }\n\n      await axios.put(`${API_BASE_URL}/chatroom/${chatId}`, {\n        name: newGroupName,\n      });\n\n      setGroupData((prev) => ({\n        ...prev,\n        name: newGroupName.trim(),\n      }));\n\n      setIsEditingName(false);\n      showToastSuccess(\"Group name updated successfully\");\n    } catch (err) {\n      console.error(\"Failed to update group name\", err);\n      showToastError(\"Failed to update group name\");\n    }\n  };\n\n  const formatDate = (timestamp) => {\n    if (!timestamp) return \"Unknown\";\n    return new Date(timestamp).toLocaleDateString(\"en-US\", {\n      month: \"long\",\n      day: \"numeric\",\n      year: \"numeric\",\n    });\n  };\n\n  if (loading) {\n    return (\n      <aside className=\"w-80 lg:w-96 border-l border-brand-grey-200 dark:border-brand-grey-light bg-brand-white-soft dark:bg-brand-grey-medium flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-2 border-brand-grey-200 dark:border-brand-grey-600 border-t-brand-yellow mx-auto mb-4\"></div>\n          <p className=\"font-['Inter'] text-brand-grey-600 dark:text-brand-grey-400\">\n            Loading chat info...\n          </p>\n        </div>\n      </aside>\n    );\n  }\n\n  if (error) {\n    return (\n      <aside className=\"w-80 lg:w-96 border-l border-brand-grey-200 dark:border-brand-grey-light bg-brand-white-soft dark:bg-brand-grey-medium flex items-center justify-center\">\n        <div className=\"text-center p-6\">\n          <p className=\"font-['Inter'] text-error mb-4\">{error}</p>\n          <Button variant=\"secondary\" onClick={() => window.location.reload()}>\n            Retry\n          </Button>\n        </div>\n      </aside>\n    );\n  }\n\n  return (\n    <aside className=\"w-80 lg:w-96 border-l border-brand-grey-200 dark:border-brand-grey-light bg-brand-white-soft dark:bg-brand-grey-medium flex flex-col h-full overflow-hidden\">\n      {/* Header */}\n      <div className=\"px-6 py-4 border-b border-brand-grey-200 dark:border-brand-grey-light flex-shrink-0\">\n        {isEditingName ? (\n          <div className=\"flex items-center gap-2\">\n            <Input\n              type=\"text\"\n              value={newGroupName}\n              onChange={(e) => setNewGroupName(e.target.value)}\n              className=\"flex-1\"\n              maxLength={50}\n              autoFocus\n              aria-label=\"Edit group name\"\n            />\n            <IconButton\n              icon={<FaCheck className=\"text-success\" />}\n              onClick={handleSaveName}\n              ariaLabel=\"Save group name\"\n            />\n            <IconButton\n              icon={<FaTimes className=\"text-error\" />}\n              onClick={() => {\n                setNewGroupName(groupData.name);\n                setIsEditingName(false);\n              }}\n              ariaLabel=\"Cancel editing\"\n            />\n          </div>\n        ) : (\n          <div className=\"flex items-center justify-between\">\n            <h2 className=\"font-['Montserrat'] text-xl font-bold text-brand-grey-dark dark:text-brand-white\">\n              {groupData?.name}\n            </h2>\n            {isCurrentUserAdmin && (\n              <IconButton\n                icon={<FaEdit />}\n                onClick={() => setIsEditingName(true)}\n                ariaLabel=\"Edit group name\"\n              />\n            )}\n          </div>\n        )}\n      </div>\n\n      {/* Scrollable Content */}\n      <div className=\"flex-1 overflow-y-auto scrollbar-custom\">\n        {/* Group Details */}\n        <CollapsibleSection title=\"Details\" icon={<FaCalendar />} defaultOpen={true}>\n          <div className=\"space-y-3\">\n            <div>\n              <p className=\"font-['Inter'] text-xs text-brand-grey-600 dark:text-brand-grey-400 mb-1\">\n                Created\n              </p>\n              <p className=\"font-['Inter'] text-sm text-brand-grey-dark dark:text-brand-white\">\n                {formatDate(groupData?.createdAt)}\n              </p>\n            </div>\n            {groupData?.description && (\n              <div>\n                <p className=\"font-['Inter'] text-xs text-brand-grey-600 dark:text-brand-grey-400 mb-1\">\n                  Description\n                </p>\n                <p className=\"font-['Inter'] text-sm text-brand-grey-dark dark:text-brand-white\">\n                  {groupData.description}\n                </p>\n              </div>\n            )}\n          </div>\n        </CollapsibleSection>\n\n        {/* Members */}\n        <CollapsibleSection\n          title=\"Members\"\n          icon={<FaUsers />}\n          count={groupData?.members?.length}\n          defaultOpen={true}\n        >\n          <div className=\"space-y-1\">\n            {groupData?.members.map((member) => (\n              <MemberItem\n                key={member.id}\n                member={member}\n                currentUserId={Number(userId)}\n                isAdmin={member.id === groupData.adminId}\n                onUserInfoClick={\n                  isCurrentUserAdmin && member.id !== Number(userId)\n                    ? (user) => {\n                        setSelectedUser(user);\n                        setIsUserInfoModalOpen(true);\n                      }\n                    : null\n                }\n              />\n            ))}\n          </div>\n        </CollapsibleSection>\n\n        {/* Join Requests (Admin Only) */}\n        {isCurrentUserAdmin && joinRequests.length > 0 && (\n          <CollapsibleSection\n            title=\"Pending Requests\"\n            icon={<FaUserShield />}\n            count={joinRequests.length}\n            defaultOpen={true}\n          >\n            <div className=\"space-y-1\">\n              {joinRequests.map((request) => (\n                <JoinRequestItem\n                  key={request.id}\n                  request={request}\n                  onAccept={(id) => handleJoinRequest(id, true)}\n                  onReject={(id) => handleJoinRequest(id, false)}\n                />\n              ))}\n            </div>\n          </CollapsibleSection>\n        )}\n\n        {/* Invite Link */}\n        <CollapsibleSection title=\"Invite Link\" icon={<FaLink />} defaultOpen={false}>\n          <div className=\"space-y-3\">\n            <p className=\"font-['Inter'] text-sm text-brand-grey-600 dark:text-brand-grey-400\">\n              Share this link to invite others to the group\n            </p>\n            <div className=\"flex gap-2\">\n              <Input\n                type=\"text\"\n                value={groupData?.inviteLink}\n                readOnly\n                className=\"flex-1 text-sm\"\n                aria-label=\"Invite link\"\n              />\n              <Button variant=\"secondary\" onClick={handleCopyInviteLink}>\n                <FaCopy />\n              </Button>\n            </div>\n          </div>\n        </CollapsibleSection>\n      </div>\n\n      {/* Footer Actions */}\n      <div className=\"px-6 py-4 border-t border-brand-grey-200 dark:border-brand-grey-light flex-shrink-0\">\n        <button\n          onClick={() => setIsLeaveModalOpen(true)}\n          className=\"w-full flex items-center justify-center gap-2 px-4 py-3 text-error hover:bg-error/10 rounded-2xl transition-colors font-['Montserrat'] font-semibold\"\n        >\n          <FaTimesCircle />\n          Leave Group\n        </button>\n      </div>\n\n      {/* Leave Group Modal */}\n      <Modal\n        isOpen={isLeaveModalOpen}\n        onClose={() => setIsLeaveModalOpen(false)}\n        title=\"Leave Group\"\n      >\n        <p className=\"font-['Inter'] text-brand-grey-600 dark:text-brand-grey-400 mb-6\">\n          Are you sure you want to leave <strong>{groupData?.name}</strong>? You'll need to be\n          re-invited to rejoin.\n        </p>\n        <div className=\"flex gap-3\">\n          <Button variant=\"secondary\" onClick={() => setIsLeaveModalOpen(false)} className=\"flex-1\">\n            Cancel\n          </Button>\n          <Button variant=\"primary\" onClick={handleLeaveGroup} className=\"flex-1 bg-error hover:bg-error/90 text-white\">\n            Leave Group\n          </Button>\n        </div>\n      </Modal>\n\n      {/* User Info Modal */}\n      <Modal\n        isOpen={isUserInfoModalOpen}\n        onClose={() => setIsUserInfoModalOpen(false)}\n        title=\"Manage Member\"\n      >\n        {selectedUser && (\n          <div>\n            <div className=\"text-center mb-6\">\n              <Avatar\n                src={selectedUser.profile_picture}\n                alt={selectedUser.given_name}\n                fallback={selectedUser.given_name?.charAt(0)}\n                size=\"xl\"\n                className=\"mx-auto mb-4\"\n              />\n              <h3 className=\"font-['Montserrat'] font-bold text-lg text-brand-grey-dark dark:text-brand-white mb-1\">\n                {selectedUser.given_name}\n              </h3>\n              <p className=\"font-['Inter'] text-sm text-brand-grey-600 dark:text-brand-grey-400\">\n                {selectedUser.email}\n              </p>\n            </div>\n            {isCurrentUserAdmin && (\n              <div className=\"flex flex-col gap-3\">\n                <Button\n                  variant=\"primary\"\n                  onClick={() => handleUserAction(selectedUser.id, \"makeAdmin\")}\n                  className=\"w-full flex items-center justify-center\"\n                >\n                  <FaUserShield className=\"mr-2\" />\n                  Make Admin\n                </Button>\n                <Button\n                  variant=\"secondary\"\n                  onClick={() => handleUserAction(selectedUser.id, \"removeMember\")}\n                  className=\"w-full flex items-center justify-center border-error text-error hover:bg-error/10\"\n                >\n                  <FaTimesCircle className=\"mr-2\" />\n                  Remove Member\n                </Button>\n              </div>\n            )}\n          </div>\n        )}\n      </Modal>\n    </aside>\n  );\n};\n\nexport default ChatInfo;\n","size_bytes":19315},"src/components/chatroom/Sidebar.jsx":{"content":"import React from \"react\";\nimport { AvatarChat } from \"./ReusableComponents.jsx\";\nimport { IconButton, Input, Badge } from \"../ui/ThemeAwareComponents\";\nimport { FaSearch, FaCommentDots, FaTimes } from \"react-icons/fa\";\n\nconst showTime = (timestamp) => {\n  if (!timestamp) return \"\";\n  const sentTime = new Date(timestamp);\n  const now = new Date();\n  const diffInSeconds = Math.floor((now - sentTime) / 1000);\n\n  if (diffInSeconds < 60) return \"now\";\n  const diffInMinutes = Math.floor(diffInSeconds / 60);\n  if (diffInMinutes < 60) return `${diffInMinutes}m`;\n  const diffInHours = Math.floor(diffInMinutes / 60);\n  if (diffInHours < 24) return `${diffInHours}h`;\n  const diffInDays = Math.floor(diffInHours / 24);\n  if (diffInDays < 30) return `${diffInDays}d`;\n  const diffInMonths = Math.floor(diffInDays / 30);\n  if (diffInMonths < 12) return `${diffInMonths}mo`;\n  const diffInYears = Math.floor(diffInMonths / 12);\n  return `${diffInYears}y`;\n};\n\nconst FilterTab = ({ text, isActive, onClick, count = 0 }) => {\n  return (\n    <button\n      onClick={onClick}\n      className={`\n        px-4 py-2 rounded-full text-sm font-semibold font-['Montserrat'] transition-all duration-200\n        ${isActive \n          ? 'bg-brand-yellow text-brand-grey-dark shadow-sm' \n          : 'bg-transparent text-brand-grey-600 dark:text-brand-grey-300 hover:bg-brand-grey-100 dark:hover:bg-brand-grey-light'\n        }\n        focus:outline-none focus:ring-2 focus:ring-brand-yellow/50\n      `}\n      aria-pressed={isActive}\n      aria-label={`Filter by ${text}${count > 0 ? `, ${count} items` : ''}`}\n    >\n      {text}\n      {count > 0 && <span className=\"ml-1.5 opacity-75\">({count})</span>}\n    </button>\n  );\n};\n\nconst ChatItem = ({ chat, isActive, onClick }) => {\n  const unreadCount = chat.unread_count || 0;\n  \n  return (\n    <div\n      onClick={onClick}\n      className={`\n        card-chat-item group relative\n        ${isActive ? 'card-chat-item-active' : ''}\n      `}\n      role=\"button\"\n      tabIndex={0}\n      aria-label={`Chat with ${chat.name}, ${unreadCount > 0 ? `${unreadCount} unread messages` : 'no unread messages'}`}\n      onKeyDown={(e) => {\n        if (e.key === 'Enter' || e.key === ' ') {\n          e.preventDefault();\n          onClick();\n        }\n      }}\n    >\n      <div className=\"flex items-center gap-3\">\n        <div className=\"relative flex-shrink-0\">\n          <AvatarChat color={chat.avatar_color} text={chat.avatar_text} />\n          {chat.is_online && (\n            <div className=\"absolute bottom-0 right-0 h-3 w-3 bg-success rounded-full border-2 border-brand-white dark:border-brand-grey-medium\"></div>\n          )}\n        </div>\n        \n        <div className=\"flex-1 min-w-0\">\n          <div className=\"flex items-center justify-between gap-2 mb-1\">\n            <h3 className=\"font-['Montserrat'] font-semibold text-brand-grey-dark dark:text-brand-white truncate\">\n              {chat.name}\n            </h3>\n            <span className=\"font-['Inter'] text-xs text-brand-grey-500 dark:text-brand-grey-400 flex-shrink-0\">\n              {showTime(chat.updated_at)}\n            </span>\n          </div>\n          \n          <div className=\"flex items-center justify-between gap-2\">\n            <p className={`font-['Inter'] text-sm truncate flex-1 ${unreadCount > 0 ? 'font-medium text-brand-grey-dark dark:text-brand-white' : 'text-brand-grey-600 dark:text-brand-grey-400'}`}>\n              {chat.last_message || \"No messages yet\"}\n            </p>\n            {unreadCount > 0 && (\n              <Badge variant=\"unread\" className=\"flex-shrink-0\">\n                {unreadCount > 99 ? '99+' : unreadCount}\n              </Badge>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst Sidebar = ({\n  chats = [],\n  currentChatId,\n  onChatClick,\n  searchTerm,\n  setSearchTerm,\n  activeFilter,\n  setActiveFilter,\n  onNewChat,\n  isCollapsed = false,\n  onToggleCollapse,\n}) => {\n  const filterCounts = React.useMemo(() => {\n    return {\n      all: chats.length,\n      unread: chats.filter(chat => (chat.unread_count || 0) > 0).length,\n      pending: chats.filter(chat => chat.status === 'pending').length,\n    };\n  }, [chats]);\n\n  return (\n    <aside\n      className={`\n        flex flex-col h-full border-r border-brand-grey-200 dark:border-brand-grey-light\n        bg-brand-white-soft dark:bg-brand-grey-medium transition-all duration-300\n        ${isCollapsed ? 'w-0 overflow-hidden' : 'w-80 lg:w-96'}\n      `}\n      aria-label=\"Chat list sidebar\"\n    >\n      {/* Sidebar Header */}\n      <div className=\"px-6 py-4 border-b border-brand-grey-200 dark:border-brand-grey-light flex-shrink-0\">\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-brand-grey-dark dark:text-brand-white font-['Montserrat'] text-2xl font-bold\">\n            Chats\n          </h1>\n          <IconButton \n            icon={<FaCommentDots className=\"text-xl\" />} \n            onClick={onNewChat}\n            ariaLabel=\"Start new chat\"\n          />\n        </div>\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"px-4 py-3 flex-shrink-0\">\n        <div className=\"relative\">\n          <FaSearch className=\"absolute left-4 top-1/2 -translate-y-1/2 text-brand-grey-500 dark:text-brand-grey-400 z-10\" />\n          <Input\n            type=\"text\"\n            placeholder=\"Search chats...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            variant=\"search\"\n            className=\"pl-11 pr-10\"\n            aria-label=\"Search chats\"\n          />\n          {searchTerm && (\n            <button\n              onClick={() => setSearchTerm(\"\")}\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 p-1 hover:bg-brand-grey-200 dark:hover:bg-brand-grey-600 rounded-full transition-colors\"\n              aria-label=\"Clear search\"\n            >\n              <FaTimes className=\"text-brand-grey-500 dark:text-brand-grey-400 text-sm\" />\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Filter Tabs */}\n      <div className=\"px-4 pb-3 flex gap-2 flex-shrink-0 overflow-x-auto scrollbar-custom\">\n        <FilterTab\n          text=\"All\"\n          isActive={activeFilter === \"all\"}\n          onClick={() => setActiveFilter(\"all\")}\n          count={filterCounts.all}\n        />\n        <FilterTab\n          text=\"Unread\"\n          isActive={activeFilter === \"unread\"}\n          onClick={() => setActiveFilter(\"unread\")}\n          count={filterCounts.unread}\n        />\n        <FilterTab\n          text=\"Pending\"\n          isActive={activeFilter === \"pending\"}\n          onClick={() => setActiveFilter(\"pending\")}\n          count={filterCounts.pending}\n        />\n      </div>\n\n      {/* Chat List */}\n      <div className=\"flex-1 overflow-y-auto scrollbar-custom\">\n        {chats.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-full px-6 text-center\">\n            <div className=\"text-6xl mb-4\">ðŸ’¬</div>\n            <h3 className=\"font-['Montserrat'] font-semibold text-brand-grey-dark dark:text-brand-white mb-2\">\n              {searchTerm ? 'No chats found' : 'No chats yet'}\n            </h3>\n            <p className=\"font-['Inter'] text-sm text-brand-grey-600 dark:text-brand-grey-400 mb-4\">\n              {searchTerm \n                ? 'Try searching with different keywords' \n                : 'Start a new conversation to get started'\n              }\n            </p>\n            {!searchTerm && (\n              <button\n                onClick={onNewChat}\n                className=\"btn-primary text-sm\"\n              >\n                Start New Chat\n              </button>\n            )}\n          </div>\n        ) : (\n          <div className=\"space-y-1 px-2 py-2\">\n            {chats.map((chat) => (\n              <ChatItem\n                key={chat.id}\n                chat={chat}\n                isActive={chat.id === currentChatId}\n                onClick={() => onChatClick(chat.id)}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </aside>\n  );\n};\n\nexport default Sidebar;\n","size_bytes":8116},"backend/routes/roomRoutes.js":{"content":"const express = require(\"express\");\nconst {\n    createRoom,\n    getChatRoomDetails,\n    updateRoomData,\n    requestJoin,\n    handleMemberRequest,\n    removeMember,\n    leaveRoom,\n    deleteRoom,\n    loadMessages,\n    loadChatRooms,\n    isAdmin,\n    getReadStatus,\n    updateReadStatus,\n    getMembers,\n    getPendingMembers,\n    changeAdmin,\n    isMember,\n    getPendingRooms,\n    uploadFile,\n    upload\n} = require(\"../controllers/roomController\");\n\nconst router = express.Router();\n\nrouter.get(\"/\", (req, res) => {\n    res.json({ message: \"test chat room ok\" });\n})\n\nrouter.get(\"/:chatId\", getChatRoomDetails);\nrouter.get(\"/:chatId/messages\", loadMessages);\nrouter.get(\"/user/:userId\", loadChatRooms);\nrouter.get(\"/:chatId/admin/:userId\", isAdmin);\nrouter.get(\"/:chatId/readStatus/:userId\", getReadStatus);\nrouter.get(\"/:chatId/members\", getMembers);\nrouter.get(\"/:chatId/pending\", getPendingMembers);\nrouter.get(\"/pendingRooms/:userId\", getPendingRooms);\nrouter.get(\"/:chatId/isMember/:userId\", isMember)\n\nrouter.post(\"/\", createRoom);\nrouter.post(\"/:chatId/request\", requestJoin);\n\nrouter.put(\"/:chatId\", updateRoomData);\nrouter.put(\"/:chatId/readStatus/:userId\", updateReadStatus);\nrouter.put(\"/:chatId/memberRequest\", handleMemberRequest);\nrouter.put(\"/:chatId/changeAdmin/\", changeAdmin)\n\nrouter.delete(\"/:chatId/members/:userId\", removeMember);\nrouter.delete(\"/:chatId/leave/:userId\", leaveRoom);\nrouter.delete(\"/:chatId\", deleteRoom);\n\nrouter.post(\"/upload\", upload.single('file'), uploadFile);\n\n\nmodule.exports = router;\n","size_bytes":1531},"src/components/NavBar.jsx":{"content":"import { useState, useEffect } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport { sections } from \"../constants/index.js\";\nimport { useAuth } from \"../context/authContext.jsx\";\nimport { useTheme } from \"../context/ThemeContext.jsx\";\nimport { Button } from \"./ui\";\nimport { FaBars, FaTimes, FaUser, FaSignOutAlt, FaSearch, FaSun, FaMoon } from \"react-icons/fa\";\n\nconst NavBar = () => {\n  const pathname = window.location.pathname;\n  const [active, setActive] = useState(\n    pathname === \"/\" || pathname === \"/Home\"\n      ? \"Home\"\n      : pathname === \"/Chat\"\n      ? \"Chat\"\n      : pathname === \"/Help\"\n      ? \"Help\"\n      : \"\"\n  );\n\n  const { user, logout } = useAuth();\n  const { theme, toggleTheme } = useTheme();\n  const [toggle, setToggle] = useState(false);\n  const [isDropdownVisible, setIsDropdownVisible] = useState(false);\n  const [scrolled, setScrolled] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setScrolled(window.scrollY > 50);\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const handleLogout = () => {\n    logout();\n    navigate(\"/signin\");\n  };\n\n  return (\n    <nav className={`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${\n      scrolled \n        ? 'bg-white/80 dark:bg-slate-900/80 backdrop-blur-lg shadow-md dark:shadow-slate-900/30' \n        : 'bg-transparent'\n    } border-b ${scrolled ? 'border-neutral-200/50 dark:border-neutral-700/50' : 'border-transparent'}`}>\n      <div className=\"section-container\">\n        <div className={`flex items-center justify-between transition-all duration-300 ${scrolled ? 'h-16' : 'h-20'}`}>\n          {/* Back Button for Chat Page */}\n          {pathname.startsWith('/Chat') && (\n            <button\n              onClick={() => navigate('/')}\n              className=\"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-colors text-neutral-700 dark:text-neutral-200 font-medium\"\n            >\n              â† Back\n            </button>\n          )}\n\n          {/* Logo */}\n          {!pathname.startsWith('/Chat') && (\n            <Link\n              to=\"/\"\n              className=\"flex items-center space-x-3 hover:opacity-80 transition-opacity\"\n              onClick={() => {\n                setActive(\"Home\");\n                window.scrollTo(0, 0);\n              }}\n            >\n              <img src={logo} alt=\"Chatlas\" className=\"h-10 w-10\" />\n              <span className=\"text-2xl font-bold text-neutral-900 dark:text-neutral-100 font-['Montserrat']\">Chat</span>\n            </Link>\n          )}\n\n          {/* Desktop Navigation */}\n          <ul className=\"hidden md:flex items-center space-x-1\">\n            {sections.map((link) => (\n              <li key={link.id}>\n                <Link\n                  to={`/${link.id}`}\n                  onClick={() => setActive(link.title)}\n                  className={`\n                    px-4 py-2 rounded-2xl font-semibold transition-all duration-300\n                    ${\n                      active === link.title\n                        ? \"bg-gradient-to-r from-primary-600 to-primary-700 text-white shadow-glow\"\n                        : \"text-neutral-700 hover:bg-neutral-100 hover:scale-105\"\n                    }\n                  `}\n                >\n                  {link.title}\n                </Link>\n              </li>\n            ))}\n          </ul>\n\n          {/* Desktop Auth */}\n          <div className=\"hidden md:flex items-center space-x-3\">\n            {/* Search Icon */}\n            <button \n              className=\"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-all duration-200 text-neutral-600 dark:text-neutral-300 hover:text-primary-600 dark:hover:text-primary-400 hover:scale-110\"\n              aria-label=\"Search\"\n            >\n              <FaSearch size={18} />\n            </button>\n\n            {/* Theme Toggle */}\n            <button \n              onClick={toggleTheme}\n              className=\"p-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-all duration-200 text-neutral-600 dark:text-neutral-300 hover:text-primary-600 dark:hover:text-primary-400 hover:scale-110\"\n              aria-label=\"Toggle theme\"\n            >\n              {theme === 'light' ? (\n                <FaMoon size={18} className=\"animate-in spin-in-90\" />\n              ) : (\n                <FaSun size={18} className=\"animate-in spin-in-90\" />\n              )}\n            </button>\n\n            {user ? (\n              <div\n                className=\"relative\"\n                onMouseEnter={() => setIsDropdownVisible(true)}\n                onMouseLeave={() => setIsDropdownVisible(false)}\n              >\n                <button className=\"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-800 transition-colors\">\n                  <div className=\"w-8 h-8 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center\">\n                    <FaUser className=\"text-primary-600 dark:text-primary-400\" />\n                  </div>\n                  <span className=\"font-medium text-neutral-900 dark:text-neutral-100\">\n                    {user?.username || \"User\"}\n                  </span>\n                </button>\n\n                {isDropdownVisible && (\n                  <div className=\"absolute right-0 top-full mt-2 w-48 bg-white dark:bg-slate-800 rounded-xl shadow-xl dark:shadow-slate-900/50 p-2 animate-slide-down border border-neutral-200 dark:border-neutral-700\">\n                    <button\n                      onClick={() => navigate(\"/profile\")}\n                      className=\"flex items-center space-x-2 w-full px-4 py-2.5 text-left rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-700 transition-colors text-neutral-700 dark:text-neutral-200\"\n                    >\n                      <FaUser />\n                      <span>Profile</span>\n                    </button>\n                    <button\n                      onClick={handleLogout}\n                      className=\"flex items-center space-x-2 w-full px-4 py-2.5 text-left rounded-lg hover:bg-neutral-100 dark:hover:bg-slate-700 transition-colors text-neutral-700 dark:text-neutral-200\"\n                    >\n                      <FaSignOutAlt />\n                      <span>Log out</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <>\n                <button\n                  onClick={() => navigate(\"/signin\")}\n                  className=\"px-4 py-2 text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-slate-800 font-medium rounded-lg transition-all duration-200 hover:scale-105 border border-transparent hover:border-neutral-300 dark:hover:border-neutral-600\"\n                >\n                  Sign in\n                </button>\n                <button\n                  onClick={() => navigate(\"/signup\")}\n                  className=\"px-4 py-2 bg-gradient-to-r from-primary-600 to-primary-700 hover:from-primary-700 hover:to-primary-800 text-white font-semibold rounded-lg transition-all duration-200 hover:scale-105 hover:shadow-lg shadow-primary-500/30\"\n                >\n                  Get Started\n                </button>\n              </>\n            )}\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button\n            className=\"md:hidden p-2 rounded-xl hover:bg-neutral-100 transition-colors\"\n            onClick={() => setToggle(!toggle)}\n          >\n            {toggle ? <FaTimes size={24} /> : <FaBars size={24} />}\n          </button>\n        </div>\n      </div>\n\n      {/* Mobile Menu */}\n      {toggle && (\n        <div className=\"md:hidden bg-white/95 dark:bg-slate-900/95 backdrop-blur-lg border-t border-neutral-200/50 dark:border-neutral-700/50 animate-slide-down\">\n          <div className=\"section-container py-6 space-y-4\">\n            {/* Mobile Theme Toggle */}\n            <div className=\"flex items-center justify-between px-4 py-2 bg-neutral-100 dark:bg-slate-800 rounded-lg\">\n              <span className=\"text-sm font-medium text-neutral-700 dark:text-neutral-200\">Theme</span>\n              <button \n                onClick={toggleTheme}\n                className=\"p-2 rounded-lg hover:bg-neutral-200 dark:hover:bg-slate-700 transition-all duration-200 text-neutral-600 dark:text-neutral-300\"\n              >\n                {theme === 'light' ? <FaMoon size={16} /> : <FaSun size={16} />}\n              </button>\n            </div>\n\n            <ul className=\"space-y-2\">\n              {sections.map((link) => (\n                <li key={link.id}>\n                  <Link\n                    to={`/${link.id}`}\n                    onClick={() => {\n                      setActive(link.title);\n                      setToggle(false);\n                    }}\n                    className={`\n                      block px-4 py-3 rounded-lg font-medium transition-all\n                      ${\n                        active === link.title\n                          ? \"bg-primary-600 dark:bg-primary-700 text-white\"\n                          : \"text-neutral-700 dark:text-neutral-200 hover:bg-neutral-100 dark:hover:bg-slate-800\"\n                      }\n                    `}\n                  >\n                    {link.title}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n\n            {user ? (\n              <div className=\"space-y-2 pt-4 border-t border-neutral-200 dark:border-neutral-700\">\n                <div className=\"px-4 py-2 text-sm text-neutral-600 dark:text-neutral-400\">\n                  Signed in as <span className=\"font-medium text-neutral-900 dark:text-neutral-100\">{user?.username}</span>\n                </div>\n                <Button\n                  variant=\"outline\"\n                  fullWidth\n                  onClick={() => {\n                    handleLogout();\n                    setToggle(false);\n                  }}\n                  icon={<FaSignOutAlt />}\n                >\n                  Log out\n                </Button>\n              </div>\n            ) : (\n              <div className=\"flex flex-col space-y-2 pt-4 border-t border-neutral-200 dark:border-neutral-700\">\n                <Button\n                  variant=\"ghost\"\n                  fullWidth\n                  onClick={() => {\n                    navigate(\"/signin\");\n                    setToggle(false);\n                  }}\n                >\n                  Sign in\n                </Button>\n                <Button\n                  variant=\"gradient\"\n                  fullWidth\n                  onClick={() => {\n                    navigate(\"/signup\");\n                    setToggle(false);\n                  }}\n                >\n                  Get Started\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </nav>\n  );\n};\n\nexport default NavBar;\n","size_bytes":11157},"eslint.config.js":{"content":"import js from '@eslint/js'\nimport globals from 'globals'\nimport reactHooks from 'eslint-plugin-react-hooks'\nimport reactRefresh from 'eslint-plugin-react-refresh'\n\nexport default [\n  { ignores: ['dist'] },\n  {\n    files: ['**/*.{js,jsx}'],\n    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n      parserOptions: {\n        ecmaVersion: 'latest',\n        ecmaFeatures: { jsx: true },\n        sourceType: 'module',\n      },\n    },\n    plugins: {\n      'react-hooks': reactHooks,\n      'react-refresh': reactRefresh,\n    },\n    rules: {\n      ...js.configs.recommended.rules,\n      ...reactHooks.configs.recommended.rules,\n      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],\n      'react-refresh/only-export-components': [\n        'warn',\n        { allowConstantExport: true },\n      ],\n    },\n  },\n]\n","size_bytes":844},"backend/controllers/transController.js":{"content":"const axios = require('axios').default;\nconst { v4: uuidv4 } = require('uuid');\nconst transConfig = require('../config/trans.config');\n\nlet key = transConfig.key;\nlet endpoint = \"https://api.cognitive.microsofttranslator.com\";\n\nlet location = transConfig.location;\n\nconst translate = async (toLang, text) => {\n    try {\n        const response = await axios({\n            baseURL: endpoint,\n            url: '/translate',\n            method: 'post',\n            headers: {\n                'Ocp-Apim-Subscription-Key': key,\n                'Ocp-Apim-Subscription-Region': location,\n                'Content-type': 'application/json',\n                'X-ClientTraceId': uuidv4().toString()\n            },\n            params: {\n                'api-version': '3.0',\n                'from': '',\n                'to': toLang\n            },\n            data: [{\n                'text': text\n            }],\n            responseType: 'json'\n        });\n\n        console.log(\"Translation response:\", JSON.stringify(response.data, null, 4));\n        return response.data;\n\n    } catch (err) {\n        if (err.response) {\n            console.error(\"API Error:\");\n        } else if (err.request) {\n            console.error(\"No Response from API:\");\n        } else {\n            console.error(\"Request Error:\");\n        }\n        throw err;\n    }\n};\n\nmodule.exports = translate;","size_bytes":1366},"src/components/home/ActivityDashboard.jsx":{"content":"import React, { useState, useEffect } from 'react';\nimport { FaCircle, FaUsers, FaGlobe, FaPlus, FaComments } from 'react-icons/fa';\n\nconst ActivityDashboard = () => {\n  const [activeChats, setActiveChats] = useState(10234);\n  const [activeUsers, setActiveUsers] = useState(10234);\n  const [languages] = useState(143);\n  const [newRooms] = useState(15);\n  const [displayUsers, setDisplayUsers] = useState(0);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setActiveChats((prev) => prev + Math.floor(Math.random() * 21) - 10);\n    }, 5000);\n    return () => clearInterval(interval);\n  }, []);\n\n  useEffect(() => {\n    const duration = 2000;\n    const steps = 60;\n    const increment = activeUsers / steps;\n    let currentStep = 0;\n\n    const counterInterval = setInterval(() => {\n      currentStep++;\n      setDisplayUsers(Math.floor(increment * currentStep));\n      \n      if (currentStep >= steps) {\n        clearInterval(counterInterval);\n        setDisplayUsers(activeUsers);\n      }\n    }, duration / steps);\n\n    return () => clearInterval(counterInterval);\n  }, [activeUsers]);\n\n  const languageCodes = ['EN', 'ES', 'FR', 'DE', 'ZH', 'JA', 'AR', 'PT', 'RU', 'IT', 'KO', 'NL'];\n\n  return (\n    <div className=\"section-container py-16\">\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n        {/* Live Chats Card */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-neutral-200 dark:border-neutral-700 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div className=\"p-3 bg-red-100 dark:bg-red-900/30 rounded-xl\">\n              <FaComments className=\"text-red-600 dark:text-red-400 text-2xl\" />\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <FaCircle className=\"text-red-500 text-xs animate-pulse\" />\n              <span className=\"text-xs font-semibold text-red-600 dark:text-red-400 uppercase\">LIVE</span>\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <h3 className=\"text-3xl font-bold text-neutral-900 dark:text-neutral-100\">\n              {activeChats.toLocaleString()}\n            </h3>\n            <p className=\"text-sm text-neutral-600 dark:text-neutral-400 font-medium\">Chats Active</p>\n          </div>\n        </div>\n\n        {/* Active Users Card */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-neutral-200 dark:border-neutral-700 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div className=\"p-3 bg-primary-100 dark:bg-primary-900/30 rounded-xl\">\n              <FaUsers className=\"text-primary-600 dark:text-primary-400 text-2xl\" />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <h3 className=\"text-3xl font-bold text-neutral-900 dark:text-neutral-100\">\n              {displayUsers.toLocaleString()}\n            </h3>\n            <p className=\"text-sm text-neutral-600 dark:text-neutral-400 font-medium\">Active Users</p>\n          </div>\n          <div className=\"flex -space-x-2 mt-4\">\n            {[1, 2, 3, 4, 5, 6].map((i) => (\n              <div\n                key={i}\n                className=\"w-8 h-8 rounded-full bg-gradient-to-br from-primary-400 to-accent-400 border-2 border-white dark:border-slate-800 flex items-center justify-center text-xs text-white font-semibold\"\n                style={{ animationDelay: `${i * 100}ms` }}\n              >\n                {String.fromCharCode(64 + i)}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Languages Card */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-neutral-200 dark:border-neutral-700 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1 group\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div className=\"p-3 bg-accent-100 dark:bg-accent-900/30 rounded-xl\">\n              <FaGlobe className=\"text-accent-600 dark:text-accent-400 text-2xl\" />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <h3 className=\"text-3xl font-bold text-neutral-900 dark:text-neutral-100\">{languages}</h3>\n            <p className=\"text-sm text-neutral-600 dark:text-neutral-400 font-medium\">Languages</p>\n          </div>\n          <div className=\"flex flex-wrap gap-1.5 mt-4\">\n            {languageCodes.slice(0, 9).map((code, i) => (\n              <span\n                key={i}\n                className=\"px-2 py-1 bg-neutral-100 dark:bg-slate-700 text-neutral-700 dark:text-neutral-300 text-xs font-semibold rounded-md group-hover:bg-accent-100 dark:group-hover:bg-accent-900/30 group-hover:text-accent-700 dark:group-hover:text-accent-300 transition-colors\"\n                style={{ transitionDelay: `${i * 50}ms` }}\n              >\n                {code}\n              </span>\n            ))}\n          </div>\n        </div>\n\n        {/* New Rooms Card */}\n        <div className=\"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-neutral-200 dark:border-neutral-700 shadow-sm hover:shadow-lg transition-all duration-300 hover:-translate-y-1\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div className=\"p-3 bg-success-100 dark:bg-success-900/30 rounded-xl\">\n              <FaPlus className=\"text-success-600 dark:text-success-400 text-2xl\" />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <h3 className=\"text-3xl font-bold text-neutral-900 dark:text-neutral-100\">{newRooms}</h3>\n            <p className=\"text-sm text-neutral-600 dark:text-neutral-400 font-medium\">New Rooms</p>\n          </div>\n          <div className=\"mt-4\">\n            <div className=\"text-xs text-neutral-600 dark:text-neutral-400\">Created in last hour</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ActivityDashboard;\n","size_bytes":6101},"src/context/ThemeContext.jsx":{"content":"import React, { createContext, useContext, useEffect, useState } from 'react';\n\nconst ThemeContext = createContext();\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within a ThemeProvider');\n  }\n  return context;\n};\n\nexport const ThemeProvider = ({ children }) => {\n  const [theme, setTheme] = useState(() => {\n    const savedTheme = localStorage.getItem('theme');\n    return savedTheme || 'light';\n  });\n\n  useEffect(() => {\n    const root = document.documentElement;\n\n    if (theme === 'dark') {\n      root.classList.add('dark');\n    } else {\n      root.classList.remove('dark');\n    }\n\n    localStorage.setItem('theme', theme);\n  }, [theme]);\n\n  // Smooth transition effect\n  useEffect(() => {\n    const root = document.documentElement;\n    root.style.setProperty('--transition-duration', '300ms');\n    root.style.setProperty('--transition-timing', 'cubic-bezier(0.4, 0, 0.2, 1)');\n\n    // Add transition class to html and body for smooth color changes\n    document.documentElement.classList.add('theme-transition');\n    document.body.classList.add('theme-transition');\n\n    const timeout = setTimeout(() => {\n      document.documentElement.classList.remove('theme-transition');\n      document.body.classList.remove('theme-transition');\n    }, 300);\n\n    return () => clearTimeout(timeout);\n  }, [theme]);\n\n  const toggleTheme = () => {\n    setTheme(prevTheme => prevTheme === 'light' ? 'dark' : 'light');\n  };\n\n  return (\n    <div className=\"theme-wrapper\">\n      <ThemeContext.Provider value={{ theme, toggleTheme }}>\n        {children}\n      </ThemeContext.Provider>\n    </div>\n  );\n};\n","size_bytes":1683},"src/components/home/AutoHeroDemo.jsx":{"content":"import React, { useEffect, useState, useRef } from \"react\";\nimport { useTheme } from \"../../context/ThemeContext\";\nimport lightHome from \"../../assets/light home.jpg\";\nimport darkHome from \"../../assets/dark home.png\";\n\n/* ------------------------- \n   RotatingWord (hero headline) \n   ------------------------- */\nconst RotatingWord = ({ words = [\"Welcome\", \"Bienvenue\", \"Hola\", \"Namaste\", \"ã“ã‚“ã«ã¡ã¯\", \"Ù…Ø±Ø­Ø¨Ø§Ù‹\"], interval = 1500 }) => {\n  const [idx, setIdx] = useState(0);\n  useEffect(() => {\n    const t = setInterval(() => setIdx((p) => (p + 1) % words.length), interval);\n    return () => clearInterval(t);\n  }, [words.length, interval]);\n  return (\n    <span className=\"inline-block relative\" aria-hidden>\n      <span\n        key={idx}\n        className=\"block text-4xl md:text-5xl font-extrabold tracking-tight leading-tight transition-transform duration-700 ease-in-out transform-gpu animate-appear\"\n        style={{ WebkitTextStroke: \"0.5px rgba(0,0,0,0.05)\" }}\n      >\n        {words[idx]}\n      </span>\n      <style>{`\n        @keyframes appear {\n          0% { opacity: 0; transform: translateY(10px) scale(.98); }\n          30% { opacity: 1; transform: translateY(0) scale(1.02); }\n          100% { opacity: 1; transform: translateY(0) scale(1); }\n        }\n        .animate-appear { animation: appear .7s ease forwards; }\n        @media (prefers-reduced-motion: reduce) {\n          .animate-appear { animation: none !important; }\n        }\n      `}</style>\n    </span>\n  );\n};\n\n/* ------------------------- \n   AutoPhraseCloud\n   - cycles automatically through phrases\n   - shows translation card\n   - attempts audio playback using SpeechSynthesis (may be blocked by browser autoplay policies)\n   ------------------------- */\nconst defaultPhrases = [\n  { id: 1, text: \"Hello, how are you?\", lang: \"EN\", translation: \"Bonjour, comment Ã§a va?\", tLang: \"FR\" },\n  { id: 2, text: \"Where is the train station?\", lang: \"EN\", translation: \"Â¿DÃ³nde estÃ¡ la estaciÃ³n de tren?\", tLang: \"ES\" },\n  { id: 3, text: \"Thank you very much\", lang: \"EN\", translation: \"ã©ã†ã‚‚ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™\", tLang: \"JA\" },\n  { id: 4, text: \"Good morning\", lang: \"EN\", translation: \"à¤¸à¥à¤ªà¥à¤°à¤­à¤¾à¤¤\", tLang: \"HI\" },\n  { id: 5, text: \"Can you help me?\", lang: \"EN\", translation: \"Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø³Ø§Ø¹Ø¯ØªÙŠØŸ\", tLang: \"AR\" },\n  { id: 6, text: \"I love this city\", lang: \"EN\", translation: \"J'adore cette ville\", tLang: \"FR\" },\n];\n\nconst AutoPhraseCloud = ({ phrases = defaultPhrases, autoInterval = 2400, playAudio = true }) => {\n  const [index, setIndex] = useState(0);\n  const [isAudioAllowed, setIsAudioAllowed] = useState(true);\n  const busyRef = useRef(false); // prevents overlapping play calls\n\n  useEffect(() => {\n    // Cycle phrases automatically\n    const id = setInterval(() => setIndex((p) => (p + 1) % phrases.length), autoInterval);\n    return () => clearInterval(id);\n  }, [phrases.length, autoInterval]);\n\n  useEffect(() => {\n    // Attempt to play audio when index changes (if requested)\n    if (!playAudio) return;\n    const p = phrases[index];\n    if (!p) return;\n    if (!(\"speechSynthesis\" in window)) {\n      setIsAudioAllowed(false);\n      return;\n    }\n\n    // Don't spam multiple calls if previous still running\n    if (busyRef.current) return;\n\n    try {\n      busyRef.current = true;\n      // Create utterance for translated text\n      const utter = new SpeechSynthesisUtterance(p.translation || p.text);\n      // Try set language: use tLang if available, else fallback to 'en'\n      const langHint = (p.tLang || p.lang || \"en\").toLowerCase();\n      // Basic mapping for some common two-letter codes -> BCP47s (best effort)\n      const mapping = {\n        en: \"en-US\", fr: \"fr-FR\", es: \"es-ES\", ja: \"ja-JP\", hi: \"hi-IN\", ar: \"ar-SA\",\n      };\n      utter.lang = mapping[langHint] || langHint;\n\n      // Slight rate & pitch adjustments to sound natural\n      utter.rate = 0.95;\n      utter.pitch = 1.0;\n\n      // Try to pick a matching voice if available (best-effort)\n      const trySetVoice = () => {\n        const voices = speechSynthesis.getVoices();\n        if (voices && voices.length) {\n          const v = voices.find((v) => v.lang && v.lang.toLowerCase().startsWith((utter.lang || \"\").slice(0,2)));\n          if (v) utter.voice = v;\n        }\n      };\n\n      // Some browsers populate voices asynchronously\n      trySetVoice();\n      if (!utter.voice) {\n        // wait shortly and re-attempt\n        setTimeout(trySetVoice, 120);\n      }\n\n      // attempt to speak; browsers may block autoplay audio until first gesture.\n      speechSynthesis.cancel(); // stop any previous\n      speechSynthesis.speak(utter);\n\n      // set flag to false after small delay\n      setTimeout(() => (busyRef.current = false), 600);\n    } catch {\n      busyRef.current = false;\n      setIsAudioAllowed(false);\n    }\n  }, [index, phrases, playAudio]);\n\n  // Current phrase to display\n  const currentPhrase = phrases[index];\n\n  return (\n    <div className=\"w-full max-w-3xl mx-auto\">\n      {/* Translation Card */}\n      <div \n        className=\"relative bg-gray-900/60 backdrop-blur-sm rounded-xl p-6 shadow-lg transition-all duration-500 transform-gpu\"\n        style={{\n          borderLeft: \"3px solid #6366F1\",\n          borderRight: \"3px solid #8B5CF6\",\n          boxShadow: \"0 8px 32px rgba(0, 0, 0, 0.2), 0 0 8px rgba(99, 102, 241, 0.3), 0 0 8px rgba(139, 92, 246, 0.3)\"\n        }}\n      >\n        <div className=\"flex flex-col space-y-4 animate-fadeSlide\">\n          {/* Source phrase */}\n          <div className=\"flex items-start\">\n            <div className=\"bg-gray-800 text-xs font-bold px-2 py-1 rounded mr-2 text-primary-300\">\n              {currentPhrase.lang}\n            </div>\n            <p className=\"text-white text-lg font-medium\">{currentPhrase.text}</p>\n          </div>\n          \n          {/* Translation with arrow indicator */}\n          <div className=\"pl-6 relative\">\n            <div className=\"absolute left-0 top-2 h-6 w-4 text-primary-300\">\n              <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M10 3a.75.75 0 01.75.75v10.638l3.96-4.158a.75.75 0 111.08 1.04l-5.25 5.5a.75.75 0 01-1.08 0l-5.25-5.5a.75.75 0 111.08-1.04l3.96 4.158V3.75A.75.75 0 0110 3z\" clipRule=\"evenodd\" />\n              </svg>\n            </div>\n            <div className=\"flex items-start\">\n              <div className=\"bg-primary-600 text-xs font-bold px-2 py-1 rounded mr-2 text-white\">\n                {currentPhrase.tLang}\n              </div>\n              <p className=\"text-primary-300 text-lg font-medium\" dir={currentPhrase.tLang === \"AR\" ? \"rtl\" : \"ltr\"}>\n                {currentPhrase.translation}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Audio status indicator (subtle) */}\n        {playAudio && (\n          <div className=\"absolute bottom-2 right-2 flex items-center\">\n            <div className={`w-2 h-2 rounded-full mr-1 ${isAudioAllowed ? 'bg-primary-400' : 'bg-gray-500'}`}></div>\n            <span className=\"text-xs text-gray-400\">audio</span>\n          </div>\n        )}\n      </div>\n\n      {/* Demo CTA */}\n      <div className=\"mt-4 text-center\">\n        <button \n          className=\"inline-flex items-center px-4 py-2 rounded-full bg-primary-600 hover:bg-primary-700 text-white font-medium transition-colors shadow-md hover:shadow-lg\"\n          onClick={() => setIndex((index + 1) % phrases.length)}\n        >\n          <span>Watch Demo</span>\n          <svg className=\"ml-2 w-4 h-4\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path d=\"M6.3 2.841A1.5 1.5 0 004 4.11V15.89a1.5 1.5 0 002.3 1.269l9.344-5.89a1.5 1.5 0 000-2.538L6.3 2.84z\" />\n          </svg>\n        </button>\n      </div>\n\n      {/* Animation styles */}\n      <style>{`\n        @keyframes fadeSlide {\n          0% { opacity: 0; transform: translateY(10px); }\n          100% { opacity: 1; transform: translateY(0); }\n        }\n        .animate-fadeSlide {\n          animation: fadeSlide 0.5s ease-out forwards;\n        }\n        @media (prefers-reduced-motion: reduce) {\n          .animate-fadeSlide { animation: none !important; }\n        }\n      `}</style>\n    </div>\n  );\n};\n\n/* -------------------------\n   Main Hero Component\n   ------------------------- */\nconst AutoHeroDemo = () => {\n  const { theme } = useTheme();\n\n  return (\n    <section className=\"relative overflow-hidden bg-gray-900 text-white py-16 md:py-24\">\n      {/* Background image based on theme */}\n      <div\n        className=\"absolute inset-0 bg-cover bg-center bg-no-repeat transition-all duration-300\"\n        style={{\n          backgroundImage: `url(${theme === 'dark' ? darkHome : lightHome})`,\n        }}\n      ></div>\n      {/* Background gradient effect - very dark overlay for light theme to heavily dim image */}\n      <div className={`absolute inset-0 ${theme === 'dark' ? 'bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 opacity-90' : 'bg-gradient-to-br from-black/80 via-gray-900/70 to-black/80 opacity-98'}`}></div>\n\n      \n      {/* Accent color blobs (positioned absolutely) */}\n      <div className=\"absolute top-0 left-1/4 w-64 h-64 bg-primary-500/10 rounded-full filter blur-3xl\"></div>\n      <div className=\"absolute bottom-0 right-1/4 w-80 h-80 bg-accent-500/10 rounded-full filter blur-3xl\"></div>\n      \n      <div className=\"relative container mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-4xl mx-auto text-center mb-12\">\n          {/* Hero headline with rotating welcome word */}\n          <h1 className=\"text-3xl md:text-5xl font-bold mb-6\">\n            <RotatingWord /> to Translation\n          </h1>\n\n          {/* Main tagline */}\n          <h2 className=\"text-2xl md:text-4xl font-bold mb-6 bg-gradient-to-r from-primary-400 to-accent-400 bg-clip-text text-transparent\">\n            Break Language Barriers â€” Connect Globally with AI\n          </h2>\n          \n          {/* Auto-demo phrase cloud */}\n          <AutoPhraseCloud />\n          \n          {/* Main CTA buttons */}\n          <div className=\"mt-10 flex flex-col sm:flex-row justify-center gap-4\">\n            <a \n              href=\"#get-started\" \n              className=\"px-8 py-3 rounded-lg bg-primary-600 hover:bg-primary-700 text-white font-bold text-lg transition-colors shadow-lg hover:shadow-xl\"\n            >\n              Get Started Free\n            </a>\n            <a \n              href=\"#learn-more\" \n              className=\"px-8 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 text-white font-bold text-lg transition-colors border border-primary-400/30 hover:border-primary-400/60\"\n            >\n              Learn More\n            </a>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default AutoHeroDemo;\n","size_bytes":10850},"src/components/common/CustomCursor.jsx":{"content":"import React, { useEffect, useState } from 'react';\nimport { motion } from 'framer-motion';\n\nconst CustomCursor = () => {\n  const [mousePosition, setMousePosition] = useState({ x: 0, y: 0 });\n  const [isHovering, setIsHovering] = useState(false);\n\n  useEffect(() => {\n    const handleMouseMove = (e) => {\n      setMousePosition({ x: e.clientX, y: e.clientY });\n    };\n\n    const handleMouseOver = (e) => {\n      if (\n        e.target.tagName === 'BUTTON' ||\n        e.target.tagName === 'A' ||\n        e.target.closest('button') ||\n        e.target.closest('a') ||\n        e.target.classList.contains('cursor-pointer')\n      ) {\n        setIsHovering(true);\n      } else {\n        setIsHovering(false);\n      }\n    };\n\n    window.addEventListener('mousemove', handleMouseMove);\n    window.addEventListener('mouseover', handleMouseOver);\n\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseover', handleMouseOver);\n    };\n  }, []);\n\n  return (\n    <>\n      <motion.div\n        className=\"fixed top-0 left-0 w-8 h-8 pointer-events-none z-[9999] mix-blend-difference hidden md:block\"\n        animate={{\n          x: mousePosition.x - 16,\n          y: mousePosition.y - 16,\n          scale: isHovering ? 1.5 : 1,\n        }}\n        transition={{\n          type: 'spring',\n          stiffness: 500,\n          damping: 28,\n          mass: 0.5,\n        }}\n      >\n        <div className=\"w-full h-full rounded-full border-2 border-white bg-primary-500/30 backdrop-blur-sm\" />\n      </motion.div>\n\n      <motion.div\n        className=\"fixed top-0 left-0 w-2 h-2 pointer-events-none z-[9999] mix-blend-difference hidden md:block\"\n        animate={{\n          x: mousePosition.x - 4,\n          y: mousePosition.y - 4,\n          scale: isHovering ? 0.5 : 1,\n        }}\n        transition={{\n          type: 'spring',\n          stiffness: 800,\n          damping: 35,\n        }}\n      >\n        <div className=\"w-full h-full rounded-full bg-white\" />\n      </motion.div>\n    </>\n  );\n};\n\nexport default CustomCursor;\n","size_bytes":2075},"src/pages/Profile.jsx":{"content":"import React, { useState, useRef, useEffect } from 'react';\nimport { useAuth } from '../context/authContext';\nimport { useNavigate } from 'react-router-dom';\nimport { FaArrowLeft, FaCamera, FaLinkedin, FaGithub, FaTwitter, FaGlobe, FaEdit, FaSave, FaTimes } from 'react-icons/fa';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { toast } from 'react-toastify';\n\nconst Profile = () => {\n  const { user, updateUser } = useAuth();\n  const navigate = useNavigate();\n  const fileInputRef = useRef(null);\n  \n  const [isEditing, setIsEditing] = useState(false);\n  const [profileData, setProfileData] = useState({\n    displayName: user?.given_name || '',\n    username: user?.email?.split('@')[0] || '',\n    bio: user?.bio || '',\n    status: user?.status || 'Available',\n    linkedin: user?.linkedin || '',\n    github: user?.github || '',\n    twitter: user?.twitter || '',\n    website: user?.website || '',\n  });\n  \n  const [profileImage, setProfileImage] = useState(user?.profile_picture || null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [charCount, setCharCount] = useState(profileData.bio.length);\n  const maxBioLength = 200;\n\n  useEffect(() => {\n    if (user) {\n      setProfileData({\n        displayName: user.given_name || '',\n        username: user.email?.split('@')[0] || '',\n        bio: user.bio || '',\n        status: user.status || 'Available',\n        linkedin: user.linkedin || '',\n        github: user.github || '',\n        twitter: user.twitter || '',\n        website: user.website || '',\n      });\n      setProfileImage(user.profile_picture);\n    }\n  }, [user]);\n\n  const handleImageUpload = (file) => {\n    if (file && file.type.startsWith('image/')) {\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n        setProfileImage(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    handleImageUpload(file);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = () => {\n    setIsDragging(false);\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    setIsDragging(false);\n    const file = e.dataTransfer.files[0];\n    handleImageUpload(file);\n  };\n\n  const handleInputChange = (field, value) => {\n    if (field === 'bio') {\n      if (value.length <= maxBioLength) {\n        setProfileData({ ...profileData, [field]: value });\n        setCharCount(value.length);\n      }\n    } else {\n      setProfileData({ ...profileData, [field]: value });\n    }\n  };\n\n  const handleSave = async () => {\n    const updatedData = {\n      given_name: profileData.displayName,\n      bio: profileData.bio,\n      status: profileData.status,\n      linkedin: profileData.linkedin,\n      github: profileData.github,\n      twitter: profileData.twitter,\n      website: profileData.website,\n      profile_picture: profileImage,\n    };\n    \n    if (updateUser) {\n      const result = await updateUser(updatedData);\n      if (result.success) {\n        setIsEditing(false);\n        setImagePreview(null);\n        toast.success('Profile updated successfully!');\n      } else {\n        toast.error('Failed to save profile changes. Please try again.');\n      }\n    } else {\n      setIsEditing(false);\n    }\n  };\n\n  const handleCancel = () => {\n    setIsEditing(false);\n    setProfileData({\n      displayName: user?.given_name || '',\n      username: user?.email?.split('@')[0] || '',\n      bio: user?.bio || '',\n      status: user?.status || 'Available',\n      linkedin: user?.linkedin || '',\n      github: user?.github || '',\n      twitter: user?.twitter || '',\n      website: user?.website || '',\n    });\n    setProfileImage(user?.profile_picture);\n    setImagePreview(null);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-neutral-50 via-primary-50/30 to-neutral-100 dark:from-neutral-950 dark:via-primary-950/20 dark:to-neutral-900 transition-all duration-500\">\n      <div className=\"section-container py-8\">\n        <motion.button\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          onClick={() => navigate(-1)}\n          className=\"flex items-center gap-2 mb-6 px-4 py-2 bg-white/80 dark:bg-neutral-800/80 backdrop-blur-md text-primary-600 dark:text-primary-400 rounded-xl hover:bg-primary-50 dark:hover:bg-primary-900/30 transition-all duration-300 shadow-sm hover:shadow-md group\"\n        >\n          <FaArrowLeft className=\"group-hover:-translate-x-1 transition-transform duration-300\" />\n          <span className=\"font-semibold\">Back</span>\n        </motion.button>\n\n        <motion.div\n          initial={{ opacity: 0, y: 20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1 }}\n          className=\"max-w-4xl mx-auto\"\n        >\n          <motion.div\n            whileHover={{ scale: 1.01, y: -5 }}\n            transition={{ type: \"spring\", stiffness: 300 }}\n            className=\"bg-white/80 dark:bg-neutral-800/80 backdrop-blur-xl rounded-3xl shadow-large p-8 border border-neutral-200/50 dark:border-neutral-700/50 relative overflow-hidden\"\n          >\n            <div className=\"absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-primary-500/10 to-secondary-500/10 rounded-full blur-3xl -z-10\" />\n            <div className=\"absolute bottom-0 left-0 w-96 h-96 bg-gradient-to-tr from-accent-500/10 to-primary-500/10 rounded-full blur-3xl -z-10\" />\n\n            <div className=\"flex justify-between items-start mb-8\">\n              <h1 className=\"text-4xl font-bold text-neutral-900 dark:text-neutral-50\">\n                My Profile\n              </h1>\n              <motion.button\n                whileHover={{ scale: 1.05 }}\n                whileTap={{ scale: 0.95 }}\n                onClick={() => setIsEditing(!isEditing)}\n                className={`px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-sm hover:shadow-md flex items-center gap-2 ${\n                  isEditing\n                    ? 'bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300'\n                    : 'bg-primary-600 text-white hover:bg-primary-700'\n                }`}\n              >\n                {isEditing ? (\n                  <>\n                    <FaTimes /> Cancel\n                  </>\n                ) : (\n                  <>\n                    <FaEdit /> Edit Profile\n                  </>\n                )}\n              </motion.button>\n            </div>\n\n            <div className=\"grid md:grid-cols-3 gap-8\">\n              <div className=\"md:col-span-1\">\n                <div className=\"sticky top-8\">\n                  <div\n                    onDragOver={handleDragOver}\n                    onDragLeave={handleDragLeave}\n                    onDrop={handleDrop}\n                    className={`relative group ${isEditing ? 'cursor-pointer' : ''}`}\n                  >\n                    <motion.div\n                      whileHover={isEditing ? { scale: 1.05 } : {}}\n                      className=\"relative w-48 h-48 mx-auto\"\n                    >\n                      <img\n                        src={imagePreview || profileImage || 'https://via.placeholder.com/200x200.png'}\n                        alt=\"Profile\"\n                        className=\"w-full h-full rounded-full object-cover border-4 border-primary-500/50 shadow-large\"\n                      />\n                      {isEditing && (\n                        <motion.div\n                          initial={{ opacity: 0 }}\n                          animate={{ opacity: 1 }}\n                          className={`absolute inset-0 rounded-full flex items-center justify-center bg-black/50 transition-all duration-300 ${\n                            isDragging ? 'bg-primary-600/70' : 'group-hover:bg-black/60'\n                          }`}\n                          onClick={() => fileInputRef.current?.click()}\n                        >\n                          <FaCamera className=\"text-white text-3xl\" />\n                        </motion.div>\n                      )}\n                    </motion.div>\n                    <input\n                      ref={fileInputRef}\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={handleFileSelect}\n                      className=\"hidden\"\n                    />\n                  </div>\n                  {isEditing && (\n                    <motion.p\n                      initial={{ opacity: 0 }}\n                      animate={{ opacity: 1 }}\n                      className=\"text-center text-sm text-neutral-500 dark:text-neutral-400 mt-4\"\n                    >\n                      Click or drag & drop to upload\n                    </motion.p>\n                  )}\n\n                  <div className=\"mt-6 space-y-3\">\n                    <div className=\"flex items-center justify-center gap-2 px-4 py-2 bg-primary-50 dark:bg-primary-900/30 rounded-xl\">\n                      <div className=\"w-2 h-2 bg-success-500 rounded-full animate-pulse\" />\n                      <span className=\"text-sm font-semibold text-primary-700 dark:text-primary-300\">\n                        {isEditing ? (\n                          <input\n                            type=\"text\"\n                            value={profileData.status}\n                            onChange={(e) => handleInputChange('status', e.target.value)}\n                            className=\"bg-transparent border-b border-primary-400 outline-none w-full text-center\"\n                          />\n                        ) : (\n                          profileData.status\n                        )}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"md:col-span-2 space-y-6\">\n                <div>\n                  <label className=\"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2\">\n                    Display Name\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      value={profileData.displayName}\n                      onChange={(e) => handleInputChange('displayName', e.target.value)}\n                      className=\"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 text-neutral-900 dark:text-neutral-100\"\n                    />\n                  ) : (\n                    <p className=\"text-lg font-medium text-neutral-900 dark:text-neutral-100\">\n                      {profileData.displayName}\n                    </p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-semibold text-neutral-700 dark:text-neutral-300 mb-2\">\n                    Username\n                  </label>\n                  {isEditing ? (\n                    <input\n                      type=\"text\"\n                      value={profileData.username}\n                      onChange={(e) => handleInputChange('username', e.target.value)}\n                      className=\"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 text-neutral-900 dark:text-neutral-100\"\n                    />\n                  ) : (\n                    <p className=\"text-lg font-medium text-neutral-900 dark:text-neutral-100\">\n                      @{profileData.username}\n                    </p>\n                  )}\n                </div>\n\n                <div>\n                  <div className=\"flex justify-between items-center mb-2\">\n                    <label className=\"block text-sm font-semibold text-neutral-700 dark:text-neutral-300\">\n                      Bio\n                    </label>\n                    {isEditing && (\n                      <span className={`text-sm ${charCount > maxBioLength * 0.9 ? 'text-error-500' : 'text-neutral-500 dark:text-neutral-400'}`}>\n                        {charCount}/{maxBioLength}\n                      </span>\n                    )}\n                  </div>\n                  {isEditing ? (\n                    <textarea\n                      value={profileData.bio}\n                      onChange={(e) => handleInputChange('bio', e.target.value)}\n                      rows=\"4\"\n                      className=\"w-full px-4 py-3 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-xl focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 resize-none text-neutral-900 dark:text-neutral-100\"\n                      placeholder=\"Tell us about yourself...\"\n                    />\n                  ) : (\n                    <p className=\"text-neutral-700 dark:text-neutral-300 leading-relaxed\">\n                      {profileData.bio || 'No bio added yet.'}\n                    </p>\n                  )}\n                </div>\n\n                <div className=\"border-t border-neutral-200 dark:border-neutral-700 pt-6\">\n                  <h3 className=\"text-lg font-bold text-neutral-900 dark:text-neutral-100 mb-4\">\n                    Social Links\n                  </h3>\n                  <div className=\"space-y-4\">\n                    {[\n                      { icon: FaLinkedin, field: 'linkedin', label: 'LinkedIn', color: 'text-blue-600' },\n                      { icon: FaGithub, field: 'github', label: 'GitHub', color: 'text-neutral-800 dark:text-neutral-200' },\n                      { icon: FaTwitter, field: 'twitter', label: 'Twitter', color: 'text-sky-500' },\n                      { icon: FaGlobe, field: 'website', label: 'Website', color: 'text-primary-600' },\n                    ].map(({ icon: Icon, field, label, color }) => (\n                      <div key={field} className=\"flex items-center gap-3\">\n                        <Icon className={`text-xl ${color}`} />\n                        {isEditing ? (\n                          <input\n                            type=\"text\"\n                            value={profileData[field]}\n                            onChange={(e) => handleInputChange(field, e.target.value)}\n                            placeholder={`Your ${label} URL`}\n                            className=\"flex-1 px-4 py-2 bg-neutral-50 dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-lg focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all duration-200 text-neutral-900 dark:text-neutral-100\"\n                          />\n                        ) : (\n                          <span className=\"text-neutral-700 dark:text-neutral-300\">\n                            {profileData[field] || `No ${label} added`}\n                          </span>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </div>\n\n                {isEditing && (\n                  <motion.div\n                    initial={{ opacity: 0, y: 20 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    className=\"flex gap-4 pt-4\"\n                  >\n                    <motion.button\n                      whileHover={{ scale: 1.02 }}\n                      whileTap={{ scale: 0.98 }}\n                      onClick={handleSave}\n                      className=\"flex-1 px-6 py-3 bg-primary-600 text-white rounded-xl font-semibold hover:bg-primary-700 transition-all duration-300 shadow-sm hover:shadow-md flex items-center justify-center gap-2\"\n                    >\n                      <FaSave /> Save Changes\n                    </motion.button>\n                    <motion.button\n                      whileHover={{ scale: 1.02 }}\n                      whileTap={{ scale: 0.98 }}\n                      onClick={handleCancel}\n                      className=\"px-6 py-3 bg-neutral-200 dark:bg-neutral-700 text-neutral-700 dark:text-neutral-300 rounded-xl font-semibold hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-all duration-300 shadow-sm\"\n                    >\n                      Cancel\n                    </motion.button>\n                  </motion.div>\n                )}\n              </div>\n            </div>\n          </motion.div>\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n","size_bytes":16656},"src/components/ui/ThemeAwareComponents.jsx":{"content":"import React from 'react';\nimport { useTheme } from '../../context/ThemeContext';\nimport { FaMoon, FaSun } from 'react-icons/fa';\n\nexport const Button = ({ \n  children, \n  variant = 'primary', \n  size = 'md',\n  className = '', \n  disabled = false,\n  ...props \n}) => {\n  const baseClasses = 'font-semibold font-[\"Montserrat\"] transition-all duration-200 active:scale-[0.98] focus:outline-none';\n  \n  const variantClasses = {\n    primary: 'btn-primary',\n    secondary: 'btn-secondary',\n    ghost: 'btn-ghost',\n    icon: 'btn-icon',\n  };\n  \n  const sizeClasses = {\n    sm: 'px-4 py-2 text-sm',\n    md: 'px-6 py-3 text-base',\n    lg: 'px-8 py-4 text-lg',\n  };\n  \n  const disabledClasses = disabled ? 'opacity-50 cursor-not-allowed pointer-events-none' : '';\n  \n  return (\n    <button\n      className={`${baseClasses} ${variantClasses[variant]} ${variant !== 'icon' ? sizeClasses[size] : ''} ${disabledClasses} ${className}`}\n      disabled={disabled}\n      {...props}\n    >\n      {children}\n    </button>\n  );\n};\n\nexport const IconButton = ({ \n  icon, \n  onClick, \n  className = '',\n  ariaLabel,\n  ...props \n}) => {\n  return (\n    <button\n      onClick={onClick}\n      className={`btn-icon ${className}`}\n      aria-label={ariaLabel}\n      {...props}\n    >\n      {icon}\n    </button>\n  );\n};\n\nexport const Input = ({ \n  type = 'text',\n  placeholder,\n  value,\n  onChange,\n  className = '',\n  variant = 'modern',\n  ...props \n}) => {\n  const variantClasses = {\n    modern: 'input-modern',\n    search: 'input-search',\n  };\n  \n  return (\n    <input\n      type={type}\n      placeholder={placeholder}\n      value={value}\n      onChange={onChange}\n      className={`${variantClasses[variant]} ${className}`}\n      {...props}\n    />\n  );\n};\n\nexport const TextArea = ({\n  placeholder,\n  value,\n  onChange,\n  rows = 3,\n  className = '',\n  ...props\n}) => {\n  return (\n    <textarea\n      placeholder={placeholder}\n      value={value}\n      onChange={onChange}\n      rows={rows}\n      className={`input-modern resize-none ${className}`}\n      {...props}\n    />\n  );\n};\n\nexport const Badge = ({ \n  children, \n  variant = 'default',\n  className = '',\n  ...props \n}) => {\n  const variantClasses = {\n    default: 'badge bg-brand-grey-200 dark:bg-brand-grey-600 text-brand-grey-dark dark:text-brand-white',\n    unread: 'badge-unread',\n    admin: 'badge-admin',\n    success: 'badge bg-success/20 text-success',\n    warning: 'badge bg-warning/20 text-warning',\n    error: 'badge bg-error/20 text-error',\n  };\n  \n  return (\n    <span className={`${variantClasses[variant]} ${className}`} {...props}>\n      {children}\n    </span>\n  );\n};\n\nexport const Card = ({ \n  children, \n  className = '',\n  hoverable = false,\n  ...props \n}) => {\n  const hoverClass = hoverable ? 'hover:shadow-medium transform hover:-translate-y-1' : '';\n  \n  return (\n    <div className={`card-modern ${hoverClass} ${className}`} {...props}>\n      {children}\n    </div>\n  );\n};\n\nexport const ThemeToggle = ({ className = '' }) => {\n  const { theme, toggleTheme } = useTheme();\n  \n  return (\n    <button\n      onClick={toggleTheme}\n      className={`btn-icon ${className}`}\n      aria-label={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\n      title={`Switch to ${theme === 'light' ? 'dark' : 'light'} mode`}\n    >\n      {theme === 'light' ? (\n        <FaMoon className=\"text-brand-grey-dark text-lg\" />\n      ) : (\n        <FaSun className=\"text-brand-yellow text-lg\" />\n      )}\n    </button>\n  );\n};\n\nexport const LoadingSpinner = ({ size = 'md', className = '' }) => {\n  const sizeClasses = {\n    sm: 'h-4 w-4',\n    md: 'h-8 w-8',\n    lg: 'h-12 w-12',\n  };\n  \n  return (\n    <div className={`animate-spin rounded-full border-2 border-brand-grey-200 dark:border-brand-grey-600 border-t-brand-yellow ${sizeClasses[size]} ${className}`} />\n  );\n};\n\nexport const LoadingSkeleton = ({ className = '', variant = 'default' }) => {\n  const variantClasses = {\n    default: 'h-4 w-full rounded',\n    circle: 'h-12 w-12 rounded-full',\n    text: 'h-4 w-3/4 rounded',\n    title: 'h-6 w-1/2 rounded',\n  };\n  \n  return (\n    <div className={`animate-pulse bg-brand-grey-200 dark:bg-brand-grey-600 ${variantClasses[variant]} ${className}`} />\n  );\n};\n\nexport const Avatar = ({ \n  src, \n  alt = 'Avatar', \n  size = 'md',\n  fallback,\n  className = '',\n  ...props \n}) => {\n  const sizeClasses = {\n    sm: 'h-8 w-8 text-xs',\n    md: 'h-10 w-10 text-sm',\n    lg: 'h-12 w-12 text-base',\n    xl: 'h-16 w-16 text-lg',\n  };\n  \n  const [imageError, setImageError] = React.useState(false);\n  \n  if (!src || imageError) {\n    return (\n      <div \n        className={`${sizeClasses[size]} rounded-full bg-brand-yellow dark:bg-brand-yellow-light flex items-center justify-center font-semibold text-brand-grey-dark ${className}`}\n        {...props}\n      >\n        {fallback || alt?.charAt(0)?.toUpperCase() || '?'}\n      </div>\n    );\n  }\n  \n  return (\n    <img\n      src={src}\n      alt={alt}\n      onError={() => setImageError(true)}\n      className={`${sizeClasses[size]} rounded-full object-cover ${className}`}\n      {...props}\n    />\n  );\n};\n\nexport const Tooltip = ({ children, content, position = 'top' }) => {\n  const [isVisible, setIsVisible] = React.useState(false);\n  \n  const positionClasses = {\n    top: 'bottom-full left-1/2 -translate-x-1/2 mb-2',\n    bottom: 'top-full left-1/2 -translate-x-1/2 mt-2',\n    left: 'right-full top-1/2 -translate-y-1/2 mr-2',\n    right: 'left-full top-1/2 -translate-y-1/2 ml-2',\n  };\n  \n  return (\n    <div \n      className=\"relative inline-block\"\n      onMouseEnter={() => setIsVisible(true)}\n      onMouseLeave={() => setIsVisible(false)}\n    >\n      {children}\n      {isVisible && content && (\n        <div className={`absolute ${positionClasses[position]} z-50 px-3 py-2 text-sm text-brand-white bg-brand-grey-dark dark:bg-brand-white dark:text-brand-grey-dark rounded-lg whitespace-nowrap shadow-lg animate-fade-in`}>\n          {content}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport const Modal = ({ isOpen, onClose, title, children, className = '' }) => {\n  React.useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    \n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n  \n  if (!isOpen) return null;\n  \n  return (\n    <div \n      className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 animate-fade-in\"\n      onClick={onClose}\n    >\n      <div \n        className={`bg-brand-white dark:bg-brand-grey-medium rounded-2xl w-full max-w-md shadow-large animate-scale-in ${className}`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {title && (\n          <div className=\"px-6 py-4 border-b border-brand-grey-200 dark:border-brand-grey-light\">\n            <h2 className=\"text-xl font-bold text-brand-grey-dark dark:text-brand-white font-['Montserrat']\">\n              {title}\n            </h2>\n          </div>\n        )}\n        <div className=\"p-6\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport const Divider = ({ className = '' }) => {\n  return (\n    <hr className={`border-brand-grey-200 dark:border-brand-grey-light ${className}`} />\n  );\n};\n\nexport const Toast = ({ message, type = 'info', isVisible, onClose }) => {\n  const typeClasses = {\n    success: 'bg-success text-white',\n    error: 'bg-error text-white',\n    warning: 'bg-warning text-brand-grey-dark',\n    info: 'bg-brand-yellow text-brand-grey-dark',\n  };\n  \n  React.useEffect(() => {\n    if (isVisible) {\n      const timer = setTimeout(onClose, 5000);\n      return () => clearTimeout(timer);\n    }\n  }, [isVisible, onClose]);\n  \n  if (!isVisible) return null;\n  \n  return (\n    <div className={`fixed bottom-4 right-4 px-6 py-4 rounded-2xl shadow-large ${typeClasses[type]} animate-slide-up z-50`}>\n      <p className=\"font-['Inter'] font-medium\">{message}</p>\n    </div>\n  );\n};\n\nexport const DateSeparator = ({ date }) => {\n  return (\n    <div className=\"flex items-center justify-center my-4\">\n      <div className=\"flex-1 border-t border-brand-grey-200 dark:border-brand-grey-light\"></div>\n      <span className=\"px-4 text-xs font-medium text-brand-grey-500 dark:text-brand-grey-300 font-['Inter']\">\n        {date}\n      </span>\n      <div className=\"flex-1 border-t border-brand-grey-200 dark:border-brand-grey-light\"></div>\n    </div>\n  );\n};\n\nexport const TypingIndicator = () => {\n  return (\n    <div className=\"flex items-center space-x-1 p-3 bg-brand-white dark:bg-brand-grey-light rounded-2xl rounded-bl-sm shadow-sm w-16\">\n      <div className=\"h-2 w-2 bg-brand-grey-500 rounded-full animate-bounce\" style={{ animationDelay: '0ms' }}></div>\n      <div className=\"h-2 w-2 bg-brand-grey-500 rounded-full animate-bounce\" style={{ animationDelay: '150ms' }}></div>\n      <div className=\"h-2 w-2 bg-brand-grey-500 rounded-full animate-bounce\" style={{ animationDelay: '300ms' }}></div>\n    </div>\n  );\n};\n","size_bytes":8967}},"version":2}