{"file_contents":{"src/index.css":{"content":"@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');\n\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  * {\n    @apply border-neutral-200;\n  }\n  \n  body {\n    @apply bg-neutral-50 text-neutral-900 antialiased;\n  }\n  \n  html {\n    scroll-behavior: smooth;\n  }\n}\n\n@layer components {\n  .glass {\n    @apply bg-white/70 backdrop-blur-xl border border-white/20;\n  }\n  \n  .glass-dark {\n    @apply bg-neutral-900/70 backdrop-blur-xl border border-neutral-800/20;\n  }\n  \n  .gradient-primary {\n    @apply bg-gradient-to-r from-primary-500 to-primary-600;\n  }\n  \n  .gradient-accent {\n    @apply bg-gradient-to-r from-accent-500 to-accent-600;\n  }\n  \n  .gradient-mesh {\n    background: radial-gradient(at 0% 0%, rgba(14, 165, 233, 0.15) 0px, transparent 50%),\n                radial-gradient(at 80% 20%, rgba(217, 70, 239, 0.15) 0px, transparent 50%),\n                radial-gradient(at 100% 100%, rgba(14, 165, 233, 0.1) 0px, transparent 50%);\n  }\n  \n  .text-gradient {\n    @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-accent-600;\n  }\n  \n  .btn-primary {\n    @apply px-6 py-3 bg-primary-600 text-white rounded-xl font-medium\n           hover:bg-primary-700 active:scale-[0.98]\n           transition-all duration-200 shadow-soft hover:shadow-medium;\n  }\n  \n  .btn-secondary {\n    @apply px-6 py-3 bg-neutral-900 text-white rounded-xl font-medium\n           hover:bg-neutral-800 active:scale-[0.98]\n           transition-all duration-200 shadow-soft hover:shadow-medium;\n  }\n  \n  .btn-ghost {\n    @apply px-6 py-3 bg-transparent text-neutral-700 rounded-xl font-medium\n           hover:bg-neutral-100 active:scale-[0.98]\n           transition-all duration-200;\n  }\n  \n  .input-modern {\n    @apply w-full px-4 py-3 bg-white border border-neutral-200 rounded-xl\n           focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500\n           transition-all duration-200 placeholder:text-neutral-400;\n  }\n  \n  .card-modern {\n    @apply bg-white rounded-2xl p-6 shadow-soft hover:shadow-medium\n           transition-all duration-300 border border-neutral-100;\n  }\n  \n  .section-container {\n    @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;\n  }\n}\n\n@layer utilities {\n  .transition-smooth {\n    @apply transition-all duration-300 ease-out;\n  }\n  \n  .transition-quick {\n    @apply transition-all duration-150 ease-out;\n  }\n}\n","size_bytes":2526},"src/components/ui/Card.jsx":{"content":"import React from 'react';\n\nconst Card = ({ \n  children, \n  variant = 'default',\n  hover = false,\n  padding = true,\n  className = '',\n  onClick,\n  ...props \n}) => {\n  const baseStyles = 'rounded-2xl border transition-all duration-300';\n  \n  const variants = {\n    default: 'bg-white border-neutral-100 shadow-soft',\n    glass: 'bg-white/70 backdrop-blur-xl border-white/20 shadow-soft',\n    elevated: 'bg-white border-neutral-100 shadow-medium',\n    outline: 'bg-transparent border-neutral-200',\n  };\n  \n  const hoverStyles = hover ? 'hover:shadow-medium hover:-translate-y-1 cursor-pointer' : '';\n  const paddingStyles = padding ? 'p-6' : '';\n  \n  return (\n    <div\n      onClick={onClick}\n      className={`\n        ${baseStyles}\n        ${variants[variant]}\n        ${hoverStyles}\n        ${paddingStyles}\n        ${className}\n      `}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n};\n\nexport default Card;\n","size_bytes":920},"backend/test/testUser.js":{"content":"// testJoinRoom.js\nconst { io } = require(\"socket.io-client\");\n\n// Connect to the server (ensure your server is running on localhost:3000)\nconst socket = io(\"http://localhost:3000\", {\n  transports: [\"websocket\"],\n});\n\n// Specify the room to join\nconst roomId = \"testRoom\";\n\nsocket.on(\"connect\", () => {\n  console.log(\"Connected to server with socket ID:\", socket.id);\n  console.log(`Joining room: ${roomId}`);\n  socket.emit(\"joinRoom\", roomId);\n  //socket.emit(\"send-message\", \"Hello, world!\", roomId);\n});\n\nsocket.on(\"receive-message\", (message) => {\n    console.log(\"Received message:\", message);\n  });","size_bytes":604},"start-mysql.sh":{"content":"#!/bin/bash\n\n# MySQL data directory\nMYSQL_DIR=\"/home/runner/.mysql\"\nSOCKET_PATH=\"/tmp/mysql.sock\"\nPID_FILE=\"/tmp/mysql.pid\"\n\n# Create data directory if it doesn't exist\nif [ ! -d \"$MYSQL_DIR\" ]; then\n    echo \"Initializing MySQL database...\"\n    mkdir -p \"$MYSQL_DIR\"\nfi\n\n# Start MySQL server\necho \"Starting MySQL server...\"\nmysqld --datadir=\"$MYSQL_DIR\" \\\n    --socket=\"$SOCKET_PATH\" \\\n    --pid-file=\"$PID_FILE\" \\\n    --bind-address=127.0.0.1 \\\n    --port=3306 \\\n    --skip-networking=0 \\\n    --innodb_use_native_aio=0 &\n\n# Wait for MySQL to start\necho \"Waiting for MySQL to start...\"\nsleep 5\n\n# Create database and user if needed\necho \"Setting up database...\"\nmysql --socket=\"$SOCKET_PATH\" -u root <<EOF\nCREATE DATABASE IF NOT EXISTS chatlas_db;\nGRANT ALL PRIVILEGES ON chatlas_db.* TO 'root'@'127.0.0.1' IDENTIFIED BY 'suhana2005';\nGRANT ALL PRIVILEGES ON chatlas_db.* TO 'root'@'localhost' IDENTIFIED BY 'suhana2005';\nFLUSH PRIVILEGES;\nEOF\n\necho \"MySQL is ready!\"\n","size_bytes":969},"backend/models/dbModel.js":{"content":"const mysql = require('mysql2/promise');\nrequire('dotenv').config();\n\nconst db = mysql.createPool({\n  host: process.env.DB_HOST,\n  user: process.env.DB_USER,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  port: 3306,\n  waitForConnections: true,\n  connectionLimit: 10,\n  queueLimit: 0\n});\n\n(async () => {\n  try {\n    const connection = await db.getConnection();\n    console.log('Connected to MySQL database');\n    connection.release();\n  } catch (err) {\n    console.error('Database connection failed:', err);\n    process.exit(1);\n  }\n})();\n\nmodule.exports = db;\n","size_bytes":586},"replit.md":{"content":"# Chatlas - Real-Time Multilingual Group Chat Application\n\n## Overview\nChatlas is a full-stack web application that enables real-time group chat with automatic translation. Users can communicate in their preferred language, and messages are automatically translated for other participants using Azure AI Translator.\n\n## Project Structure\n- **Frontend**: React + Vite + Tailwind CSS (port 5000)\n- **Backend**: Node.js + Express + Socket.IO (port 3000)\n- **Database**: MySQL (using MariaDB in Replit)\n- **AI Services**: Azure AI Translator & Azure Speech Service\n\n## Key Features\n- Real-time messaging with Socket.IO\n- Auto-translation of messages to user's preferred language\n- Speech-to-text conversion\n- Google OAuth authentication with JWT\n- Unique invitation links for chat rooms\n- Persistent message history with lazy loading\n\n## Recent Changes (Oct 31, 2025)\n- Configured Vite to run on port 5000 with `allowedHosts: true` for Replit proxy\n- Updated backend CORS to accept all origins for Replit compatibility\n- Created centralized API configuration (`src/config/api.js`)\n- Updated all frontend API calls to use dynamic base URL\n- Added API_BASE_URL import to all files using axios\n- Installed MariaDB for MySQL database support\n- Created backend config.env with database credentials\n\n## Environment Variables\n### Frontend (Replit Secrets)\n- `REACT_APP_GOOGLE_CLIENT_ID` - Google OAuth client ID\n- `VITE_SPEECH_REGION` - Azure Speech Service region\n- `VITE_EMAILJS_PUBLIC_KEY` - EmailJS public key\n- `VITE_EMAILJS_SERVICE_ID` - EmailJS service ID\n- `VITE_EMAILJS_TEMPLATE_ID` - EmailJS template ID\n- `VITE_TRANS_KEY` - Azure Translation API key\n- `VITE_TRANS_REGION` - Azure Translation region\n\n### Backend (config.env file)\n- Database configuration for MySQL\n- Google OAuth credentials\n- JWT secrets\n- Azure Translation API configuration\n\n## Architecture\nThe application uses a client-server architecture:\n1. Frontend communicates with backend via REST API (axios)\n2. Real-time messaging handled by Socket.IO WebSockets\n3. Messages stored in original language, translated on delivery\n4. Each user sets their language preference\n\n## Development Notes\n- Frontend must use 0.0.0.0:5000 to work with Replit's proxy\n- Backend uses localhost:3000 (not exposed directly to users)\n- CORS configured to accept all origins for Replit environment\n- Database needs to be initialized before running the application\n\n## Next Steps\n- Initialize MySQL database\n- Set up database schema/migrations\n- Start backend and frontend workflows\n- Test authentication and chat functionality\n","size_bytes":2571},"src/components/chatroom/Data.jsx":{"content":"export const CHATS_DATA = [\n  {\n    id: 1,\n    name: \"Group 1\",\n    avatarColor: \"bg-green-400\",\n    avatarText: \"G\",\n    lastMessage: \"User: Hello, there!...\",\n    time: \"30m\",\n    unread: false,\n    isActive: true,\n    info: \"2 Members\",\n  },\n  {\n    id: 2,\n    name: \"Chat 2\",\n    avatarColor: \"bg-cyan-400\",\n    avatarText: \"C\",\n    lastMessage: \"You: hello\",\n    time: \"32m\",\n    unread: false,\n  },\n  {\n    id: 3,\n    name: \"Chat 3\",\n    avatarColor: \"bg-cyan-600\",\n    avatarText: \"C\",\n    lastMessage: \"You: hello\",\n    time: \"35m\",\n    unread: false,\n  },\n  {\n    id: 4,\n    name: \"Chat 4\",\n    avatarColor: \"bg-yellow-400\",\n    avatarText: \"C\",\n    lastMessage: \"User: hello\",\n    time: \"40m\",\n    unread: false,\n  },\n  {\n    id: 5,\n    name: \"Chat 5\",\n    avatarColor: \"bg-yellow-300\",\n    avatarText: \"C\",\n    lastMessage: \"User: hello\",\n    time: \"50m\",\n    unread: false,\n  },\n  {\n    id: 6,\n    name: \"Chat 6\",\n    avatarColor: \"bg-blue-400\",\n    avatarText: \"C\",\n    lastMessage: \"User: hello\",\n    time: \"1h\",\n    unread: false,\n  },\n  {\n    id: 7,\n    name: \"Chat 7\",\n    avatarColor: \"bg-yellow-400\",\n    avatarText: \"C\",\n    lastMessage: \"User: hello\",\n    time: \"2h\",\n    unread: true,\n  },\n];\n\nexport const MESSAGES_CHAT_1 = [\n  {\n    id: 1,\n    content: \"Hello, there! How are you doing?\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 2,\n    content: \"Would you like to learn about...\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 3,\n    content: \"Your car's extended warranty?\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  { id: 4, content: \"My car's extended warranty...?\", fromUser: true },\n  {\n    id: 5,\n    content: \"You heard that right! Attaboy!\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 6,\n    content: \"We are a car service provider\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 7,\n    content:\n      \"with over 20 years of experience across all things car-related! This text is supposed to be long for demonstration purposes so I am just going to yap all over here. Our car services cover everything for anything that moves! Would you believe it? That includes you!! How amazing, is it not? Our service is wonderful! In fact, I was a professional musical composer before I took on a job as a car salesman here and I found that being a car salesman was my actual dream-come-true. I wrote over 90 songs praising our car shop. You can look it up!\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n  },\n  {\n    id: 8,\n    content: \"Yay!\",\n    fromUser: false,\n    sender: \"G\",\n    senderColor: \"bg-green-400\",\n    // typing: true,\n  },\n];\n\nexport const MESSAGES_CHAT_2 = [\n  {\n    id: 1,\n    content: \"Welcome to Chat 2!\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-400\",\n  },\n  { id: 2, content: \"Hello, nice to meet you!\", fromUser: true },\n  {\n    id: 3,\n    content: \"Are you interested in our latest product updates?\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-400\",\n  },\n  { id: 4, content: \"Yes, I'd like to know more\", fromUser: true },\n];\n\nexport const MESSAGES_CHAT_3 = [\n  {\n    id: 1,\n    content: \"This is a technical support chat\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-600\",\n  },\n  { id: 2, content: \"I'm having issues with my account\", fromUser: true },\n  {\n    id: 3,\n    content: \"I'll help you troubleshoot. What's the specific problem?\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-600\",\n  },\n];\n\nexport const MESSAGES_CHAT_4 = [\n  {\n    id: 1,\n    content: \"Project Discussion - Website Redesign\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-400\",\n  },\n  {\n    id: 2,\n    content: \"I've completed the initial mockups\",\n    fromUser: true,\n  },\n  {\n    id: 3,\n    content: \"Great! Let's schedule a review meeting tomorrow\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-400\",\n  },\n];\n\nexport const MESSAGES_CHAT_5 = [\n  {\n    id: 1,\n    content: \"Good morning team!\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-300\",\n  },\n  {\n    id: 2,\n    content: \"Good morning!\",\n    fromUser: true,\n  },\n];\n\nexport const MESSAGES_CHAT_6 = [\n  {\n    id: 1,\n    content: \"Marketing Campaign Discussion\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-400\",\n  },\n  {\n    id: 2,\n    content: \"I've analyzed the latest metrics\",\n    fromUser: true,\n  },\n  {\n    id: 3,\n    content: \"What insights did you find?\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-cyan-400\",\n  },\n];\n\nexport const MESSAGES_CHAT_7 = [\n  {\n    id: 1,\n    content: \"New product launch meeting\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-400\",\n  },\n  {\n    id: 2,\n    content: \"Is everyone prepared for the launch next week?\",\n    fromUser: false,\n    sender: \"C\",\n    senderColor: \"bg-yellow-400\",\n  },\n];\n\nexport const ALL_MESSAGES = {\n  1: MESSAGES_CHAT_1,\n  2: MESSAGES_CHAT_2,\n  3: MESSAGES_CHAT_3,\n  4: MESSAGES_CHAT_4,\n  5: MESSAGES_CHAT_5,\n  6: MESSAGES_CHAT_6,\n  7: MESSAGES_CHAT_7,\n};\n","size_bytes":5246},"src/components/chatroom/ChatWindow.jsx":{"content":"import {\n  AudioConfig,\n  SpeechConfig,\n  SpeechRecognizer,\n} from \"microsoft-cognitiveservices-speech-sdk\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { AvatarChat, AvatarPerson, IconButton } from \"./ReusableComponents\";\n\nimport {\n  FaBars,\n  FaGlobe,\n  FaImage,\n  FaInfoCircle,\n  FaMicrophone,\n  FaPaperclip,\n  FaPaperPlane,\n  FaRegStopCircle,\n} from \"react-icons/fa\";\nimport { languages } from \"../../constants\";\n\nconst MessageBubble = ({ message, currentUserId, currentChat }) => {\n  return (\n    <div\n      className={`flex mb-4 ${\n        message?.created_by === currentUserId ? \"justify-end\" : \"justify-start\"\n      }`}\n    >\n      {!(message.created_by === currentUserId) && (\n        <div className=\"mr-2\">\n          <AvatarPerson person={message?.sender} size=\"sm\" />\n        </div>\n      )}\n      <div>\n        <div className=\"font-['Inter'] text-xs text-[#65686C]\">\n          {message?.sender?.given_name}\n        </div>\n        <div\n          className={`font-['Inter'] rounded-lg p-3 inline-block max-w-md break-words whitespace-normal ${\n            message.created_by === currentUserId\n              ? \"bg-yellow-300 text-black\"\n              : // ? currentChat.avatar_color\n                \"bg-gray-200 text-black\"\n          }`}\n        >\n          {message?.content}\n          <div className=\"font-['Inter'] text-xs text-[#65686C] mt-1 text-right\">\n            {message?.created_at\n              ? new Date(message?.created_at).toLocaleTimeString([], {\n                  hour: \"2-digit\",\n                  minute: \"2-digit\",\n                })\n              : \"\"}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ChatWindow = ({\n  messages,\n  currentChat,\n  newMessage,\n  setNewMessage,\n  onSendMessage,\n  messageContainerRef,\n  toggleSidebar,\n  toggleChatInfo,\n  showChatInfo,\n  onFileUpload,\n  onImageUpload,\n  onLoadMoreMessages,\n  currentUserId,\n}) => {\n  const [language, setLanguage] = useState(\"en\");\n  const speechKey = import.meta.env.VITE_TRANS_KEY;\n  const speechRegion = import.meta.env.VITE_SPEECH_REGION;\n  const fileInputRef = useRef(null);\n  const imageInputRef = useRef(null);\n  const recognizerRef = useRef(null);\n  const [isRecording, setIsRecording] = useState(false);\n  const [translatedMessages, setTranslatedMessages] = useState([]);\n\n  // scroll\n  useEffect(() => {\n    const container = messageContainerRef.current;\n    if (!container) return;\n\n    const handleScroll = () => {\n      if (container.scrollTop < 100 && currentChat?.id) {\n        onLoadMoreMessages(currentChat.id);\n      }\n    };\n\n    container.addEventListener(\"scroll\", handleScroll);\n    return () => container.removeEventListener(\"scroll\", handleScroll);\n  }, [currentChat, onLoadMoreMessages]);\n\n  const handleKeyPress = (e) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      onSendMessage();\n    }\n  };\n\n  const handleFileButtonClick = () => {\n    fileInputRef.current.click();\n  };\n\n  const handleImageButtonClick = () => {\n    imageInputRef.current.click();\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      onFileUpload(file);\n      e.target.value = \"\";\n    }\n  };\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    if (file && file.type.startsWith(\"image/\")) {\n      if (onImageUpload) {\n        onImageUpload(file);\n      }\n      e.target.value = \"\";\n    }\n  };\n  const handleSpeechToTextStart = () => {\n    const speechConfig = SpeechConfig.fromSubscription(speechKey, speechRegion);\n    const audioConfig = AudioConfig.fromDefaultMicrophoneInput();\n    speechConfig.setProperty(\"speechServiceConnection_Language\", \"auto\");\n    const recognizer = new SpeechRecognizer(speechConfig, audioConfig);\n\n    recognizerRef.current = recognizer;\n    setIsRecording(true);\n\n    recognizer.startContinuousRecognitionAsync(\n      () => {},\n      (err) => {\n        console.error(err);\n        setIsRecording(false);\n      }\n    );\n\n    recognizer.recognizing = (s, e) => {\n      setNewMessage(e.result.text);\n    };\n  };\n\n  const handleSpeechToTextStop = () => {\n    if (recognizerRef.current) {\n      recognizerRef.current.stopContinuousRecognitionAsync(\n        () => {\n          setIsRecording(false);\n        },\n        (err) => {\n          console.error(err);\n          setIsRecording(false);\n        }\n      );\n    }\n  };\n\n  const translateText = async (text, targetLanguage) => {\n    try {\n      const response = await fetch(\n        `https://api.cognitive.microsofttranslator.com//translate?api-version=3.0&to=${targetLanguage}`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Ocp-Apim-Subscription-Key\": import.meta.env.VITE_TRANS_KEY,\n\n            \"Ocp-Apim-Subscription-Region\": import.meta.env.VITE_TRANS_REGION,\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify([{ Text: text }]),\n        }\n      );\n      const data = await response.json();\n      const translated = data[0].translations[0].text;\n      return translated;\n    } catch (error) {\n      console.error(\"Translation Error:\", error);\n    }\n  };\n\n  useEffect(() => {\n    const translateIncomingMessages = async () => {\n      console.log(messages);\n      const updatedMessages = await Promise.all(\n        messages.map(async (message) => {\n          if (message?.language !== language) {\n            const translatedContent = await translateText(\n              message?.content,\n              language\n            );\n            return { ...message, content: translatedContent };\n          }\n          return message;\n        })\n      );\n      setTranslatedMessages(updatedMessages);\n    };\n\n    translateIncomingMessages();\n  }, [language, messages]);\n\n  return (\n    <div\n      className={`xl:pt-18 lg:pt-16 md:pt-12 sm:pt-8 pt-6 mt-10 lg:mt-2 flex-1 flex flex-col bg-gray-50`}\n    >\n      <div className=\"p-4 border-b bg-white flex items-center justify-between\">\n        <div className=\"flex items-center\">\n          <button\n            className=\"md:hidden mr-2 text-gray-600\"\n            onClick={toggleSidebar}\n          >\n            <FaBars />\n          </button>\n\n          <AvatarChat\n            color={currentChat?.avatar_color}\n            text={currentChat?.avatar_text}\n          />\n          <div className=\"ml-3\">\n            <h2 className=\"font-['Montserrat'] font-bold text-[1.35rem]\">\n              {currentChat?.name}\n            </h2>\n            <p className=\"font-['Inter'] text-xs text-gray-500\">\n              {currentChat?.description || \"\"}\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div className=\"hidden md:flex items-center\">\n            <IconButton icon={<FaGlobe />} />\n            <select\n              value={language}\n              onChange={(e) => setLanguage(e.target.value)}\n              className=\"font-['Inter'] w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-300\"\n            >\n              {languages.map((lang, i) => (\n                <option key={i} value={lang.code}>\n                  {lang.language}\n                </option>\n              ))}\n            </select>\n          </div>\n          <IconButton\n            icon={<FaInfoCircle />}\n            onClick={toggleChatInfo}\n            className={showChatInfo ? \"bg-gray-200\" : \"\"}\n          />\n        </div>\n      </div>\n\n      <div className=\"flex-1 p-4 overflow-y-auto\" ref={messageContainerRef}>\n        {translatedMessages.map((message, i) => {\n          const currentDate = new Date(message.created_at);\n          const prevDate = i > 0 ? new Date(messages[i - 1].created_at) : null;\n\n          const shouldShowDateSeparator =\n            i === 0 ||\n            currentDate.getFullYear() !== prevDate.getFullYear() ||\n            currentDate.getMonth() !== prevDate.getMonth() ||\n            currentDate.getDate() !== prevDate.getDate();\n\n          return (\n            <>\n              {shouldShowDateSeparator && (\n                <div className=\"font-['Inter'] text-xs font-semibold flex justify-center items-center mb-4\">\n                  {currentDate.toLocaleDateString(\"en-US\", {\n                    month: \"long\",\n                    day: \"numeric\",\n                    year: \"numeric\",\n                  })}\n                </div>\n              )}\n              <MessageBubble\n                message={message}\n                currentUserId={currentUserId}\n                currentChat={currentChat}\n              />\n            </>\n          );\n        })}\n      </div>\n\n      <input\n        type=\"file\"\n        ref={fileInputRef}\n        className=\"hidden\"\n        onChange={handleFileChange}\n      />\n      <input\n        type=\"file\"\n        ref={imageInputRef}\n        className=\"hidden\"\n        accept=\"image/*\"\n        onChange={handleImageChange}\n      />\n\n      <div className=\"p-4 bg-white border-t flex items-center\">\n        <IconButton\n          icon={<FaPaperclip color=\"#081C48\" />}\n          className=\"hidden sm:block\"\n          onClick={handleFileButtonClick}\n        />\n        <IconButton\n          icon={<FaImage color=\"#081C48\" />}\n          className=\"hidden sm:block\"\n          onClick={handleImageButtonClick}\n        />\n        <IconButton\n          icon={\n            isRecording ? (\n              <FaRegStopCircle color=\"#081C48\" />\n            ) : (\n              <FaMicrophone color=\"#081C48\" />\n            )\n          }\n          className=\"hidden sm:block\"\n          onClick={\n            isRecording ? handleSpeechToTextStop : handleSpeechToTextStart\n          }\n        />\n        <div className=\"flex-1 mx-2\">\n          <textarea\n            className=\"font-['Inter'] placeholder-[#65686C] border rounded-lg p-2 w-full resize-none focus:outline-none focus:ring-2 focus:ring-yellow-300\"\n            placeholder=\"Type a message...\"\n            value={newMessage}\n            onChange={(e) => setNewMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            rows={1}\n          />\n        </div>\n        <IconButton\n          icon={<FaPaperPlane color=\"#081C48\" />}\n          onClick={onSendMessage}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default ChatWindow;\n","size_bytes":10224},"backend/config/db.config.js":{"content":"const mysql = require('mysql2');\nrequire('dotenv').config();\n\nconst db = mysql.createConnection({\n  host: process.env.DB_HOST,\n  user: process.env.DB_USER,\n  password: process.env.DB_PASSWORD,\n  database: process.env.DB_NAME,\n  port: 3306,\n});\n\ndb.connect((err) => {\n  if (err) {\n    console.error('Database connection failed:', err);\n    process.exit(1);\n  }\n  console.log('Connected to MySQL database');\n});\n\nmodule.exports = db;\n","size_bytes":432},"src/components/chatroom/WaitingApproval.jsx":{"content":"import React from \"react\";\nimport { FaHourglassHalf } from \"react-icons/fa\";\n\nconst WaitingApproval = ({ chatName }) => {\n  return (\n    <div className=\"flex-1 flex flex-col items-center justify-center bg-gray-50 mt-20\">\n      <div className=\"text-center p-8 max-w-md\">\n        <div className=\"flex justify-center mb-4\">\n          <div className=\"w-16 h-16 border border-[5px] border-[#ECE17F] rounded-full flex items-center justify-center\">\n            <FaHourglassHalf size={32} className=\"text-[#EEBF2D]\" />\n          </div>\n        </div>\n        <h2 className=\"text-2xl font-bold mb-2 font-['Montserrat']\">\n          Waiting for Approval\n        </h2>\n        <p className=\"text-gray-900 mb-6 font-['Inter']\">\n          Your request to join <strong>\"{chatName}\"</strong> has been submitted.\n          You'll be able to view messages once an admin approves your request.\n        </p>\n        <div className=\"flex justify-center\">\n          <div className=\"flex space-x-2 mt-4\">\n            <div\n              className=\"h-3 w-3 bg-[#EEBF2D] rounded-full animate-bounce\"\n              style={{ animationDelay: \"0ms\" }}\n            ></div>\n            <div\n              className=\"h-3 w-3 bg-[#EEBF2D] rounded-full animate-bounce\"\n              style={{ animationDelay: \"300ms\" }}\n            ></div>\n            <div\n              className=\"h-3 w-3 bg-[#EEBF2D] rounded-full animate-bounce\"\n              style={{ animationDelay: \"600ms\" }}\n            ></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default WaitingApproval;\n","size_bytes":1563},"vite.config.js":{"content":"import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react'\n\n// https://vite.dev/config/\nexport default defineConfig({\n  plugins: [react()],\n  server: {\n    host: '0.0.0.0',\n    port: 5000,\n    allowedHosts: true\n  }\n})\n","size_bytes":237},"src/pages/Help.jsx":{"content":"import React from \"react\";\nimport Contact from \"../components/home/Contact\";\nimport NavBar from \"../components/NavBar\";\nimport Footer from \"../components/Footer\";\nimport { styles } from \"../styles\";\n\nconst Help = () => {\n  return (\n    <div>\n      <NavBar />\n      <div className={`${styles.paddingY}`}>\n        <Contact />\n      </div>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Help;\n","size_bytes":395},"src/components/ui/Badge.jsx":{"content":"import React from 'react';\n\nconst Badge = ({ \n  children, \n  variant = 'default',\n  size = 'md',\n  className = '',\n  ...props \n}) => {\n  const baseStyles = 'inline-flex items-center justify-center font-medium rounded-full';\n  \n  const variants = {\n    default: 'bg-neutral-100 text-neutral-700',\n    primary: 'bg-primary-100 text-primary-700',\n    accent: 'bg-accent-100 text-accent-700',\n    success: 'bg-success/10 text-success',\n    warning: 'bg-warning/10 text-warning',\n    error: 'bg-error/10 text-error',\n    gradient: 'bg-gradient-to-r from-primary-600 to-accent-600 text-white',\n  };\n  \n  const sizes = {\n    sm: 'px-2 py-0.5 text-xs',\n    md: 'px-3 py-1 text-sm',\n    lg: 'px-4 py-1.5 text-base',\n  };\n  \n  return (\n    <span\n      className={`\n        ${baseStyles}\n        ${variants[variant]}\n        ${sizes[size]}\n        ${className}\n      `}\n      {...props}\n    >\n      {children}\n    </span>\n  );\n};\n\nexport default Badge;\n","size_bytes":942},"backend/utils/room.js":{"content":"const MemberStatus = Object.freeze({\n  PENDING: 'pending',\n  APPROVED: 'approved',\n  REJECTED: 'rejected',\n});\n\nmodule.exports = MemberStatus;\n","size_bytes":143},"backend/test/testUser1.js":{"content":"// testJoinRoom1.js\nconst { io } = require(\"socket.io-client\");\n\n// Connect to the server (ensure your server is running on localhost:3000)\nconst socket = io(\"http://localhost:3000\", {\n  transports: [\"websocket\"],\n});\n\n// Specify the room to join\nconst roomId = \"testRoom1\";\n\nsocket.on(\"connect\", () => {\n  console.log(\"Connected to server with socket ID:\", socket.id);\n  console.log(`Joining room: ${roomId}`);\n  socket.emit(\"joinRoom\", roomId);\n  socket.emit(\"send-message\", \"Hello, world!\", roomId);\n});\n\nsocket.on(\"receive-message\", (message) => {\n  console.log(\"Received message:\", message);\n});","size_bytes":600},"src/pages/Signup.jsx":{"content":"import React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport {\n  showToastError,\n  showToastSuccess,\n} from \"../components/common/ShowToast\";\nimport axios from \"axios\";\nimport { useAuth } from \"../context/authContext\";\nimport { API_BASE_URL } from \"../config/api\";\nimport { Button } from \"../components/ui\";\nimport { FaEye, FaEyeSlash, FaArrowRight, FaCheck } from \"react-icons/fa\";\n\nconst Signup = () => {\n  const formContext = useForm();\n  const { register, handleSubmit, formState, getValues } = formContext;\n  const { errors } = formState;\n  const { login } = useAuth();\n  const navigate = useNavigate();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [showPasswordConfirm, setShowPasswordConfirm] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const togglePasswordVisibility = () => setShowPassword(!showPassword);\n  const togglePasswordVisibilityConfirm = () =>\n    setShowPasswordConfirm(!showPasswordConfirm);\n\n  const onSubmit = async (data) => {\n    setLoading(true);\n    try {\n      const response = await axios.post(\n        `${API_BASE_URL}/auth/signup`,\n        data\n      );\n      if (response.data?.status === \"success\") {\n        showToastSuccess(response.data?.message || \"Account created successfully\");\n        localStorage.setItem('user_id', response.data.user?.id)\n        login(response.data?.token);\n        navigate(\"/\");\n      }\n    } catch (err) {\n      showToastError(err.response?.data?.message || \"Registration failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const features = [\n    \"Real-time translation to 140+ languages\",\n    \"Secure end-to-end encrypted messaging\",\n    \"Create unlimited group chats\",\n    \"Voice-to-text with AI recognition\",\n  ];\n\n  return (\n    <div className=\"min-h-screen grid lg:grid-cols-2\">\n      {/* Left Side - Branding */}\n      <div className=\"hidden lg:flex flex-col justify-between p-12 bg-gradient-to-br from-accent-600 via-accent-500 to-primary-600 relative overflow-hidden\">\n        <div className=\"absolute inset-0 gradient-mesh opacity-30\"></div>\n        \n        <div className=\"relative z-10\">\n          <div className=\"flex items-center space-x-3 cursor-pointer\" onClick={() => navigate(\"/\")}>\n            <img src={logo} alt=\"Chatlas Logo\" className=\"w-12 h-12\" />\n            <span className=\"text-3xl font-bold text-white\">Chatlas</span>\n          </div>\n        </div>\n\n        <div className=\"relative z-10 space-y-8\">\n          <div className=\"space-y-4\">\n            <h1 className=\"text-5xl font-bold text-white leading-tight\">\n              Join the global\n              <br />\n              conversation\n            </h1>\n            <p className=\"text-xl text-white/90 max-w-md\">\n              Experience seamless communication without language barriers.\n            </p>\n          </div>\n\n          <div className=\"space-y-4\">\n            {features.map((feature, index) => (\n              <div key={index} className=\"flex items-center space-x-3\">\n                <div className=\"flex-shrink-0 w-6 h-6 bg-white/20 rounded-full flex items-center justify-center\">\n                  <FaCheck className=\"text-white text-sm\" />\n                </div>\n                <p className=\"text-white/90\">{feature}</p>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"relative z-10 text-white/60 text-sm\">\n          © 2025 Chatlas. All rights reserved.\n        </div>\n      </div>\n\n      {/* Right Side - Sign Up Form */}\n      <div className=\"flex items-center justify-center p-6 lg:p-12 bg-neutral-50\">\n        <div className=\"w-full max-w-md space-y-8 animate-fade-in\">\n          {/* Mobile Logo */}\n          <div className=\"lg:hidden flex items-center justify-center space-x-3\">\n            <img src={logo} alt=\"Chatlas Logo\" className=\"w-10 h-10\" />\n            <span className=\"text-2xl font-bold text-neutral-900\">Chatlas</span>\n          </div>\n\n          {/* Header */}\n          <div className=\"text-center lg:text-left space-y-2\">\n            <h2 className=\"text-4xl font-bold text-neutral-900\">Create account</h2>\n            <p className=\"text-lg text-neutral-600\">Start chatting across languages</p>\n          </div>\n\n          {/* Sign Up Form */}\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-5\">\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                Full name\n              </label>\n              <input\n                type=\"text\"\n                placeholder=\"John Doe\"\n                className=\"input-modern\"\n                {...register(\"username\", {\n                  required: \"Name is required\",\n                  minLength: {\n                    value: 2,\n                    message: \"Name must be at least 2 characters\"\n                  }\n                })}\n              />\n              {errors.username && (\n                <p className=\"mt-1.5 text-sm text-error\">{errors.username?.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                Email address\n              </label>\n              <input\n                type=\"email\"\n                placeholder=\"you@example.com\"\n                className=\"input-modern\"\n                {...register(\"email\", {\n                  required: \"Email is required\",\n                  pattern: {\n                    value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                    message: \"Invalid email address\"\n                  }\n                })}\n              />\n              {errors.email && (\n                <p className=\"mt-1.5 text-sm text-error\">{errors.email?.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                Password\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showPassword ? \"text\" : \"password\"}\n                  placeholder=\"Create a strong password\"\n                  className=\"input-modern pr-12\"\n                  {...register(\"password\", {\n                    required: \"Password is required\",\n                    minLength: {\n                      value: 6,\n                      message: \"Password must be at least 6 characters\"\n                    }\n                  })}\n                />\n                <button\n                  type=\"button\"\n                  onClick={togglePasswordVisibility}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600 transition-colors\"\n                >\n                  {showPassword ? <FaEyeSlash size={20} /> : <FaEye size={20} />}\n                </button>\n              </div>\n              {errors.password && (\n                <p className=\"mt-1.5 text-sm text-error\">{errors.password?.message}</p>\n              )}\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                Confirm password\n              </label>\n              <div className=\"relative\">\n                <input\n                  type={showPasswordConfirm ? \"text\" : \"password\"}\n                  placeholder=\"Re-enter your password\"\n                  className=\"input-modern pr-12\"\n                  {...register(\"passwordConfirm\", {\n                    required: \"Please confirm your password\",\n                    validate: (value) =>\n                      value === getValues(\"password\") || \"Passwords do not match\"\n                  })}\n                />\n                <button\n                  type=\"button\"\n                  onClick={togglePasswordVisibilityConfirm}\n                  className=\"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600 transition-colors\"\n                >\n                  {showPasswordConfirm ? <FaEyeSlash size={20} /> : <FaEye size={20} />}\n                </button>\n              </div>\n              {errors.passwordConfirm && (\n                <p className=\"mt-1.5 text-sm text-error\">{errors.passwordConfirm?.message}</p>\n              )}\n            </div>\n\n            <div className=\"flex items-start\">\n              <input\n                type=\"checkbox\"\n                className=\"w-4 h-4 mt-1 text-primary-600 border-neutral-300 rounded focus:ring-primary-500\"\n                {...register(\"terms\", {\n                  required: \"You must accept the terms and conditions\"\n                })}\n              />\n              <label className=\"ml-2 text-sm text-neutral-600\">\n                I agree to the{\" \"}\n                <Link to=\"/terms\" className=\"font-medium text-primary-600 hover:text-primary-700\">\n                  Terms of Service\n                </Link>{\" \"}\n                and{\" \"}\n                <Link to=\"/privacy\" className=\"font-medium text-primary-600 hover:text-primary-700\">\n                  Privacy Policy\n                </Link>\n              </label>\n            </div>\n            {errors.terms && (\n              <p className=\"text-sm text-error\">{errors.terms?.message}</p>\n            )}\n\n            <Button\n              type=\"submit\"\n              variant=\"gradient\"\n              size=\"lg\"\n              fullWidth\n              loading={loading}\n              icon={<FaArrowRight />}\n            >\n              Create account\n            </Button>\n          </form>\n\n          {/* Sign In Link */}\n          <div className=\"text-center pt-4\">\n            <p className=\"text-neutral-600\">\n              Already have an account?{\" \"}\n              <Link to=\"/signin\" className=\"font-medium text-primary-600 hover:text-primary-700 transition-colors\">\n                Sign in\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Signup;\n","size_bytes":10038},"src/App.jsx":{"content":"import { GoogleOAuthProvider } from \"@react-oauth/google\";\nimport React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport \"./index.css\";\nimport { Routes } from \"./routes/Routes\";\nconst CLIENT_ID =\n  \"275407016033-3v0na8sqo6n420e74ak2mlule5i24330.apps.googleusercontent.com\";\nconst App = () => {\n  return (\n    <GoogleOAuthProvider clientId={CLIENT_ID}>\n      <Routes />\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={3000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        drggable\n        pauseOnHover\n        theme=\"colored\"\n      />\n    </GoogleOAuthProvider>\n  );\n};\n\nexport default App;\n","size_bytes":767},"README.md":{"content":"# Chatlas Frontend\n\n## Inspiration\nChatlas is inspired by the growing need for seamless communication in a globalized world where language differences often create barriers. We wanted to build a tool that connects people across languages—whether for casual chats, international collaboration, or community engagement—making it feel like everyone is speaking the same language.\n\n## What It Does\nChatlas is a real-time group chat web application that automatically translates messages into the preferred language of each participant. Users can create or join chat rooms via unique invitation links and communicate freely, regardless of the language they use.\n\n### Key Features\n- **Real-Time Messaging**: Powered by WebSockets (Socket.IO) for instant communication.\n- **Auto-Translation**: Messages are translated in real time using Azure AI Translator to match the recipient's language preference.\n- **Speech-to-Text**: Users can convert their voice to text using Azure Speech Service.\n- **Secure Authentication**: Sign-in and sign-up with Google OAuth, using JWT for session handling.\n- **Invite System**: Every chat room generates a unique link that users can share to invite others.\n- **Persistent History**: Rooms are persistent—users can leave and return later with full message history preserved.\n- **Lazy Load Messages**: Older messages are loaded on scroll, improving performance and user experience, especially in large conversations.\n\n## How We Built It\nWe developed Chatlas using a full-stack approach:\n\n- **Frontend**: React (Vite) and Tailwind CSS for UI/UX.\n- **Backend**: Node.js and Express.js handle the API and real-time socket connections.\n- **Database**: Azure Cosmos DB for PostgreSQL stores user, room, and message data.\n- **Authentication**: Google OAuth2 with JWT-based sessions ensures security.\n- **AI Services**: Azure Translator for real-time multilingual support, Azure Speech Service for converting speech to text.\n- **Development Tools**: We used GitHub Copilot throughout development to boost our productivity and streamline code generation.\n\n## Challenges We Ran Into\nThe app uses a Client-Server architecture, with WebSocket (Socket.IO) handling real-time communication. Each message is first stored in its original language, then translated and delivered to users in their chosen language. The system supports language preference changes mid-conversation, affecting only future messages.\n\n## Accomplishments That We're Proud Of\n- Successfully built a full-stack chat app with auto-translation.\n- Integrated Azure AI services for both text translation and speech-to-text.\n- Achieved seamless sign-in/sign-up flow with Google OAuth and secure sessions.\n- Built a robust invitation system with dynamic room links and user management.\n\n## What We Learned\n- How to work with Azure Cognitive Services (Translation & Speech APIs).\n- Setting up OAuth with secure session handling using JWT.\n- Collaborative full-stack development using GitHub and Copilot.\n- Handling WebSocket communication for real-time updates.\n\n## What's Next for Chatlas\n- Add support for chat summarization using Azure OpenAI.\n- Implement file sharing in rooms (or emotes sending).\n- Improve testing coverage and CI/CD pipeline.\n- Add analytics to understand language usage and user behavior.\n- Explore additional security enhancements and performance optimizations.\n- Deployment on Azure with Docker containers.\n\n## Built With\n- Azure (Azure AI Services)\n- Express.js\n- Node.js\n- React\n- WebSocket (Socket.IO)\n- PostgreSQL\n\n## Try It Out\n- [Demo Video](https://www.youtube.com/watch?v=Q3Jx4viHm-g)\n- [Figma Design](https://www.figma.com/design/ASHnFz7S1Fb0QeD3OFd9yf/Azure-AI-Hackathon?node-id=0-1&p=f&t=VsNwiJKGRJSAzFw0-0)\n\n## Running the App\nTo run the app locally, follow these steps:\n**1. Navigate to your desired directory and clone the frontend repository**\n\n```\ngit clone https://github.com/MinhhQuangg/Azure_Hack_FE.git\n```\n\n**2. Create a `.env` file in the root directory and add the following environment variables**\n\n```\nREACT_APP_GOOGLE_CLIENT_ID=<YOUR_GOOGLE_CLIENT_ID>\nVITE_SPEECH_REGION=eastus\nVITE_EMAILJS_PUBLIC_KEY=<YOUR_EMAILJS_PUBLIC_KEY>\nVITE_EMAILJS_SERVICE_ID=<YOUR_EMAILJS_SERVICE_ID>\nVITE_EMAILJS_TEMPLATE_ID=<YOUR_EMAILJS_TEMPLATE_ID>\nVITE_TRANS_KEY=<YOUR_TRANS_KEY>\nVITE_TRANS_REGION=eastus\n```\n\n**3. Install dependencies and start the development server**\n\n```\nnpm install\nnpm run dev\n```\n\n## Connect with Backend to Run the Full App:\nTo run Chatlas fully, set up the frontend by following instructions in the **[Backend Repository](https://github.com/MinhhQuangg/Azure_App_BE)**.\n\n## Note\nEnsure you have Node.js installed before running the commands.\n","size_bytes":4685},"src/routes/Routes.jsx":{"content":"import {\nBrowserRouter,\nRoute,\nRoutes as RouteComponent,\n} from \"react-router-dom\";\n\nimport React from \"react\";\nimport Home from \"../pages/Home\";\nimport Signin from \"../pages/Signin\";\nimport Signup from \"../pages/Signup\";\nimport ChatRoom from \"../pages/Room\";\nimport Error from \"../pages/Error\";\nimport { AuthProvider } from \"../context/authContext\";\nimport Help from \"../pages/Help\";\nimport { RequireAuth } from \"../auth/RequireAuth\";\n\nexport const Routes = () => {\nreturn (\n\t<BrowserRouter>\n\t<AuthProvider>\n\t\t<RouteComponent>\n\t\t<Route path=\"/\" element={<Home />} />\n\t\t<Route path=\"/Home\" element={<Home />} />\n\t\t<Route path=\"/Signin\" element={<Signin />} />\n\t\t<Route path=\"/Signup\" element={<Signup />} />\n\t\t<Route element={<RequireAuth />}>\n\t\t\t<Route path=\"/Chat\" element={<ChatRoom />} />\n\t\t\t<Route path=\"/Chat/:chatId\" element={<ChatRoom />} />\n\t\t</Route>\n\t\t<Route path=\"/Help\" element={<Help />} />\n\t\t<Route path=\"*\" element={<Error />} />\n\t\t</RouteComponent>\n\t</AuthProvider>\n\t</BrowserRouter>\n);\n};\n","size_bytes":1007},"backend/utils/helper.js":{"content":"const { PrismaClient } = require(\"@prisma/client\");\nconst prisma = new PrismaClient();\n\nconst checkAdmin = async (chatId, userId) => {\n    try {\n        const isAdmin = await prisma.chatRoom.findFirst({\n            where: {id: chatId, admin_id: userId},\n            select: {id: true}\n        })\n\n        return !!isAdmin;\n    }\n    catch (err) {\n        console.error(\"Error checking admin status:\", err.message);\n        throw err\n    }\n}\n\nconst getUser = async (userId) => {\n    try {\n        const user = await prisma.user.findFirst({\n            where: {id: userId}\n        });\n\n        return user\n    }\n    catch (err) {\n        console.error(\"Error checking admin status:\", err.message);\n        throw err\n    }\n}\n\nmodule.exports = {\n    checkAdmin,\n    getUser\n}","size_bytes":771},"src/auth/RequireAuth.jsx":{"content":"import { Navigate, Outlet } from \"react-router-dom\";\n\nexport const RequireAuth = () => {\n  const token = localStorage.getItem(\"token\");\n\n  return token ? <Outlet /> : <Navigate to=\"/Signin\" replace />;\n};\n","size_bytes":205},"backend/README.md":{"content":"# Chatlas Backend\n\n## Inspiration\n\nChatlas is inspired by the growing need for seamless communication in a globalized world where language differences often create barriers. We wanted to build a tool that connects people across languages—whether for casual chats, international collaboration, or community engagement—making it feel like everyone is speaking the same language.\n\n## What It Does\n\nChatlas is a real-time group chat web application that automatically translates messages into the preferred language of each participant. The backend handles user authentication, real-time messaging, translation processing, and database management to ensure a smooth experience.\n\n## Key Features\n\n- **Real-Time Messaging**: Powered by WebSockets (Socket.IO) for instant communication.\n- **Auto-Translation**: Messages are translated in real time using Azure AI Translator to match the recipient's language preference.\n- **Speech-to-Text**: Users can convert their voice to text using Azure Speech Service.\n- **Secure Authentication**: Sign-in and sign-up with Google OAuth, using JWT for session handling.\n- **Invite System**: Every chat room generates a unique link that users can share to invite others.\n- **Persistent History**: Rooms are persistent—users can leave and return later with full message history preserved.\n- **Lazy Load Messages**: Older messages are loaded on scroll, improving performance and user experience, especially in large conversations.\n\n## How We Built It\nWe developed Chatlas using a full-stack approach:\n\n- **Frontend**: React (Vite) and Tailwind CSS for UI/UX.\n- **Backend**: Node.js and Express.js handle the API and real-time socket connections.\n- **Database**: Azure Cosmos DB for PostgreSQL stores user, room, and message data.\n- **Authentication**: Google OAuth2 with JWT-based sessions ensures security.\n- **AI Services**: Azure Translator for real-time multilingual support, Azure Speech Service for converting speech to text.\n- **Development Tools**: We used GitHub Copilot throughout development to boost our productivity and streamline code generation.\n\n## Challenges We Ran Into\nThe app uses a Client-Server architecture, with WebSocket (Socket.IO) handling real-time communication. Each message is first stored in its original language, then translated and delivered to users in their chosen language. The system supports language preference changes mid-conversation, affecting only future messages.\n\n## Accomplishments That We're Proud Of\n- Successfully built a full-stack chat app with auto-translation.\n- Integrated Azure AI services for both text translation and speech-to-text.\n- Achieved seamless sign-in/sign-up flow with Google OAuth and secure sessions.\n- Built a robust invitation system with dynamic room links and user management.\n\n## What We Learned\n- How to work with Azure Cognitive Services (Translation & Speech APIs).\n- Setting up OAuth with secure session handling using JWT.\n- Collaborative full-stack development using GitHub and Copilot.\n- Handling WebSocket communication for real-time updates.\n\n## What's Next for Chatlas\n- Add support for chat summarization using Azure OpenAI.\n- Implement file sharing in rooms (or emotes sending).\n- Improve testing coverage and CI/CD pipeline.\n- Add analytics to understand language usage and user behavior.\n- Explore additional security enhancements and performance optimizations.\n- Deployment on Azure with Docker containers.\n\n## Built With\n- Azure (Azure AI Services)\n- Express.js\n- Node.js\n- React\n- WebSocket (Socket.IO)\n- PostgreSQL\n\n## Try It Out\n- [Demo Video](https://www.youtube.com/watch?v=Q3Jx4viHm-g)\n\n## Running the Backend\n\nTo set up the backend locally, follow these steps:\n\n**1. Clone the Repository**\n\n```\ngit clone https://github.com/MinhhQuangg/Azure_App_BE.git\ncd Azure_App_BE\n```\n\n**2. Create a .env File**\n\nCreate a .env file in the root directory and add the following environment variables:\n\n```\nDB_HOST= <DB_HOST>\n# [Name of PostgreSQL database server].postgres.database.azure.com\nDB_USER=<DB_USER>\nDB_PASSWORD=<DB_PASSWORD>\nDB_NAME=postgres\nDATABASE_URL=\"postgresql://DB_USER:DB_PASSWORD@<DB_HOST>:5432/postgres?schema=public\"\nAZURE_TRANS_KEY=<TRANS_KEY>\nVITE_TRANS_KEY=<TRANS_KEY>\nAZURE_TRANS_LOCATION=eastus\nVITE_TRANS_REGION=eastus\nGOOGLE_CLIENT_ID=<GOOGLE_CLIENT_ID>\nGOOGLE_CLIENT_SECRET=<GOOGLE_CLIENT_SECRET>\nSESSION_SECRET=<SESSION_SECRET>\nJWT_SECRET=<JWT_SECRET>\nJWT_EXPIRES_IN=1d\n```\n\n**3. Install Dependencies**\n\n```\nnpm install\n```\n\n**4. Start the Server**\n\n```\nnpm start\n```\n\n## Connect with Frontend to Run the Full App\nTo run Chatlas fully, set up the frontend by following instructions in the **[Frontend Repository](https://github.com/MinhhQuangg/Azure_Hack_FE)**.\n\n## Note\nEnsure you have Node.js and MongoDB/PostgreSQL set up before running the backend server.\n\n","size_bytes":4812},"src/pages/Room.jsx":{"content":"// Room.jsx\nimport React, { useState, useEffect, useRef } from \"react\";\nimport Sidebar from \"../components/chatroom/Sidebar.jsx\";\nimport ChatWindow from \"../components/chatroom/ChatWindow.jsx\";\nimport ChatInfo from \"../components/chatroom/ChatInfo.jsx\";\nimport NavBar from \"../components/NavBar.jsx\";\nimport { FaTimes } from \"react-icons/fa\";\nimport axios from \"axios\";\nimport io from \"socket.io-client\";\nimport { showToastError } from \"../components/common/ShowToast\";\nimport RequestJoin from \"../components/chatroom/RequestJoin.jsx\";\nimport WaitingApproval from \"../components/chatroom/WaitingApproval.jsx\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { API_BASE_URL } from \"../config/api\";\n\nconst ChatRoom = () => {\n  const EmptyState = () => {\n    return (\n      <div className=\"flex-1 flex flex-col items-center justify-center bg-gray-50\">\n        <div className=\"text-center p-8\">\n          <div className=\"text-6xl mb-4\">💬</div>\n          <h2 className=\"text-2xl font-bold text-gray-700 mb-2\">\n            Welcome to Chatlas!\n          </h2>\n          <p className=\"text-gray-500 mb-6\">\n            Select a conversation or start a new one\n          </p>\n          <button\n            className=\"bg-yellow-300 hover:bg-yellow-400 px-4 py-2 rounded-full font-medium transition\"\n            onClick={() => setIsNewChatModalOpen(true)}\n          >\n            Start New Chat\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  const NewChatModal = ({ isOpen, onClose, onCreateChat }) => {\n    const [chatName, setChatName] = useState(\"\");\n    const [description, setDescription] = useState(\"\");\n\n    if (!isOpen) return null;\n\n    const handleSubmit = (e) => {\n      e.preventDefault();\n      if (!chatName.trim()) return;\n\n      onCreateChat({\n        name: chatName,\n        description: description,\n      });\n\n      setChatName(\"\");\n      setDescription(\"\");\n      onClose();\n    };\n\n    return (\n      <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n        <div className=\"bg-white rounded-lg w-full max-w-md mx-4 shadow-lg\">\n          <div className=\"font-['Montserrat'] p-4 border-b flex justify-between items-center relative\">\n            <h2 className=\"text-xl font-bold\">New Chat</h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-500 hover:text-gray-700 absolute right-4 top-4\"\n            >\n              <FaTimes size={16} />\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"p-4\">\n            <div className=\"mb-4\">\n              <label className=\"font-['Montserrat'] text-[#2C2E30] block text-sm font-bold mb-2\">\n                Chat Name\n              </label>\n              <input\n                type=\"text\"\n                value={chatName}\n                onChange={(e) => setChatName(e.target.value)}\n                className=\"placeholder-[#65686C] shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:ring-2 focus:ring-yellow-300\"\n                placeholder=\"Enter chat name\"\n                required\n              />\n            </div>\n\n            <div className=\"mb-4\">\n              <label className=\"font-['Montserrat'] text-[#2C2E30] block text-sm font-bold mb-2\">\n                Description\n              </label>\n              <textarea\n                value={description}\n                onChange={(e) => setDescription(e.target.value)}\n                className=\"placeholder-[#65686C] shadow appearance-none border rounded w-full py-2 px-3 leading-tight focus:outline-none focus:ring-2 focus:ring-yellow-300\"\n                placeholder=\"Enter a description (optional)\"\n              />\n            </div>\n\n            <div className=\"flex justify-end\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"font-['Montserrat'] font-semibold bg-gray-300 hover:bg-gray-400 px-4 py-2 rounded-lg mr-2\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"font-['Montserrat'] font-semibold bg-yellow-400 hover:bg-yellow-300 px-4 py-2 rounded-lg\"\n              >\n                Create Chat\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  };\n\n  const { chatId: urlChatId, inviteLink } = useParams();\n  const navigate = useNavigate();\n\n  const userId = localStorage.getItem(\"user_id\");\n\n  // Instead of a single [messages], we store a dictionary: { [roomId]: [msg, msg, ...], ... }\n  const [roomMessages, setRoomMessages] = useState({});\n  const [chats, setChats] = useState([]);\n  const [currentChatId, setCurrentChatId] = useState(urlChatId);\n  const [lastScrollChatId, setLastScrollChatId] = useState(null);\n  const [newMessage, setNewMessage] = useState(\"\");\n\n  // UI states\n  const [activeFilter, setActiveFilter] = useState(\"all\");\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [isNewChatModalOpen, setIsNewChatModalOpen] = useState(false);\n  const [showSidebar, setShowSidebar] = useState(true);\n  const [showChatInfo, setShowChatInfo] = useState(false);\n  const [isPrepending, setIsPrepending] = useState(false);\n  const [messagePagination, setMessagePagination] = useState({}); // { [chatId]: { cursor, hasMore } }\n\n  const [showJoinRequest, setShowJoinRequest] = useState(false);\n  const [invitedChatDetails, setInvitedChatDetails] = useState({});\n\n  // const [isMessagesLoaded, setIsMessagesLoaded] = useState(false);\n\n  const messageContainerRef = useRef(null);\n\n  useEffect(() => {\n    const checkMembership = async () => {\n      if (currentChatId) {\n        try {\n          const res = await axios.get(\n            `${API_BASE_URL}/chatroom/${currentChatId}/isMember/${userId}`\n          );\n\n          console.log(\"check mem:\", res.data, currentChatId, userId);\n\n          if (!res.data?.isMember) {\n            const chatRes = await axios.get(\n              `${API_BASE_URL}/chatroom/${currentChatId}`\n            );\n            const chatroom = chatRes.data.chatRoom;\n\n            const invitedChat = {\n              id: currentChatId,\n              name: chatroom.name,\n              avatarColor: chatroom.avatar_color,\n              avatarText: chatroom.avatar_text,\n              lastMessage: chatroom.last_message,\n              time: new Date(),\n              unread: true,\n              messages: [],\n              status: \"invited\",\n            };\n\n            setInvitedChatDetails(invitedChat);\n            setShowJoinRequest(true);\n            navigate(\"/Chat\");\n          }\n        } catch (err) {\n          console.error(\"Failed to check membership:\", err);\n        }\n      } else {\n        setCurrentChatId(chats.length > 0 ? chats[0].id : null);\n      }\n    };\n\n    checkMembership();\n  }, [currentChatId, userId, chats, navigate]);\n\n  // Single socket\n  const [socket, setSocket] = useState(null);\n\n  useEffect(() => {\n    const loadInitialMessages = async () => {\n      if (!roomMessages[urlChatId]) {\n        console.log(\"Enter function fetch initial messages.\");\n        console.log(`${API_BASE_URL}/chatroom/${urlChatId}/messages`);\n\n        try {\n          const res = await axios.get(\n            `${API_BASE_URL}/chatroom/${urlChatId}/messages`,\n            {\n              params: {\n                cursor: null,\n              },\n            }\n          );\n\n          setRoomMessages((prev) => ({\n            ...prev,\n            // [urlChatId]: res.data.messages,\n            [urlChatId]: res.data.messages\n              .filter((message) => message.chat_id === urlChatId)\n              .sort((a, b) => new Date(a.created_at) - new Date(b.created_at)),\n          }));\n\n          // setRoomMessages((prev) => {\n          //   const existing = prev[urlChatId] || [];\n          //   return {\n          //     ...prev,\n          //     [urlChatId]: [...newMessages, ...existing], // prepend\n          //   };\n          // });\n\n          setMessagePagination((prev) => ({\n            ...prev,\n            [urlChatId]: {\n              cursor: res.data.cursor,\n              hasMore: res.data.hasMore,\n            },\n          }));\n\n          // setIsMessagesLoaded(true);\n        } catch (err) {\n          console.error(\"Error loading initial messages:\", err);\n          showToastError(\"Failed to load messages\");\n        }\n        console.log(11111);\n      }\n      // else {\n      //   setIsMessagesLoaded(true);\n      // }\n    };\n    loadInitialMessages();\n    const container = messageContainerRef.current;\n    if (container) {\n      container.scrollTop = container.scrollHeight - container.clientHeight;\n    }\n  }, []);\n\n  useEffect(() => {\n    const socketInstance = io(\"${API_BASE_URL}\", {\n      transports: [\"websocket\"],\n      auth: { userId: userId },\n    });\n    setSocket(socketInstance);\n\n    return () => socketInstance.disconnect();\n  }, [userId]);\n\n  useEffect(() => {\n    if (!socket || !currentChatId) return;\n    const handleReceiveMessage = (incomingMessage) => {\n      console.log(\"Received via socket:\", incomingMessage);\n      setRoomMessages((prev) => {\n        const existing = prev[currentChatId] || [];\n        return {\n          ...prev,\n          [currentChatId]: [\n            ...existing,\n            { ...incomingMessage, fromUser: false },\n          ].sort((a, b) => new Date(a.created_at) - new Date(b.created_at)),\n        };\n      });\n    };\n    socket.on(\"receive-message\", handleReceiveMessage);\n    return () => {\n      socket.off(\"receive-message\", handleReceiveMessage);\n    };\n  }, [socket, currentChatId]);\n\n  // For the currently selected chat, we show that chat's messages or an empty array\n  const currentChatMessages = roomMessages[currentChatId] || [];\n  const currentChat = chats.find((c) => c.id === currentChatId) || null;\n\n  // 1. Load all chats for the sidebar (no GET for messages, just for chats)\n  useEffect(() => {\n    const fetchChats = async () => {\n      try {\n        const allChats = await axios.get(\n          `${API_BASE_URL}/chatroom/user/${userId}`\n        );\n        const newChats =\n          allChats.data?.chatRooms.map((chat) => chat.chatRoom) || [];\n\n        console.log(\"Chats from server:\", newChats);\n        // Mark unread\n        const statuses = await Promise.all(\n          newChats.map((chat) =>\n            axios.get(\n              `${API_BASE_URL}/chatroom/${chat.id}/readStatus/${userId}`\n            )\n          )\n        );\n\n        newChats.forEach((chat, index) => {\n          chat.unread = statuses[index].data.unread;\n        });\n\n        setChats([...chats, ...newChats]);\n      } catch (err) {\n        showToastError(err.response?.data?.message);\n      }\n    };\n\n    fetchChats();\n    setCurrentChatId(urlChatId);\n  }, [userId]);\n\n  // 2. Filter chats for sidebar\n\n  const [filteredChats, setFilteredChats] = useState(chats);\n  useEffect(() => {\n    let filtered = [...chats];\n\n    if (searchTerm) {\n      filtered = filtered.filter(\n        (chat) =>\n          chat.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n          chat.lastMessage.toLowerCase().includes(searchTerm.toLowerCase())\n      );\n    }\n\n    if (activeFilter === \"unread\") {\n      filtered = filtered.filter((chat) => chat.unread);\n    }\n\n    setFilteredChats(filtered);\n  }, [chats, activeFilter, searchTerm]);\n\n  // 4. Send message => POST to the server, but also emit via socket\n  const handleSendMessage = async () => {\n    //console.log(\"handleSendMessage was called, currentChatId=\", currentChatId);\n    if (!newMessage.trim() || !currentChatId) return;\n\n    try {\n      const response = await axios.post(\n        `${API_BASE_URL}/rooms/${currentChatId}/messages`,\n        { text: newMessage, userId: userId }\n      );\n      console.log(response.status, response.data);\n\n      const savedMessage = response.data;\n      savedMessage.fromUser = true;\n      savedMessage.created_at = new Date();\n\n      setRoomMessages((prev) => {\n        const existingArray = prev[currentChatId] || [];\n        return {\n          ...prev,\n          [currentChatId]: [...existingArray, savedMessage].sort(\n            (a, b) => new Date(a.created_at) - new Date(b.created_at)\n          ),\n        };\n      });\n\n      const messageToSend = {\n        content: savedMessage.content,\n        sender: userId || \"Unknown\",\n        senderColor: savedMessage.senderColor || \"#ccc\",\n        created_at: new Date(),\n      };\n\n      if (!socket) {\n        console.log(\"No socket reference, cannot emit!\");\n      } else {\n        socket.emit(\"send-message\", messageToSend, currentChatId);\n      }\n\n      setNewMessage(\"\");\n\n      const updated = chats.map((chat) =>\n        chat.id === currentChatId\n          ? { ...chat, lastMessage: `You: ${newMessage}`, time: \"now\" }\n          : chat\n      );\n      setChats(updated);\n    } catch (error) {\n      console.error(error);\n      showToastError(error.response?.data?.error || \"Error sending message\");\n    }\n  };\n\n  // Handle file upload\n  const handleFileUpload = async (file) => {\n    if (!currentChatId) return;\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const uploadResponse = await axios.post('${API_BASE_URL}/chatroom/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      const { fileUrl, fileType, originalName } = uploadResponse.data;\n\n      // Send message with file URL\n      const response = await axios.post(\n        `${API_BASE_URL}/rooms/${currentChatId}/messages`,\n        {\n          text: fileType === 'image' ? `Image: ${originalName}` : `File: ${originalName}`,\n          userId: userId,\n          file_url: fileUrl,\n          file_type: fileType\n        }\n      );\n\n      const savedMessage = response.data;\n      savedMessage.fromUser = true;\n      savedMessage.created_at = new Date();\n\n      setRoomMessages((prev) => {\n        const existingArray = prev[currentChatId] || [];\n        return {\n          ...prev,\n          [currentChatId]: [...existingArray, savedMessage].sort(\n            (a, b) => new Date(a.created_at) - new Date(b.created_at)\n          ),\n        };\n      });\n\n      const messageToSend = {\n        content: savedMessage.content,\n        sender: userId || \"Unknown\",\n        senderColor: savedMessage.senderColor || \"#ccc\",\n        created_at: new Date(),\n        file_url: fileUrl,\n        file_type: fileType,\n      };\n\n      if (socket) {\n        socket.emit(\"send-message\", messageToSend, currentChatId);\n      }\n\n      const updated = chats.map((chat) =>\n        chat.id === currentChatId\n          ? { ...chat, lastMessage: `You: ${fileType === 'image' ? 'Image' : 'File'}`, time: \"now\" }\n          : chat\n      );\n      setChats(updated);\n    } catch (error) {\n      console.error(error);\n      showToastError(error.response?.data?.error || \"Error uploading file\");\n    }\n  };\n\n  // Handle image upload (similar to file upload)\n  const handleImageUpload = async (file) => {\n    await handleFileUpload(file);\n  };\n\n  // 5. Create a new chat => POST to the server (no GET for messages)\n  const handleCreateChat = async (chatData) => {\n    const data = {\n      name: chatData.name,\n      description: chatData.description || \"\",\n      adminId: userId,\n      avatarColor: `bg-${\n        [\"green\", \"purple\", \"cyan\", \"yellow\", \"blue\"][\n          Math.floor(Math.random() * 5)\n        ]\n      }-400`,\n      avatarText: chatData.name.charAt(0).toUpperCase(),\n      lastMessage: \"Start a conversation...\",\n    };\n\n    try {\n      const response = await axios.post(\"${API_BASE_URL}/chatroom\", data);\n      if (response.status === 201) {\n        const newChat = response.data?.chatroom;\n        newChat.unread = true;\n        setChats((prev) => [newChat, ...prev]);\n        setCurrentChatId(newChat.id);\n\n        // Optionally join the new room\n        if (socket) {\n          socket.emit(\"joinRoom\", newChat.id);\n        }\n\n        // Start with an empty array for the new chat\n        setRoomMessages((prev) => ({\n          ...prev,\n          [newChat.id]: [],\n        }));\n      }\n    } catch (err) {\n      showToastError(err.response?.data?.message);\n      console.log(err);\n    }\n\n    if (window.innerWidth < 768) {\n      setShowSidebar(false);\n    }\n  };\n\n  // 6. Auto-scroll\n  useEffect(() => {\n    const container = messageContainerRef.current;\n    if (!container) return;\n\n    // Check if it's a new chat or initial load\n    const isNewChatOrInitialLoad =\n      currentChatMessages.length > 0 &&\n      (!lastScrollChatId || lastScrollChatId !== currentChatId);\n\n    // Only auto-scroll if we're already near the bottom or it's a new chat\n    const isNearBottom =\n      container.scrollHeight - container.scrollTop - container.clientHeight <\n      100;\n\n    if ((isNearBottom || isNewChatOrInitialLoad) && !isPrepending) {\n      container.scrollTop = container.scrollHeight;\n    }\n  }, [currentChatMessages, isPrepending, currentChatId, lastScrollChatId]);\n\n  useEffect(() => {\n    const container = messageContainerRef.current;\n    if (container) {\n      // Scroll to the very bottom\n      container.scrollTop = container.scrollHeight;\n    }\n  }, [currentChatId]);\n\n  // 7. Handle selecting a chat\n  const handleChatClick = async (chatId) => {\n    setLastScrollChatId(currentChatId);\n    setCurrentChatId(chatId);\n    // setIsMessagesLoaded(false);\n    navigate(`/Chat/${chatId}`);\n    // Mark as read\n    setChats((prev) =>\n      prev.map((chat) =>\n        chat.id === chatId && chat.unread ? { ...chat, unread: false } : chat\n      )\n    );\n\n    await axios.put(\n      `${API_BASE_URL}/chatroom/${chatId}/readStatus/${userId}`\n    );\n\n    // Join the room if using Socket for presence\n    if (socket) {\n      socket.emit(\"joinRoom\", chatId);\n    }\n\n    // On mobile, hide sidebar after selecting\n    if (window.innerWidth < 768) {\n      setShowSidebar(false);\n    }\n\n    // Fetch initial messages (if not already loaded)\n    if (!roomMessages[chatId]) {\n      console.log(\"Enter function fetch initial messages.\");\n      console.log(`${API_BASE_URL}/chatroom/${chatId}/messages`);\n\n      try {\n        const res = await axios.get(\n          `${API_BASE_URL}/chatroom/${chatId}/messages`,\n          {\n            params: {\n              cursor: null,\n            },\n          }\n        );\n\n        setRoomMessages((prev) => ({\n          ...prev,\n          // [chatId]: res.data.messages,\n          [chatId]: res.data.messages\n            .filter((message) => message.chat_id === chatId)\n            .sort((a, b) => new Date(a.created_at) - new Date(b.created_at)),\n        }));\n\n        // setRoomMessages((prev) => {\n        //   const existing = prev[chatId] || [];\n        //   return {\n        //     ...prev,\n        //     [chatId]: [...newMessages, ...existing], // prepend\n        //   };\n        // });\n\n        setMessagePagination((prev) => ({\n          ...prev,\n          [chatId]: {\n            cursor: res.data.cursor,\n            hasMore: res.data.hasMore,\n          },\n        }));\n\n        // setIsMessagesLoaded(true);\n      } catch (err) {\n        console.error(\"Error loading initial messages:\", err);\n        showToastError(\"Failed to load messages\");\n      }\n      console.log(11111);\n    }\n    const container = messageContainerRef.current;\n    if (container) {\n      container.scrollTop = container.scrollHeight - container.clientHeight;\n    }\n    // else {\n    //   setIsMessagesLoaded(true);\n    // }\n  };\n\n  // 8. Handle resizing\n  useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth < 768) {\n        setShowChatInfo(false);\n        if (currentChatId && showSidebar) {\n          setShowSidebar(false);\n        }\n      } else if (window.innerWidth < 1024) {\n        setShowChatInfo(false);\n        setShowSidebar(true);\n      } else {\n        setShowSidebar(true);\n        setShowChatInfo(true);\n      }\n    };\n\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, [currentChatId]);\n\n  // 9. Toggles\n  const toggleSidebar = () => setShowSidebar(!showSidebar);\n  const toggleChatInfo = () => setShowChatInfo(!showChatInfo);\n\n  // 10. Lazy loading for messages\n\n  const loadMoreMessages = async (chatId) => {\n    console.log(chatId, lastScrollChatId);\n\n    const container = messageContainerRef.current;\n    const initialScrollHeight = container.scrollHeight;\n    const initialScrollTop = container.scrollTop;\n\n    if (chatId !== lastScrollChatId) {\n      setLastScrollChatId(currentChatId);\n      console.log(\"RIGHT???\");\n      return;\n    }\n\n    const { cursor, hasMore } = messagePagination[chatId] || {};\n\n    if (hasMore === false) return;\n\n    setIsPrepending(true);\n\n    try {\n      const res = await axios.get(\n        `${API_BASE_URL}/chatroom/${chatId}/messages`,\n        {\n          params: { cursor },\n        }\n      );\n\n      const newMessages = res.data.messages.filter(\n        (message) => message.chat_id === chatId\n      );\n      // .sort((a, b) => new Date(a.created_at) - new Date(b.created_at));\n\n      setRoomMessages((prev) => {\n        const current = prev[chatId] || [];\n        const combinedMessages = [...newMessages, ...current]\n          .filter(\n            (msg, index, self) =>\n              index === self.findIndex((m) => m.id === msg.id)\n          )\n          .sort((a, b) => new Date(a.created_at) - new Date(b.created_at));\n\n        return {\n          ...prev,\n          [chatId]: combinedMessages,\n        };\n      });\n\n      setMessagePagination((prev) => ({\n        ...prev,\n        [chatId]: {\n          cursor: res.data.cursor,\n          hasMore: res.data.hasMore,\n        },\n      }));\n\n      requestAnimationFrame(() => {\n        if (container) {\n          const newScrollHeight = container.scrollHeight;\n          container.scrollTop =\n            newScrollHeight - initialScrollHeight + initialScrollTop;\n        }\n      });\n    } catch (err) {\n      console.error(\"Failed to load older messages:\", err);\n      showToastError(\"Failed to load older messages\");\n    } finally {\n      // Reset prepending state\n      setIsPrepending(false);\n    }\n  };\n\n  // const loadMoreMessages = async (chatId) => {\n  //   if (chatId !== currentChatId) {\n  //     return;\n  //   }\n\n  //   const { cursor, hasMore } = messagePagination[chatId] || {};\n  //   if (hasMore === false) return;\n\n  //   setIsPrepending(true);\n\n  //   try {\n  //     const res = await axios.get(\n  //       `${API_BASE_URL}/chatroom/${chatId}/messages`,\n  //       {\n  //         params: { cursor },\n  //       }\n  //     );\n\n  //     const newMessages = res.data.messages;\n\n  //     // setRoomMessages((prev) => ({\n  //     //   ...prev,\n  //     //   [chatId]: res.data.messages.filter(\n  //     //     (message) => message.chat_id === chatId\n  //     //   ),\n  //     // }));\n\n  //     setRoomMessages((prev) => {\n  //       const current = prev[chatId] || [];\n  //       console.log(\"current\", current);\n  //       console.log(\"new messages\", newMessages);\n  //       console.log(\"Chat ID FJAKLFJ:\", chatId);\n\n  //       return {\n  //         ...prev,\n  //         [chatId]: [...newMessages, ...current],\n  //       };\n  //     });\n\n  //     setMessagePagination((prev) => ({\n  //       ...prev,\n  //       [chatId]: {\n  //         cursor: res.data.cursor,\n  //         hasMore: res.data.hasMore,\n  //       },\n  //     }));\n  //   } catch (err) {\n  //     console.error(\"Failed to load older messages:\", err);\n  //   } finally {\n  //     setIsPrepending(false);\n  //   }\n  // };\n\n  // 11. Handle join request\n  const handleJoinRequest = async (userName) => {\n    console.log(\n      `User ${userName} requested to join chat ${invitedChatDetails?.name}`\n    );\n\n    const requestedId = invitedChatDetails.id;\n\n    // update in backend\n    try {\n      await axios.post(\n        `${API_BASE_URL}/chatroom/${requestedId}/request`,\n        {\n          userId: userId,\n        }\n      );\n    } catch (err) {\n      console.log(\"Error in updating joining request: \", err.message);\n    }\n\n    const newChat = {\n      ...invitedChatDetails,\n      id: Date.now(),\n      status: \"pending\",\n      messages: [\n        {\n          id: Date.now(),\n          content: `You requested to join ${invitedChatDetails.name}. Waiting for approval...`,\n          fromUser: false,\n          sender: \"System\",\n          senderColor: \"bg-gray-400\",\n          created_at: new Date(),\n        },\n      ],\n    };\n\n    setChats([newChat, ...chats]);\n    setCurrentChatId(newChat.id);\n    setShowJoinRequest(false);\n  };\n\n  // 12. Handle cancel join request\n  const handleCancelJoinRequest = () => {\n    setShowJoinRequest(false);\n\n    if (chats.length > 0) {\n      setCurrentChatId(urlChatId);\n    } else {\n      setCurrentChatId(null);\n    }\n  };\n\n  // 13. Render main content: ChatWindow\n  const renderMainContent = () => {\n    if (!currentChatId || !urlChatId) {\n      return <EmptyState />;\n    }\n\n    if (currentChat?.status === \"pending\") {\n      return <WaitingApproval chatName={currentChat.name} />;\n    }\n\n    return (\n      <ChatWindow\n        // messages={currentChat?.messages || []}\n        messages={roomMessages[currentChatId] || []}\n        // isTyping={isTyping}\n        currentChat={currentChat}\n        newMessage={newMessage}\n        setNewMessage={setNewMessage}\n        onSendMessage={handleSendMessage}\n        messageContainerRef={messageContainerRef}\n        toggleSidebar={toggleSidebar}\n        toggleChatInfo={toggleChatInfo}\n        showSidebar={showSidebar}\n        showChatInfo={showChatInfo}\n        onLoadMoreMessages={loadMoreMessages}\n        currentUserId={userId}\n        onFileUpload={handleFileUpload}\n        onImageUpload={handleImageUpload}\n      />\n    );\n  };\n\n  if (showJoinRequest && invitedChatDetails) {\n    return (\n      <div className=\"flex flex-col h-screen bg-gray-100\">\n        <NavBar />\n        <div className=\"flex flex-1 overflow-hidden\">\n          {showSidebar && (\n            <Sidebar\n              chats={filteredChats}\n              originalChats={chats}\n              setOriginalChats={setChats}\n              currentChatId={currentChatId}\n              onChatClick={handleChatClick}\n              searchTerm={searchTerm}\n              setSearchTerm={setSearchTerm}\n              activeFilter={activeFilter}\n              setActiveFilter={setActiveFilter}\n              onNewChat={() => setIsNewChatModalOpen(true)}\n            />\n          )}\n          <RequestJoin\n            chatName={invitedChatDetails.name}\n            onJoinRequest={handleJoinRequest}\n            onCancel={handleCancelJoinRequest}\n          />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col h-screen bg-gray-100\">\n      <NavBar />\n\n      <div className=\"flex flex-1 overflow-hidden\">\n        {showSidebar && (\n          <Sidebar\n            chats={filteredChats}\n            originalChats={chats}\n            setOriginalChats={setChats}\n            currentChatId={currentChatId}\n            onChatClick={handleChatClick}\n            searchTerm={searchTerm}\n            setSearchTerm={setSearchTerm}\n            activeFilter={activeFilter}\n            setActiveFilter={setActiveFilter}\n            onNewChat={() => setIsNewChatModalOpen(true)}\n          />\n        )}\n\n        {renderMainContent()}\n\n        {urlChatId &&\n          showChatInfo &&\n          currentChatId &&\n          currentChat?.status !== \"pending\" && (\n            <ChatInfo\n              chatId={currentChatId}\n              setCurrentChatId={setCurrentChatId}\n              originalChats={chats}\n              setOriginalChats={setChats}\n            />\n          )}\n      </div>\n\n      <NewChatModal\n        isOpen={isNewChatModalOpen}\n        onClose={() => setIsNewChatModalOpen(false)}\n        onCreateChat={handleCreateChat}\n      />\n    </div>\n  );\n};\n\nexport default ChatRoom;\n","size_bytes":27895},"src/components/chatroom/ReusableComponents.jsx":{"content":"const AvatarChat = ({ color, text, size = \"md\", url }) => {\n  const sizeClasses = {\n    sm: \"h-8 w-8\",\n    md: \"h-10 w-10\",\n    lg: \"h-12 w-12\",\n  };\n\n  if (!color) {\n    color = [\n      \"bg-green-400\",\n      \"bg-blue-400\",\n      \"bg-cyan-400\",\n      \"bg-yellow-400\",\n      \"bg-purple-400\",\n    ][Math.floor(Math.random() * 5)];\n  }\n\n  return url ? (\n    <img\n      src={url}\n      alt=\"Avatar\"\n      className={`${sizeClasses[size]} rounded-full object-cover`}\n    />\n  ) : (\n    <div\n      className={`${color} ${sizeClasses[size]} rounded-full flex items-center justify-center text-white font-bold`}\n    >\n      <span>{text}</span>\n    </div>\n  );\n};\n\nconst AvatarPerson = ({ size = \"md\", person }) => {\n  // console.log(person);\n  \n\n  const sizeClasses = {\n    sm: \"h-8 w-8\",\n    md: \"h-10 w-10\",\n    lg: \"h-12 w-12\",\n  };\n\n  return person ? (\n    <img\n      src={person?.profile_picture}\n      alt=\"Avatar\"\n      className={`${sizeClasses[size]} rounded-full object-cover`}\n    />\n  ) : (\n    <div\n      className={`${sizeClasses[size]} rounded-full flex items-center justify-center text-white font-bold`}\n    >\n      <span>{person?.given_name}</span>\n    </div>\n  );\n};\n\nconst IconButton = ({ icon, onClick, color = \"text-gray-600\" }) => {\n  return (\n    <button\n      className={`p-2 rounded-full hover:bg-gray-100 transition duration-200 ${color}`}\n      onClick={onClick}\n    >\n      {icon}\n    </button>\n  );\n};\n\nconst TabButton = ({ text, isActive, onClick }) => {\n  return (\n    <button\n      className={`font-['Montserrat'] px-4 py-1 text-sm font-semibold rounded-full ${\n        isActive ? \"bg-[#FFD254]\" : \"bg-white border border-gray-300\"\n      }`}\n      onClick={onClick}\n    >\n      {text}\n    </button>\n  );\n};\n\nexport { AvatarChat, AvatarPerson, IconButton, TabButton };\n","size_bytes":1791},"src/components/home/Contact.jsx":{"content":"import React, { useState, useRef } from \"react\";\nimport emailjs from \"@emailjs/browser\";\nimport { Button, Input, Card } from \"../ui\";\nimport { FaEnvelope, FaUser, FaCheckCircle } from \"react-icons/fa\";\n\nconst Contact = () => {\n  const [formData, setFormData] = useState({\n    name: \"\",\n    email: \"\",\n    message: \"\",\n  });\n\n  const [formStatus, setFormStatus] = useState({\n    submitted: false,\n    loading: false,\n    error: false,\n    message: \"\",\n  });\n\n  const form = useRef();\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const sendEmail = (e) => {\n    e.preventDefault();\n    setFormStatus({ ...formStatus, loading: true });\n\n    emailjs\n      .sendForm(\n        import.meta.env.VITE_EMAILJS_SERVICE_ID,\n        import.meta.env.VITE_EMAILJS_TEMPLATE_ID,\n        form.current,\n        {\n          publicKey: import.meta.env.VITE_EMAILJS_PUBLIC_KEY,\n        }\n      )\n      .then(\n        () => {\n          setFormStatus({\n            submitted: true,\n            loading: false,\n            error: false,\n            message: \"Thank you for your message! We'll get back to you soon.\",\n          });\n          setFormData({ name: \"\", email: \"\", message: \"\" });\n        },\n        (error) => {\n          console.log(\"FAILED...\", error.text);\n          setFormStatus({\n            submitted: false,\n            loading: false,\n            error: true,\n            message: \"Something went wrong. Please try again.\",\n          });\n        }\n      );\n  };\n\n  return (\n    <div className=\"py-24 bg-gradient-to-b from-neutral-50 to-white\">\n      <div className=\"section-container\">\n        <div className=\"grid lg:grid-cols-2 gap-12 items-center\">\n          {/* Left Content */}\n          <div className=\"space-y-6\">\n            <div className=\"inline-flex items-center space-x-2 px-4 py-2 bg-primary-50 rounded-full\">\n              <span className=\"text-sm font-semibold text-primary-700\">Contact Us</span>\n            </div>\n\n            <h2 className=\"text-4xl md:text-5xl font-bold text-neutral-900\">\n              Get in Touch\n              <br />\n              <span className=\"text-gradient\">With Our Team</span>\n            </h2>\n\n            <p className=\"text-xl text-neutral-600 leading-relaxed\">\n              Have questions or feedback about our Auto-Translator Chat Room? We'd love to hear from you!\n            </p>\n\n            <div className=\"space-y-4 pt-4\">\n              <Card variant=\"outline\" padding={false} className=\"p-6\">\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"p-3 bg-primary-50 rounded-xl\">\n                    <FaEnvelope className=\"text-xl text-primary-600\" />\n                  </div>\n                  <div>\n                    <div className=\"font-semibold text-neutral-900 mb-1\">Email</div>\n                    <div className=\"text-neutral-600\">support@chatlas.com</div>\n                  </div>\n                </div>\n              </Card>\n\n              <Card variant=\"outline\" padding={false} className=\"p-6\">\n                <div className=\"flex items-start space-x-4\">\n                  <div className=\"p-3 bg-accent-50 rounded-xl\">\n                    <FaUser className=\"text-xl text-accent-600\" />\n                  </div>\n                  <div>\n                    <div className=\"font-semibold text-neutral-900 mb-1\">Support</div>\n                    <div className=\"text-neutral-600\">24/7 customer support available</div>\n                  </div>\n                </div>\n              </Card>\n            </div>\n          </div>\n\n          {/* Right Form */}\n          <Card variant=\"elevated\" className=\"p-8\">\n            {formStatus.submitted ? (\n              <div className=\"text-center py-12 space-y-4\">\n                <div className=\"w-16 h-16 bg-success/10 rounded-full flex items-center justify-center mx-auto\">\n                  <FaCheckCircle className=\"text-3xl text-success\" />\n                </div>\n                <h3 className=\"text-2xl font-bold text-neutral-900\">Message Sent!</h3>\n                <p className=\"text-neutral-600\">{formStatus.message}</p>\n                <Button\n                  variant=\"ghost\"\n                  onClick={() => setFormStatus({ submitted: false, loading: false, error: false, message: \"\" })}\n                >\n                  Send Another Message\n                </Button>\n              </div>\n            ) : (\n              <form ref={form} onSubmit={sendEmail} className=\"space-y-6\">\n                <div>\n                  <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                    Your Name\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={handleChange}\n                    placeholder=\"John Doe\"\n                    className=\"input-modern\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                    Email Address\n                  </label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={handleChange}\n                    placeholder=\"you@example.com\"\n                    className=\"input-modern\"\n                    required\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                    Message\n                  </label>\n                  <textarea\n                    name=\"message\"\n                    value={formData.message}\n                    onChange={handleChange}\n                    placeholder=\"Tell us how we can help you...\"\n                    rows=\"5\"\n                    className=\"input-modern resize-none\"\n                    required\n                  />\n                </div>\n\n                {formStatus.error && (\n                  <div className=\"p-4 bg-error/10 text-error rounded-xl text-sm\">\n                    {formStatus.message}\n                  </div>\n                )}\n\n                <Button\n                  type=\"submit\"\n                  variant=\"gradient\"\n                  size=\"lg\"\n                  fullWidth\n                  loading={formStatus.loading}\n                >\n                  Send Message\n                </Button>\n              </form>\n            )}\n          </Card>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Contact;\n","size_bytes":6694},"backend/server.js":{"content":"const http = require(\"http\");\nconst app = require('./app');\nconst { Server } = require(\"socket.io\");\n\nconst server = http.createServer(app);\nconst io = new Server(server, {\n  cors: {\n    origin: \"*\",\n  },\n});\n\nconst port = process.env.PORT || 3000;\nconst db = require('./config/db.config');\n\napp.set(\"socketio\", io);\n\nio.use((socket, next) => {\n  const userId = socket.handshake.auth.userId;\n  socket.userId = userId;\n  next();\n});\n\nio.on(\"connection\", (socket) => {\n  console.log(\"Client connected with userId:\", socket.userId);\n\n  socket.on(\"joinRoom\", (roomId) => {\n    socket.join(roomId);\n    console.log(`Socket ${socket.userId} joined room ${roomId}`);\n  });\n  socket.on (\"send-message\", (message, roomID) => {\n    if (roomID === \"\"){\n      socket.broadcast.emit(\"receive-message\", message);\n    } else {\n      socket.to(roomID).emit(\"receive-message\", message);\n    }\n  });\n  socket.on(\"disconnect\", () => {\n    console.log(\"Client disconnected:\", socket.id);\n  });\n});\n\nserver.listen(port, () => {\n  console.log(`Server running on port ${port}...`);\n});\n","size_bytes":1063},"backend/start-backend.sh":{"content":"#!/bin/bash\n\n# MySQL configuration\nMYSQL_DIR=\"/home/runner/.mysql\"\nSOCKET_PATH=\"/tmp/mysql.sock\"\nPID_FILE=\"/tmp/mysql.pid\"\n\n# Function to check if MySQL is running\nis_mysql_running() {\n    if [ -f \"$PID_FILE\" ] && ps -p $(cat \"$PID_FILE\") > /dev/null 2>&1; then\n        return 0\n    fi\n    return 1\n}\n\n# Start MySQL if not already running\nif ! is_mysql_running; then\n    echo \"Starting MySQL server...\"\n    \n    # Check if data directory exists and is initialized\n    if [ ! -d \"$MYSQL_DIR/mysql\" ]; then\n        echo \"MySQL data directory not initialized. Database will not be available.\"\n        echo \"Please note: MySQL initialization has issues in this environment.\"\n    else\n        # Try to start MySQL server\n        mysqld --datadir=\"$MYSQL_DIR\" \\\n            --socket=\"$SOCKET_PATH\" \\\n            --pid-file=\"$PID_FILE\" \\\n            --bind-address=127.0.0.1 \\\n            --port=3306 \\\n            --skip-networking=0 \\\n            --innodb_use_native_aio=0 &\n        \n        # Wait a bit for MySQL to start\n        sleep 3\n    fi\nfi\n\n# Start the backend server\necho \"Starting backend server...\"\ncd /home/runner/Azure_Hack_FE/backend\nnpm start\n","size_bytes":1155},"src/main.jsx":{"content":"import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport \"./index.css\";\nimport App from \"./App.jsx\";\n\ncreateRoot(document.getElementById(\"root\")).render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n","size_bytes":233},"src/styles.js":{"content":"const styles = {\n  paddingX: \"px-4 sm:px-6 lg:px-8\",\n  paddingY: \"py-12 md:py-16 lg:py-20\",\n  paddingSection: \"py-16 md:py-20 lg:py-24\",\n  \n  sectionContainer: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n  \n  heroTitle: \"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold tracking-tight\",\n  displayXl: \"text-display-xl font-bold\",\n  displayLg: \"text-display-lg font-bold\",\n  displayMd: \"text-display-md font-semibold\",\n  displaySm: \"text-display-sm font-semibold\",\n  \n  headingXl: \"text-3xl md:text-4xl lg:text-5xl font-bold tracking-tight\",\n  headingLg: \"text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight\",\n  headingMd: \"text-xl md:text-2xl lg:text-3xl font-semibold\",\n  headingSm: \"text-lg md:text-xl lg:text-2xl font-semibold\",\n  \n  bodyLg: \"text-base md:text-lg text-neutral-600\",\n  bodyMd: \"text-sm md:text-base text-neutral-600\",\n  bodySm: \"text-xs md:text-sm text-neutral-600\",\n  \n  btnPrimary: \"btn-primary\",\n  btnSecondary: \"btn-secondary\",\n  btnGhost: \"btn-ghost\",\n  \n  inputModern: \"input-modern\",\n  cardModern: \"card-modern\",\n  \n  glass: \"glass\",\n  glassDark: \"glass-dark\",\n  \n  gradientPrimary: \"gradient-primary\",\n  gradientAccent: \"gradient-accent\",\n  gradientMesh: \"gradient-mesh\",\n  textGradient: \"text-gradient\",\n  \n  transitionSmooth: \"transition-smooth\",\n  transitionQuick: \"transition-quick\",\n  \n  shadowSoft: \"shadow-soft\",\n  shadowMedium: \"shadow-medium\",\n  shadowLarge: \"shadow-large\",\n};\n\nexport { styles };\n","size_bytes":1443},"backend/controllers/userController.js":{"content":"","size_bytes":0},"src/pages/Home.jsx":{"content":"import React, { useRef } from \"react\";\nimport Footer from \"../components/Footer\";\nimport Feature from \"../components/home/Feature\";\nimport Hero from \"../components/home/Hero\";\nimport Mission from \"../components/home/Mission\";\nimport Service from \"../components/home/Service\";\nimport NavBar from \"../components/NavBar\";\nimport Contact from \"../components/home/Contact\";\n\nconst Home = () => {\n  const serviceRef = useRef(null);\n\n  return (\n    <div>\n      <NavBar />\n      <Hero serviceRef={serviceRef} />\n      <Mission />\n      <Service ref={serviceRef} />\n      <Feature />\n      <Contact />\n      <Footer />\n    </div>\n  );\n};\n\nexport default Home;\n","size_bytes":651},"src/components/home/Hero.jsx":{"content":"import React from \"react\";\nimport { hero } from \"../../assets\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"../ui\";\nimport { FaArrowRight, FaPlay } from \"react-icons/fa\";\n\nconst Hero = ({ serviceRef }) => {\n  const navigate = useNavigate();\n\n  const scrollToServiceSection = () => {\n    if (serviceRef && serviceRef.current) {\n      serviceRef.current.scrollIntoView({ behavior: \"smooth\" });\n    }\n  };\n\n  return (\n    <div className=\"relative min-h-screen flex items-center overflow-hidden\">\n      {/* Gradient Mesh Background */}\n      <div className=\"absolute inset-0 gradient-mesh\"></div>\n      \n      {/* Animated gradient blobs */}\n      <div className=\"absolute top-20 -left-20 w-96 h-96 bg-primary-400/20 rounded-full blur-3xl animate-pulse\"></div>\n      <div className=\"absolute bottom-20 -right-20 w-96 h-96 bg-accent-400/20 rounded-full blur-3xl animate-pulse delay-1000\"></div>\n\n      <div className=\"section-container relative z-10 py-20 lg:py-32\">\n        <div className=\"grid lg:grid-cols-2 gap-12 lg:gap-20 items-center\">\n          {/* Left Content */}\n          <div className=\"space-y-8 animate-slide-up\">\n            <div className=\"inline-flex items-center space-x-2 px-4 py-2 bg-white/80 backdrop-blur-md rounded-full shadow-soft\">\n              <div className=\"w-2 h-2 bg-success rounded-full animate-pulse\"></div>\n              <span className=\"text-sm font-medium text-neutral-700\">Chat with 10,000+ users worldwide</span>\n            </div>\n\n            <h1 className=\"text-5xl sm:text-6xl lg:text-7xl font-bold text-neutral-900 leading-tight\">\n              Connect{\" \"}\n              <span className=\"text-gradient\">\n                globally\n              </span>{\" \"}\n              with instant\n              <br />\n              translations\n            </h1>\n\n            <p className=\"text-xl text-neutral-600 max-w-xl\">\n              Experience seamless communication across 140+ languages with AI-powered real-time translation. \n              Break down language barriers and connect with anyone, anywhere.\n            </p>\n\n            <div className=\"flex flex-col sm:flex-row gap-4 pt-4\">\n              <Button\n                variant=\"gradient\"\n                size=\"lg\"\n                onClick={() => navigate(\"/Chat\")}\n                icon={<FaArrowRight />}\n                className=\"text-lg shadow-glow\"\n              >\n                Get Started Free\n              </Button>\n\n              <Button\n                variant=\"ghost\"\n                size=\"lg\"\n                onClick={scrollToServiceSection}\n                icon={<FaPlay />}\n              >\n                Watch Demo\n              </Button>\n            </div>\n\n            {/* Stats */}\n            <div className=\"flex items-center space-x-8 pt-8\">\n              <div>\n                <div className=\"text-3xl font-bold text-neutral-900\">140+</div>\n                <div className=\"text-sm text-neutral-600\">Languages</div>\n              </div>\n              <div className=\"w-px h-12 bg-neutral-200\"></div>\n              <div>\n                <div className=\"text-3xl font-bold text-neutral-900\">10K+</div>\n                <div className=\"text-sm text-neutral-600\">Active Users</div>\n              </div>\n              <div className=\"w-px h-12 bg-neutral-200\"></div>\n              <div>\n                <div className=\"text-3xl font-bold text-neutral-900\">99.9%</div>\n                <div className=\"text-sm text-neutral-600\">Uptime</div>\n              </div>\n            </div>\n          </div>\n\n          {/* Right Image */}\n          <div className=\"relative animate-fade-in\">\n            <div className=\"relative z-10\">\n              <img\n                src={hero}\n                alt=\"Chatlas Platform\"\n                className=\"w-full h-auto drop-shadow-2xl\"\n              />\n            </div>\n            \n            {/* Floating elements */}\n            <div className=\"absolute top-10 -left-6 glass p-4 rounded-2xl shadow-large animate-[float_3s_ease-in-out_infinite]\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center\">\n                  <span className=\"text-xl\">🌍</span>\n                </div>\n                <div>\n                  <div className=\"text-sm font-medium\">Global Reach</div>\n                  <div className=\"text-xs text-neutral-500\">Connect worldwide</div>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"absolute bottom-10 -right-6 glass p-4 rounded-2xl shadow-large animate-[float_3s_ease-in-out_infinite_1s]\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-accent-100 rounded-full flex items-center justify-center\">\n                  <span className=\"text-xl\">⚡</span>\n                </div>\n                <div>\n                  <div className=\"text-sm font-medium\">Real-time</div>\n                  <div className=\"text-xs text-neutral-500\">Instant translation</div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Hero;\n","size_bytes":5216},"backend/controllers/roomController.js":{"content":"const { PrismaClient } = require(\"@prisma/client\");\nconst prisma = new PrismaClient();\nconst { v4: uuidv4 } = require('uuid');\nconst MemberStatus = require('../utils/room');\nconst { checkAdmin, getUser } = require('../utils/helper');\nconst multer = require('multer');\nconst path = require('path');\nconst fs = require('fs');\n\n// Configure multer for file uploads\nconst storage = multer.diskStorage({\n  destination: (req, file, cb) => {\n    const uploadDir = path.join(__dirname, '../uploads');\n    if (!fs.existsSync(uploadDir)) {\n      fs.mkdirSync(uploadDir, { recursive: true });\n    }\n    cb(null, uploadDir);\n  },\n  filename: (req, file, cb) => {\n    const uniqueName = uuidv4() + path.extname(file.originalname);\n    cb(null, uniqueName);\n  }\n});\n\nconst upload = multer({\n  storage,\n  limits: { fileSize: 10 * 1024 * 1024 }, // 10MB limit\n  fileFilter: (req, file, cb) => {\n    const allowedTypes = /jpeg|jpg|png|gif|pdf|doc|docx|txt/;\n    const extname = allowedTypes.test(path.extname(file.originalname).toLowerCase());\n    const mimetype = allowedTypes.test(file.mimetype);\n\n    if (mimetype && extname) {\n      return cb(null, true);\n    } else {\n      cb(new Error('Invalid file type'));\n    }\n  }\n});\n\n// create chat room by admin_id\nconst createRoom = async (req, res) => {\n    try {\n        const { name, description, adminId, avatarColor, avatarText, lastMessage } = req.body;\n\n        if (!adminId) {\n            return res.status(400).json({ error: \"admin_id is required.\"})\n        }\n\n        // Check if adminId exists in User table\n        const admin = await prisma.user.findUnique({\n            where: { id: adminId }\n        });\n        if (!admin) {\n            return res.status(400).json({ error: \"Invalid admin ID. User does not exist.\" });\n        }\n\n        if (!name) {\n            return res.status(400).json({ error: \"Chat room name is required.\"})\n        }\n\n        if (!avatarColor || !avatarText) {\n            return res.status(400).json({ error: \"Chat room avatar color and text is required.\"})\n        }\n\n        const id = uuidv4();\n\n        const chatroom = await prisma.chatRoom.create({\n            data: {\n                id,\n                name,\n                description,\n                admin_id: adminId,\n                created_at: new Date(),\n                updated_at: new Date(),\n                avatar_color: avatarColor,\n                avatar_text: avatarText,\n                last_message: lastMessage\n            }\n        });\n\n        await prisma.chatRoomMember.create({\n            data: {\n                user_id: adminId,\n                chat_id: id,\n                status: MemberStatus.APPROVED\n            }\n        });\n\n        await prisma.chatRoomRead.create({\n            data: {\n                user_id: adminId,\n                chat_id: id,\n                unread: true\n            }\n        })\n        \n        return res.status(201).json({ message: \"Chat room created successfully.\", chatroom });\n    }\n    catch (err) {\n        console.error(\"Error creating chat room: \", err.message);\n        return res.status(500).json({ error: \"Internal server error.\"});\n    }\n}\n\n// get chat room details\nconst getChatRoomDetails = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n    \n        const chatRoom = await prisma.chatRoom.findUnique({\n            where: { id: chatId },\n            select: {\n                id: true,\n                name: true,\n                description: true,\n                admin_id: true,\n                avatar_color: true,\n                avatar_text: true,\n                last_message: true,\n                created_at: true,\n                updated_at: true,\n                members: {\n                    select: {\n                        timestamp: true,\n                        status: true,\n                        user: {\n                            select: {\n                            id: true,\n                            given_name: true,\n                            profile_picture: true,\n                            email: true\n                            }\n                        }\n                    }\n                }\n            }\n        });\n  \n\tif (!chatRoom) {\n\t\treturn res.status(404).json({ error: \"Chat room not found\" });\n\t}\n\n\tconst formattedMembers = chatRoom.members.map(member => ({\n\t\tid: member.user.id,\n\t\tgiven_name: member.user.given_name,\n\t\tprofile_picture: member.user.profile_picture,\n\t\tstatus: member.status,\n        timestamp: member.timestamp\n\t}));\n\n\treturn res.json({\n\t\tchatRoom: {\n\t\t\t...chatRoom,\n\t\t\tmembers: formattedMembers\n\t\t}\n\t});\n  \n    } catch (err) {\n      console.error(\"Error fetching chat room details:\", err.message);\n      res.status(500).json({ error: \"Internal server error\" });\n    }\n  };  \n\n// update chat room's description\nconst updateRoomData = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const data = req.body;\n\n        const chatroom = await prisma.chatRoom.update({\n            where: { id: chatId },\n            data: { \n                ...data,\n                updated_at: new Date()\n            }\n        });\n\n        return res.json({ message: \"Chat room's description updated successfully.\", chatroom})\n\n    }\n    catch (err) {\n        console.error(\"Error updating description:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// member request join\nconst requestJoin = async (req, res) => {\n    try {\n        const { chatId } =  req.params;\n        const { userId } = req.body;\n\n        const requested = await prisma.chatRoomMember.findFirst({\n            where: { \n                user_id: userId,\n                chat_id: chatId,\n                status: MemberStatus.PENDING\n            }\n        })\n\n        if (requested == null) {\n            await prisma.chatRoomMember.create({\n                data: { \n                    user_id: userId,\n                    chat_id: chatId,\n                    status: MemberStatus.PENDING\n                }\n            })\n            return res.json({ message: \"Join request sent from \" + userId })\n        }\n        return res.json({ message: userId + \" already sent request to join.\"})\n    }\n    catch (err) {\n        console.error(\"Error requesting to join:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// admin approve member\nconst handleMemberRequest = async (req, res) => {\n    try {\n        const { chatId  } = req.params;\n        const { userId, status } = req.body;\n        \n        if (!checkAdmin(chatId, userId)) {\n            return res.status(400).json({ message: \"Only admin can approve member.\" })\n        }\n\n        if (status == MemberStatus.REJECTED) {\n            await prisma.chatRoomMember.delete({\n                where: { \n                    user_id_chat_id: {\n                        chat_id: chatId, \n                        user_id: userId\n                    }\n                },\n            })\n        }\n        else {\n            await prisma.chatRoomMember.update({\n                where: { \n                    user_id_chat_id: {\n                        chat_id: chatId, \n                        user_id: userId\n                    }\n                },\n                data: { \n                    status: status,\n                    timestamp: new Date()\n                }\n            })\n\n            await prisma.chatRoomRead.create({\n                data: {\n                    user_id: userId,\n                    chat_id: chatId,\n                    unread: true\n                }\n            })\n        }\n\n        return res.json({ message: \"Member approved \" + userId })\n    }\n    catch (err) {\n        console.error(\"Error requesting to join:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// remove member\nconst removeMember = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n\n        if (!checkAdmin(chatId, userId)) {\n            return res.status(400).json({ message: \"Only admin can remove member.\" })\n        }\n\n        await prisma.chatRoomMember.delete({\n            where: {\n                user_id_chat_id: {\n                    chat_id: chatId, \n                    user_id: userId \n                }\n            }\n        });\n\n        return res.json({ message: userId + \" has been removed from chat room\"})\n    }\n    catch (err) {\n        console.error(\"Error removing member:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// leave room (if admin vs if members)\nconst leaveRoom = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n\n        if (checkAdmin(chatId, userId)) {\n            const newAdmin = await prisma.chatRoomMember.findFirst({\n                where: { \n                    chat_id: chatId,\n                    user_id: {\n                        not: userId\n                    },\n                    status: MemberStatus.APPROVED\n                },\n                select: { user_id: true },\n                orderBy: { user_id: \"asc\" } \n            });\n\n            if (newAdmin) {\n                // assign new admin\n                await prisma.chatRoom.update({\n                    where: { id: chatId },\n                    data: { admin_id: newAdmin.user_id }\n                });\n\n                // leave room\n                await prisma.chatRoomMember.delete({\n                    where: { \n                        user_id_chat_id: { \n                            chat_id: chatId, \n                            user_id: userId \n                        } \n                    }\n                });\n\n                await prisma.chatRoomRead.delete({\n                    where: { \n                        user_id_chat_id: { \n                            chat_id: chatId, \n                            user_id: userId \n                        } \n                    }\n                });\n\n            } \n            else {\n                // no members left -> delete the chat room\n                const a = await prisma.chatRoom.findMany({\n                    where: { id: chatId, admin_id: userId },\n                });\n                await prisma.chatRoom.delete({ where: { id: chatId } });\n            }\n        }\n        return res.json({ message: userId + \" has left the chat room\"});\n    }\n    catch (err) {\n        console.error(\"Error leaving room:\", err.message);\n        res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst getReadStatus = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n\n        const response = await prisma.chatRoomRead.findFirst({\n            where: {\n                chat_id: chatId, \n                user_id: userId \n            }\n        });\n        return res.json({ message: \"Chat room read status updated successfully\", unread: response?.unread})\n    }\n    catch (err) {\n        console.error(\"Error loading messages:\", err.message);\n        res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst updateReadStatus = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n\n        await prisma.chatRoomRead.updateMany({\n            where: { \n                chat_id: chatId, \n                user_id: userId\n            },\n            data: { unread: false }\n        });\n        return res.json({message: \"Chat room read status updated.\"})\n    }\n    catch (err) {\n        console.error(\"Error loading messages:\", err.message);\n        res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst loadMessages = async (req, res) => {\n    try {\n        const { chatroomId } = req.params;\n        const cursor = req.query.cursor || null;\n        const limit = 20;\n\n        console.log(cursor)\n    \n        const messages = await prisma.message.findMany({\n            where: { chat_id: chatroomId },\n            orderBy: { created_at: \"desc\" },\n            take: limit,\n            ...(cursor && {\n            skip: 1,\n            cursor: { id: cursor },\n            }),\n            include: {\n            sender: {\n                select: {\n                given_name: true,\n                profile_picture: true,\n                },\n            },\n            },\n        });\n    \n        const oldest = await prisma.message.findFirst({\n            where: { chat_id: chatroomId },\n            orderBy: { created_at: \"asc\" },\n            select: { id: true },\n        });\n    \n        console.log(messages)\n        const hasMore = oldest && !messages.some((msg) => msg.id === oldest?.id);\n        \n        return res.json({\n            messages: messages.reverse(),\n            cursor: hasMore ? messages[0]?.id : null,\n            hasMore,\n        });\n    } catch (err) {\n      console.error(\"Error loading messages:\", err.message);\n      return res.status(500).json({ error: \"Internal server error\" });\n    }\n};\n\n\n// load latest chat rooms for user\nconst loadChatRooms = async (req, res) => {\n    try {\n        const { userId } = req.params;\n        const cursor = req.query.cursor || null;\n        const limit = 10;\n\n        // fetch chat rooms where user is an \"approved\" member\n        const chatRooms = await prisma.chatRoomMember.findMany({\n            where: { \n                user_id: userId, \n                status: MemberStatus.APPROVED\n            },\n            take: limit,\n            cursor: cursor ? { chat_id: cursor, user_id: userId } : undefined, // Cursor for pagination\n            orderBy: { chatRoom: { updated_at: \"desc\" } }, // Sort by latest chat room update\n            include: {\n                chatRoom: {\n                    include: {\n                        messages: {\n                            take: 1, // Fetch only the latest message\n                            orderBy: { created_at: \"asc\" }, // Get the most recent message\n                            select: {\n                                content: true, \n                                created_at: true,\n                                sender: { select: { given_name: true, profile_picture: true } }\n                            }\n                        }\n                    }\n                }\n            }\n        });\n\n        // Get last chat room ID for next request\n        const nextCursor = chatRooms.length === limit ? chatRooms[chatRooms.length - 1].id : null;\n\n        return res.json({\n            chatRooms: chatRooms,\n            cursor: nextCursor, // Use this cursor for next request\n            hasMore: !!nextCursor\n        });\n\n    } catch (err) {\n        console.error(\"Error loading chat rooms:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n};\n\nconst getMembers = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const memsChat = await prisma.chatRoomMember.findMany({\n            where: { \n                chat_id: chatId,\n                status: MemberStatus.APPROVED\n             }\n        });\n\n        const members = await Promise.all(\n            memsChat.map((mem) => getUser(mem.user_id))\n        );          \n        \n        return res.json({message: \"Get chat room members successfully.\", members})\n    }\n    catch (err) {\n        console.error(\"Error loading chat rooms:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst getPendingMembers = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const memsChat = await prisma.chatRoomMember.findMany({\n            where: { \n                chat_id: chatId,\n                status: MemberStatus.PENDING\n            }\n        });\n\n        const members = await Promise.all(\n            memsChat.map((mem) => getUser(mem.user_id))\n        );          \n        \n        return res.json({message: \"Get chat room pending members successfully.\", members})\n    }\n    catch (err) {\n        console.error(\"Error loading chat rooms:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\n// check if admin of chat room\nconst isAdmin = async (req, res) => {\n    try {\n        const { chatId , userId } = req.params;\n        const isAd = await checkAdmin(chatId, userId);\n\n        return res.json({ isAdmin: isAd })\n    }\n    catch (err) {\n        console.error(\"Error checking admin status:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst changeAdmin = async (req, res) => {\n    try {\n        const { chatId } = req.params;\n        const { newAdminId } = req.body;\n\n        await prisma.chatRoom.updateMany({\n            where: {\n                id: chatId\n            },\n            data: {\n                admin_id: newAdminId\n            }\n        })\n        return res.json({message: \"Change admin successfully.\"})\n    }\n    catch (err) {\n        console.error(\"Failed to change new admin:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst isMember = async (req, res) => {\n    try {\n        const { chatId, userId } = req.params;\n        const findMem = await prisma.chatRoomMember.findFirst({\n            where: {\n                chat_id: chatId,\n                user_id: userId,\n                status: 'approved'\n            }\n        });\n\n        console.log(findMem)\n          \n        return res.json({isMember: findMem != null, chatroom: findMem})\n    }\n    catch (err) {\n        console.error(\"Failed to check member status:\", err.message);\n        return res.status(500).json({ error: \"Internal server error\" });\n    }\n}\n\nconst getPendingRooms = async (req, res) => {\n    const { userId } = req.params;\n\n    try {\n        const pendingRooms = await prisma.chatRoomMember.findMany({\n            where: {\n            user_id: userId,\n            status: \"pending\",\n            },\n            include: {\n            chatRoom: true, // include chat room details\n            },\n        });\n\n        const sortedRooms = pendingRooms\n            .filter(r => r.chatRoom) // ensure chatRoom exists\n            .sort((a, b) => new Date(b.chatRoom.updated_at) - new Date(a.chatRoom.updated_at));\n\n        const rooms = sortedRooms.map((entry) => entry.chatRoom);\n\n      return res.json({ pendingRooms: rooms });\n    } catch (err) {\n      console.error(\"Error fetching pending rooms:\", err);\n      return res.status(500).json({ error: \"Internal server error\" });\n    }\n  };\n\n// File upload endpoint\nconst uploadFile = async (req, res) => {\n    try {\n        if (!req.file) {\n            return res.status(400).json({ error: 'No file uploaded' });\n        }\n\n        const fileUrl = `/uploads/${req.file.filename}`;\n        const fileType = req.file.mimetype.startsWith('image/') ? 'image' : 'file';\n\n        return res.json({\n            message: 'File uploaded successfully',\n            fileUrl,\n            fileType,\n            originalName: req.file.originalname\n        });\n    } catch (err) {\n        console.error('Error uploading file:', err.message);\n        return res.status(500).json({ error: 'Internal server error' });\n    }\n};\n\n\nmodule.exports = {\n    createRoom,\n    requestJoin,\n    getChatRoomDetails,\n    loadMessages,\n    loadChatRooms,\n    isAdmin,\n    updateRoomData,\n    handleMemberRequest,\n    removeMember,\n    leaveRoom,\n    getReadStatus,\n    updateReadStatus,\n    getMembers,\n    getPendingMembers,\n    changeAdmin,\n    isMember,\n    getPendingRooms,\n    uploadFile,\n    upload // export multer upload middleware\n}\n","size_bytes":19576},"backend/routes/userRoutes.js":{"content":"const express = require('express');\nconst passport = require('../controllers/passController');\n\nconst { googleLogin } = require('../controllers/googleControler');\nconst authController = require('./../controllers/authController');\nconst router = express.Router();\n\nrouter.post('/signup', authController.signup);\nrouter.post('/login', authController.login);\n\nrouter.get(\n  '/google',\n  passport.authenticate('google', { scope: ['profile', 'email'] })\n);\n\nrouter.get(\n  '/google/callback',\n  passport.authenticate('google', { failureRedirect: '/' }),\n  (req, res) => {\n    res.status(200).json({\n      message: 'Google authentication successful',\n      user: req.user,\n    });\n  }\n);\n\nrouter.get('/google/fail', (req, res) => {\n  res.status(401).json({ message: 'Google authentication failed' });\n});\n\nrouter.post('/google', googleLogin);\nrouter.get('/me', authController.protect, authController.getMe);\nmodule.exports = router;\n","size_bytes":926},"src/pages/Error.jsx":{"content":"import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport NavBar from \"../components/NavBar\";\n\nconst Error = () => {\n  return (\n    <div className=\"flex flex-col h-[100vh] justify-center\">\n      <NavBar />\n      <div className=\"w-full flex justify-center items-center\">\n        <div className=\"flex items-center w-[200px]\">\n          <img\n            src={logo}\n            alt=\"Logo\"\n            className=\"cursor-pointer\"\n            onClick={() => navigate(\"/\")}\n          />\n        </div>\n      </div>\n      <div className=\"flex flex-col items-center justify-center text-center\">\n        <p className=\" lg:text-[4rem] text-[3rem] font-['Montserrat'] font-bold text-[#A30609]\">\n          404{\" \"}\n          <span className=\"md:hidden\">\n            <br />\n          </span>{\" \"}\n          NOT FOUND\n        </p>\n        <p className=\"lg:text-[1.5rem] text-[1rem] text-[#A30609]\">\n          The page you requested does not exist{\" \"}\n          <span className=\"md:hidden\">\n            <br />\n          </span>{\" \"}\n          or has been removed! <br />\n          <div className=\"md:hidden mt-3\" />\n          Please try another link.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default Error;\n","size_bytes":1254},"src/components/home/Service.jsx":{"content":"import React, { forwardRef } from \"react\";\nimport { Card, Button } from \"../ui\";\nimport { earth, serviceOne, translateIcon } from \"../../assets\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaGlobe, FaComments, FaLanguage } from \"react-icons/fa\";\n\nconst Service = forwardRef((props, ref) => {\n  const navigate = useNavigate();\n\n  const services = [\n    {\n      id: \"translate\",\n      icon: <FaLanguage className=\"text-3xl text-primary-600\" />,\n      title: \"Instantly Connect Across Languages\",\n      description: \"Supports over 140 languages for effortless chatting\",\n      buttonText: \"Supported Languages\",\n      image: serviceOne,\n      link: \"https://learn.microsoft.com/en-us/azure/ai-services/translator/language-support\",\n      external: true,\n      featured: true,\n    },\n    {\n      id: \"communicate\",\n      icon: <FaComments className=\"text-3xl text-accent-600\" />,\n      title: \"Real-Time Translations\",\n      description: \"Chat without language barriers, anytime, anywhere\",\n      buttonText: \"Start Chatting\",\n      iconImage: translateIcon,\n      link: \"/Chat\",\n      external: false,\n    },\n    {\n      id: \"engage\",\n      icon: <FaGlobe className=\"text-3xl text-success\" />,\n      title: \"Multiple Language Support\",\n      description: \"Choose your preferred language and start chatting\",\n      buttonText: \"Language Preference\",\n      iconImage: earth,\n      link: \"https://learn.microsoft.com/en-us/azure/ai-services/translator/language-support\",\n      external: true,\n    },\n  ];\n\n  const handleNavigation = (service) => {\n    if (service.external) {\n      window.open(service.link, '_blank');\n    } else {\n      navigate(service.link);\n    }\n  };\n\n  return (\n    <div ref={ref} id=\"services\" className=\"py-24 bg-white\">\n      <div className=\"section-container\">\n        {/* Section Header */}\n        <div className=\"text-center max-w-3xl mx-auto mb-16 space-y-4\">\n          <div className=\"inline-flex items-center space-x-2 px-4 py-2 bg-accent-50 rounded-full\">\n            <span className=\"text-sm font-semibold text-accent-700\">Services</span>\n          </div>\n          <h2 className=\"text-4xl md:text-5xl font-bold text-neutral-900\">\n            Everything you need to\n            <br />\n            <span className=\"text-gradient\">communicate globally</span>\n          </h2>\n        </div>\n\n        {/* Services Grid */}\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-6\">\n          {services.map((service, index) => (\n            service.featured ? (\n              <Card\n                key={service.id}\n                variant=\"elevated\"\n                className=\"md:col-span-2 lg:col-span-2 flex flex-col md:flex-row items-center overflow-hidden group\"\n              >\n                <div className=\"flex-1 p-8 space-y-6\">\n                  <div className=\"p-3 bg-primary-50 rounded-xl w-fit\">\n                    {service.icon}\n                  </div>\n                  \n                  <div className=\"space-y-3\">\n                    <h3 className=\"text-2xl font-bold text-neutral-900\">\n                      {service.title}\n                    </h3>\n                    <p className=\"text-lg text-neutral-600\">\n                      {service.description}\n                    </p>\n                  </div>\n\n                  <Button\n                    variant=\"primary\"\n                    onClick={() => handleNavigation(service)}\n                  >\n                    {service.buttonText}\n                  </Button>\n                </div>\n\n                <div className=\"flex-1 h-64 md:h-auto\">\n                  <img\n                    src={service.image}\n                    alt={service.title}\n                    className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n                  />\n                </div>\n              </Card>\n            ) : (\n              <Card\n                key={service.id}\n                variant=\"default\"\n                hover={true}\n                className=\"group\"\n              >\n                <div className=\"space-y-6\">\n                  <div className=\"flex items-start justify-between\">\n                    <div className=\"p-3 bg-white shadow-soft rounded-xl\">\n                      {service.icon}\n                    </div>\n                    <img\n                      src={service.iconImage}\n                      alt=\"\"\n                      className=\"h-12 w-auto opacity-60 group-hover:opacity-100 transition-opacity\"\n                    />\n                  </div>\n\n                  <div className=\"space-y-3\">\n                    <h3 className=\"text-xl font-semibold text-neutral-900\">\n                      {service.title}\n                    </h3>\n                    <p className=\"text-neutral-600 leading-relaxed\">\n                      {service.description}\n                    </p>\n                  </div>\n\n                  <Button\n                    variant=\"ghost\"\n                    onClick={() => handleNavigation(service)}\n                    fullWidth\n                  >\n                    {service.buttonText}\n                  </Button>\n                </div>\n              </Card>\n            )\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n});\n\nService.displayName = 'Service';\n\nexport default Service;\n","size_bytes":5309},"src/components/ui/Modal.jsx":{"content":"import React, { useEffect } from 'react';\nimport { FaTimes } from 'react-icons/fa';\n\nconst Modal = ({ \n  isOpen, \n  onClose, \n  title, \n  children, \n  size = 'md',\n  showClose = true,\n  className = '' \n}) => {\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  const sizes = {\n    sm: 'max-w-md',\n    md: 'max-w-lg',\n    lg: 'max-w-2xl',\n    xl: 'max-w-4xl',\n    full: 'max-w-full mx-4',\n  };\n\n  return (\n    <div \n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4 animate-fade-in\"\n      onClick={onClose}\n    >\n      <div \n        className=\"absolute inset-0 bg-neutral-900/50 backdrop-blur-sm\"\n        aria-hidden=\"true\"\n      />\n      \n      <div \n        className={`\n          relative bg-white rounded-2xl shadow-large \n          w-full ${sizes[size]} animate-scale-in\n          ${className}\n        `}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {(title || showClose) && (\n          <div className=\"flex items-center justify-between p-6 border-b border-neutral-100\">\n            {title && (\n              <h2 className=\"text-2xl font-semibold text-neutral-900\">\n                {title}\n              </h2>\n            )}\n            {showClose && (\n              <button\n                onClick={onClose}\n                className=\"ml-auto p-2 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-lg transition-colors\"\n              >\n                <FaTimes size={20} />\n              </button>\n            )}\n          </div>\n        )}\n        \n        <div className=\"p-6\">\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","size_bytes":1852},"src/components/ui/Button.jsx":{"content":"import React from 'react';\n\nconst Button = ({ \n  children, \n  variant = 'primary', \n  size = 'md', \n  fullWidth = false,\n  disabled = false,\n  loading = false,\n  icon,\n  onClick,\n  type = 'button',\n  className = '',\n  ...props \n}) => {\n  const baseStyles = 'inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:active:scale-100';\n  \n  const variants = {\n    primary: 'bg-primary-600 text-white hover:bg-primary-700 shadow-soft hover:shadow-medium',\n    secondary: 'bg-neutral-900 text-white hover:bg-neutral-800 shadow-soft hover:shadow-medium',\n    outline: 'bg-transparent border-2 border-neutral-300 text-neutral-700 hover:border-neutral-400 hover:bg-neutral-50',\n    ghost: 'bg-transparent text-neutral-700 hover:bg-neutral-100',\n    danger: 'bg-error text-white hover:bg-error-dark shadow-soft hover:shadow-medium',\n    success: 'bg-success text-white hover:bg-success-dark shadow-soft hover:shadow-medium',\n    gradient: 'bg-gradient-to-r from-primary-600 to-accent-600 text-white hover:from-primary-700 hover:to-accent-700 shadow-glow',\n  };\n  \n  const sizes = {\n    sm: 'px-4 py-2 text-sm',\n    md: 'px-6 py-3 text-base',\n    lg: 'px-8 py-4 text-lg',\n  };\n  \n  return (\n    <button\n      type={type}\n      onClick={onClick}\n      disabled={disabled || loading}\n      className={`\n        ${baseStyles}\n        ${variants[variant]}\n        ${sizes[size]}\n        ${fullWidth ? 'w-full' : ''}\n        ${className}\n      `}\n      {...props}\n    >\n      {loading && (\n        <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n        </svg>\n      )}\n      {icon && !loading && <span className=\"mr-2\">{icon}</span>}\n      {children}\n    </button>\n  );\n};\n\nexport default Button;\n","size_bytes":2159},"src/components/common/ShowToast.jsx":{"content":"import { toast } from \"react-toastify\";\n\n// Show success toast\nexport const showToastSuccess = (message) => {\n  message && toast.success(message);\n};\n\n// Show error toast\nexport const showToastError = (message) => {\n  message && toast.error(message);\n};\n","size_bytes":254},"src/components/chatroom/RequestJoin.jsx":{"content":"import React, { useState } from \"react\";\nimport { FaUserPlus, FaTimes } from \"react-icons/fa\";\n\nconst RequestJoin = ({ chatName, onJoinRequest, onCancel }) => {\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setIsSubmitting(true);\n\n    try {\n      // Simulate API call with timeout\n      await new Promise((resolve) => setTimeout(resolve, 1000));\n      onJoinRequest();\n    } catch (error) {\n      console.error(\"Error sending join request:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg shadow-lg max-w-md w-full overflow-hidden\">\n        <div className=\"p-4 border-b bg-white flex items-center justify-between\">\n          <h2 className=\"font-['Montserrat'] font-bold text-[1.35rem] flex items-center\">\n            <FaUserPlus className=\"mr-2 text-[#2C2E30]\" />\n            Join Chat Room\n          </h2>\n          <button\n            onClick={onCancel}\n            className=\"text-gray-600 hover:text-gray-800\"\n            aria-label=\"Close\"\n          >\n            <FaTimes />\n          </button>\n        </div>\n\n        <div className=\"p-4 bg-gray-50\">\n          <div className=\"mb-6\">\n            <p className=\"font-['Inter'] text-black\">\n              You've been invited to join <strong>\"{chatName}\"</strong>. Your\n              request will be reviewed by the group admin.\n            </p>\n          </div>\n\n          <div className=\"flex justify-end gap-3\">\n            <button\n              type=\"button\"\n              onClick={onCancel}\n              className=\"font-['Montserrat'] font-semibold px-4 py-2 border border-[#D9D9D9] rounded focus:outline-none focus:ring-2 focus:ring-yellow-300 text-[#2C2E30] bg-white disabled:opacity-50\"\n              disabled={isSubmitting}\n            >\n              Cancel\n            </button>\n            <button\n              type=\"button\"\n              onClick={handleSubmit}\n              className=\"font-['Montserrat'] font-semibold px-4 py-2 bg-yellow-300 hover:bg-yellow-400 text-black rounded focus:outline-none focus:ring-2 focus:ring-yellow-300 disabled:opacity-50\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? \"Requesting...\" : \"Request to Join\"}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestJoin;\n","size_bytes":2514},"backend/controllers/googleControler.js":{"content":"const jwt = require('jsonwebtoken');\nconst { v5: uuidv5 } = require('uuid');\nconst { OAuth2Client } = require('google-auth-library');\nconst { PrismaClient } = require('@prisma/client');\n\nconst client = new OAuth2Client(process.env.GOOGLE_CLIENT_ID);\nconst prisma = new PrismaClient();\n\nconst signToken = (id) => {\n  return jwt.sign({ id }, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXPIRES_IN,\n  });\n};\n\nexports.googleLogin = async (req, res) => {\n  const { token } = req.body;\n\n  try {\n    const ticket = await client.verifyIdToken({\n      idToken: token,\n    });\n\n    const payload = ticket.getPayload();\n    const { sub: id, email, picture: profile_picture, given_name } = payload;\n    const userId = uuidv5(id, uuidv5.DNS);\n\n    // First, try to find by email (since email is unique)\n    let existingUser = await prisma.user.findUnique({\n      where: { email: email },\n    });\n\n    if (existingUser) {\n      // Update the user ID if it doesn't match (in case of UUID generation changes)\n      if (existingUser.id !== userId) {\n        existingUser = await prisma.user.update({\n          where: { email: email },\n          data: { id: userId },\n        });\n      }\n      const token = signToken(existingUser.id);\n      return res.status(200).json({\n        status: 'success',\n        user: existingUser,\n        token: token,\n      });\n    }\n\n    // If no user by email, create new user\n    const newUser = await prisma.user.create({\n      data: {\n        id: userId,\n        given_name,\n        email,\n        profile_picture,\n      },\n    });\n    const newToken = signToken(newUser.id);\n    return res.status(201).json({\n      status: 'success',\n      user: newUser,\n      token: newToken,\n    });\n  } catch (error) {\n    console.error('Error verifying Google token:', error.message);\n    // Check if it's a unique constraint error\n    if (error.code === 'P2002' && error.meta?.target === 'User_email_key') {\n      // Try to find the user again and return it\n      try {\n        const existingUser = await prisma.user.findUnique({\n          where: { email: email },\n        });\n        if (existingUser) {\n          const token = signToken(existingUser.id);\n          return res.status(200).json({\n            status: 'success',\n            user: existingUser,\n            token: token,\n          });\n        }\n      } catch (findError) {\n        console.error('Error finding existing user:', findError.message);\n      }\n    }\n    return res.status(500).json({ message: 'Google authentication failed' });\n  }\n};\n","size_bytes":2532},"tailwind.config.js":{"content":"/** @type {import('tailwindcss').Config} */\n\nmodule.exports = {\n  content: [\"./src/**/*.{js,jsx}\"],\n  mode: \"jit\",\n  theme: {\n    extend: {\n      colors: {\n        primary: {\n          50: \"#f0f9ff\",\n          100: \"#e0f2fe\",\n          200: \"#bae6fd\",\n          300: \"#7dd3fc\",\n          400: \"#38bdf8\",\n          500: \"#0ea5e9\",\n          600: \"#0284c7\",\n          700: \"#0369a1\",\n          800: \"#075985\",\n          900: \"#0c4a6e\",\n        },\n        accent: {\n          50: \"#fdf4ff\",\n          100: \"#fae8ff\",\n          200: \"#f5d0fe\",\n          300: \"#f0abfc\",\n          400: \"#e879f9\",\n          500: \"#d946ef\",\n          600: \"#c026d3\",\n          700: \"#a21caf\",\n          800: \"#86198f\",\n          900: \"#701a75\",\n        },\n        neutral: {\n          50: \"#fafafa\",\n          100: \"#f5f5f5\",\n          200: \"#e5e5e5\",\n          300: \"#d4d4d4\",\n          400: \"#a3a3a3\",\n          500: \"#737373\",\n          600: \"#525252\",\n          700: \"#404040\",\n          800: \"#262626\",\n          900: \"#171717\",\n          950: \"#0a0a0a\",\n        },\n        success: {\n          light: \"#10b981\",\n          DEFAULT: \"#059669\",\n          dark: \"#047857\",\n        },\n        warning: {\n          light: \"#f59e0b\",\n          DEFAULT: \"#d97706\",\n          dark: \"#b45309\",\n        },\n        error: {\n          light: \"#ef4444\",\n          DEFAULT: \"#dc2626\",\n          dark: \"#b91c1c\",\n        },\n      },\n      fontFamily: {\n        sans: ['Inter', 'system-ui', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'Roboto', 'sans-serif'],\n        display: ['Inter', 'system-ui', 'sans-serif'],\n        mono: ['JetBrains Mono', 'Fira Code', 'monospace'],\n      },\n      fontSize: {\n        'display-2xl': ['4.5rem', { lineHeight: '1.1', letterSpacing: '-0.02em', fontWeight: '700' }],\n        'display-xl': ['3.75rem', { lineHeight: '1.1', letterSpacing: '-0.02em', fontWeight: '700' }],\n        'display-lg': ['3rem', { lineHeight: '1.2', letterSpacing: '-0.02em', fontWeight: '700' }],\n        'display-md': ['2.25rem', { lineHeight: '1.2', letterSpacing: '-0.01em', fontWeight: '600' }],\n        'display-sm': ['1.875rem', { lineHeight: '1.3', letterSpacing: '-0.01em', fontWeight: '600' }],\n      },\n      boxShadow: {\n        'soft': '0 2px 15px -3px rgba(0, 0, 0, 0.07), 0 10px 20px -2px rgba(0, 0, 0, 0.04)',\n        'medium': '0 4px 20px -2px rgba(0, 0, 0, 0.1), 0 10px 25px -5px rgba(0, 0, 0, 0.08)',\n        'large': '0 10px 40px -10px rgba(0, 0, 0, 0.15), 0 20px 50px -15px rgba(0, 0, 0, 0.12)',\n        'inner-soft': 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)',\n        'glow': '0 0 20px rgba(14, 165, 233, 0.3)',\n        'glow-accent': '0 0 20px rgba(217, 70, 239, 0.3)',\n      },\n      borderRadius: {\n        'DEFAULT': '0.5rem',\n        'lg': '0.75rem',\n        'xl': '1rem',\n        '2xl': '1.5rem',\n        '3xl': '2rem',\n      },\n      spacing: {\n        '18': '4.5rem',\n        '88': '22rem',\n        '112': '28rem',\n        '128': '32rem',\n      },\n      backdropBlur: {\n        xs: '2px',\n      },\n      animation: {\n        'fade-in': 'fadeIn 0.5s ease-in-out',\n        'slide-up': 'slideUp 0.5s ease-out',\n        'slide-down': 'slideDown 0.5s ease-out',\n        'scale-in': 'scaleIn 0.3s ease-out',\n        'shimmer': 'shimmer 2s linear infinite',\n      },\n      keyframes: {\n        fadeIn: {\n          '0%': { opacity: '0' },\n          '100%': { opacity: '1' },\n        },\n        slideUp: {\n          '0%': { transform: 'translateY(20px)', opacity: '0' },\n          '100%': { transform: 'translateY(0)', opacity: '1' },\n        },\n        slideDown: {\n          '0%': { transform: 'translateY(-20px)', opacity: '0' },\n          '100%': { transform: 'translateY(0)', opacity: '1' },\n        },\n        scaleIn: {\n          '0%': { transform: 'scale(0.95)', opacity: '0' },\n          '100%': { transform: 'scale(1)', opacity: '1' },\n        },\n        shimmer: {\n          '0%': { backgroundPosition: '-1000px 0' },\n          '100%': { backgroundPosition: '1000px 0' },\n        },\n      },\n      screens: {\n        xs: \"560px\",\n        md: \"892px\",\n        lg: \"1024px\",\n        xl: \"1430px\",\n        \"2xl\": \"1536px\",\n      },\n    },\n  },\n  plugins: [],\n  safelist: [\n    \"bg-primary-400\",\n    \"bg-accent-400\",\n    \"bg-success-light\",\n    \"bg-warning-light\",\n    \"bg-error-light\",\n  ],\n};\n","size_bytes":4304},"backend/controllers/messageController.js":{"content":"// controllers/messageController.js\nconst { PrismaClient } = require(\"@prisma/client\");\nconst prisma = new PrismaClient();\n\nexports.createMessage = async (req, res) => {\n  try {\n    const { roomId } = req.params;\n    const { text, userId } = req.body;\n    console.log(\"roomId:\", roomId);\n    // Validate incoming data\n    if (!roomId || !text || !userId) {\n      return res\n        .status(400)\n        .json({ error: \"Missing required fields (roomId, text, userId).\" });\n    }\n\n    // 1. Create the new message\n    const newMessage = await prisma.message.create({\n      data: {\n        content: text,\n        created_by: userId,\n        chat_id: roomId,\n      },\n    });\n\n    // 2. Update the last_message field of the room\n    await prisma.chatRoom.update({\n      where: { id: roomId },\n      data: {\n        last_message: text,\n        updated_at: new Date(),\n      },\n    });\n\n    // 3. Update read status for all users (set unread = true), except sender\n    await prisma.chatRoomRead.updateMany({\n      where: {\n        chat_id: roomId,\n        NOT: {\n          user_id: userId,\n        },\n      },\n      data: {\n        unread: true,\n      },\n    });\n\n    return res.status(201).json(newMessage);\n  } catch (error) {\n    console.error(\"Error creating message:\", error);\n    return res.status(500).json({ error: \"Failed to create message\" });\n  }\n};","size_bytes":1354},"src/components/ui/Avatar.jsx":{"content":"import React from 'react';\n\nconst Avatar = ({ \n  src, \n  alt = '', \n  size = 'md', \n  fallback,\n  status,\n  className = '',\n  ...props \n}) => {\n  const sizes = {\n    xs: 'w-6 h-6 text-xs',\n    sm: 'w-8 h-8 text-sm',\n    md: 'w-10 h-10 text-base',\n    lg: 'w-12 h-12 text-lg',\n    xl: 'w-16 h-16 text-xl',\n    '2xl': 'w-20 h-20 text-2xl',\n  };\n\n  const statusSizes = {\n    xs: 'w-1.5 h-1.5',\n    sm: 'w-2 h-2',\n    md: 'w-2.5 h-2.5',\n    lg: 'w-3 h-3',\n    xl: 'w-3.5 h-3.5',\n    '2xl': 'w-4 h-4',\n  };\n\n  const statusColors = {\n    online: 'bg-success',\n    away: 'bg-warning',\n    busy: 'bg-error',\n    offline: 'bg-neutral-400',\n  };\n\n  return (\n    <div className={`relative inline-flex ${className}`} {...props}>\n      <div \n        className={`\n          ${sizes[size]} \n          rounded-full overflow-hidden bg-neutral-200\n          flex items-center justify-center font-medium text-neutral-600\n          ring-2 ring-white\n        `}\n      >\n        {src ? (\n          <img src={src} alt={alt} className=\"w-full h-full object-cover\" />\n        ) : (\n          <span>{fallback}</span>\n        )}\n      </div>\n      {status && (\n        <span \n          className={`\n            absolute bottom-0 right-0 \n            ${statusSizes[size]} \n            ${statusColors[status]} \n            rounded-full border-2 border-white\n          `}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Avatar;\n","size_bytes":1405},"backend/controllers/passController.js":{"content":"const passport = require('passport');\nconst GoogleStrategy = require('passport-google-oauth20').Strategy;\nconst { PrismaClient } = require('@prisma/client');\nconst prisma = new PrismaClient();\n\npassport.use(\n  new GoogleStrategy(\n    {\n      clientID: process.env.GOOGLE_CLIENT_ID,\n      clientSecret: process.env.GOOGLE_CLIENT_SECRET,\n      callbackURL: 'http://localhost:3000/auth/google/callback',\n    },\n    async (accessToken, refreshToken, profile, done) => {\n      try {\n        const { id, emails, given_name } = profile;\n        console.log(profile);\n\n        let user = await prisma.user.findUnique({\n          where: { email: emails[0].value },\n        });\n\n        if (user) {\n          return done(null, user);\n        }\n\n        user = await prisma.user.create({\n          data: {\n            email: emails[0].value,\n            given_name: given_name,\n            profile_picture: profile.photos ? profile.photos[0].value : null,\n          },\n        });\n\n        return done(null, user);\n      } catch (err) {\n        console.error('Error during authentication:', err);\n        return done(err, null);\n      }\n    }\n  )\n);\n\npassport.serializeUser((user, done) => {\n  done(null, user.id);\n});\n\npassport.deserializeUser(async (id, done) => {\n  try {\n    const user = await prisma.user.findUnique({\n      where: { id: id },\n    });\n    done(null, user);\n  } catch (err) {\n    console.error('Error deserializing user:', err);\n    done(err, null);\n  }\n});\n\nmodule.exports = passport;\n","size_bytes":1495},"backend/config/trans.config.js":{"content":"require('dotenv').config()\n\nconst transConfig = {\n    key: process.env.AZURE_TRANS_KEY,\n    location: process.env.AZURE_TRANS_LOCATION\n}\n\nmodule.exports = transConfig","size_bytes":166},"src/context/ErrorBoundary.jsx":{"content":"import React, { Component } from \"react\";\n\nclass ErrorBoundary extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hasError: false,\n      errorMessage: \"\",\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    // Update state so the next render shows the fallback UI\n    return { hasError: true, errorMessage: error.message };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an external service (e.g., Sentry)\n    console.log(\"Error caught by Error Boundary: \", error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // You can render any custom fallback UI\n      return <div>Something went wrong: {this.state.errorMessage}</div>;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n","size_bytes":799},"src/components/Footer.jsx":{"content":"import { Link } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport { FaEnvelope, FaTwitter, FaGithub, FaLinkedin } from \"react-icons/fa\";\n\nexport const Footer = () => {\n  const footerLinks = {\n    product: [\n      { name: \"Features\", href: \"#features\" },\n      { name: \"Services\", href: \"#services\" },\n      { name: \"Pricing\", href: \"#pricing\" },\n      { name: \"FAQ\", href: \"#faq\" },\n    ],\n    company: [\n      { name: \"About\", href: \"/about\" },\n      { name: \"Blog\", href: \"/blog\" },\n      { name: \"Careers\", href: \"/careers\" },\n      { name: \"Contact\", href: \"#contact\" },\n    ],\n    legal: [\n      { name: \"Privacy\", href: \"/privacy\" },\n      { name: \"Terms\", href: \"/terms\" },\n      { name: \"Security\", href: \"/security\" },\n      { name: \"Cookies\", href: \"/cookies\" },\n    ],\n  };\n\n  return (\n    <footer className=\"bg-neutral-900 text-white\">\n      <div className=\"section-container py-16\">\n        <div className=\"grid grid-cols-2 md:grid-cols-5 gap-8 mb-12\">\n          {/* Brand */}\n          <div className=\"col-span-2 space-y-4\">\n            <div className=\"flex items-center space-x-3\">\n              <img src={logo} alt=\"Chatlas\" className=\"h-10 w-10\" />\n              <span className=\"text-2xl font-bold\">Chatlas</span>\n            </div>\n            <p className=\"text-neutral-400 max-w-xs\">\n              Breaking language barriers with AI-powered real-time translation. Connect with anyone, anywhere.\n            </p>\n            <div className=\"flex items-center space-x-4\">\n              <a\n                href=\"https://twitter.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"p-2 rounded-lg hover:bg-neutral-800 transition-colors\"\n              >\n                <FaTwitter size={20} />\n              </a>\n              <a\n                href=\"https://github.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"p-2 rounded-lg hover:bg-neutral-800 transition-colors\"\n              >\n                <FaGithub size={20} />\n              </a>\n              <a\n                href=\"https://linkedin.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                className=\"p-2 rounded-lg hover:bg-neutral-800 transition-colors\"\n              >\n                <FaLinkedin size={20} />\n              </a>\n            </div>\n          </div>\n\n          {/* Product */}\n          <div>\n            <h3 className=\"font-semibold mb-4\">Product</h3>\n            <ul className=\"space-y-2\">\n              {footerLinks.product.map((link) => (\n                <li key={link.name}>\n                  <a\n                    href={link.href}\n                    className=\"text-neutral-400 hover:text-white transition-colors\"\n                  >\n                    {link.name}\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Company */}\n          <div>\n            <h3 className=\"font-semibold mb-4\">Company</h3>\n            <ul className=\"space-y-2\">\n              {footerLinks.company.map((link) => (\n                <li key={link.name}>\n                  <a\n                    href={link.href}\n                    className=\"text-neutral-400 hover:text-white transition-colors\"\n                  >\n                    {link.name}\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Legal */}\n          <div>\n            <h3 className=\"font-semibold mb-4\">Legal</h3>\n            <ul className=\"space-y-2\">\n              {footerLinks.legal.map((link) => (\n                <li key={link.name}>\n                  <a\n                    href={link.href}\n                    className=\"text-neutral-400 hover:text-white transition-colors\"\n                  >\n                    {link.name}\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n\n        {/* Bottom */}\n        <div className=\"pt-8 border-t border-neutral-800\">\n          <div className=\"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0\">\n            <p className=\"text-neutral-400 text-sm\">\n              © 2025 Chatlas. All Rights Reserved.\n            </p>\n            <a\n              href=\"mailto:chatlashelp@gmail.com\"\n              className=\"flex items-center space-x-2 text-neutral-400 hover:text-white transition-colors\"\n            >\n              <FaEnvelope />\n              <span>chatlashelp@gmail.com</span>\n            </a>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n};\n\nexport default Footer;\n","size_bytes":4673},"src/components/chatroom/Trans.jsx":{"content":"import axios from \"axios\";\n\nconst translateText = async (text, targetLanguage) => {\n  const apiKey = \"\";\n  const region = \"\";\n  const url = `https://${region}.api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=${targetLanguage}`;\n\n  const headers = {\n    \"Ocp-Apim-Subscription-Key\": apiKey,\n    \"Content-Type\": \"application/json\",\n  };\n\n  const data = [{ Text: text }];\n  try {\n    const response = await axios.post(url, data, { headers });\n    return response.data[0].translations[0].text;\n  } catch (error) {\n    console.error(\"Error translating text:\", error);\n    return text;\n  }\n};\nconst handleSendMessageWithTranslation = async () => {\n  if (newMessage.trim() === \"\") return;\n\n  let translatedMessage = newMessage;\n  if (language !== \"en\") {\n    translatedMessage = await translateText(newMessage, language);\n  }\n  socket.emit(\"sendMessage\", {\n    text: translatedMessage,\n    language: language,\n    sender: currentChat.name,\n    timestamp: new Date().toISOString(),\n  });\n\n  setNewMessage(\"\");\n};\n\nuseEffect(() => {\n  socket.on(\"newMessage\", async (message) => {\n    let translatedText = message.text;\n\n    if (language !== \"en\" && message.language !== language) {\n      translatedText = await translateText(message.text, language);\n    }\n\n    setNewMessage((prevMessages) => [\n      ...prevMessages,\n      { ...message, translatedText },\n    ]);\n  });\n\n  return () => {\n    socket.off(\"newMessage\");\n  };\n}, [language]);\n","size_bytes":1448},"src/assets/index.js":{"content":"import logo from \"./Logo.png\";\nimport chatlas from \"./Chatlas.png\";\nimport visibility from \"./Visibility.png\";\nimport visibilityOff from \"./InvisibilityOff.png\";\nimport menu from \"./menu.svg\";\nimport close from \"./close.svg\";\nimport hero from \"./Hero.png\";\nimport mission from \"./Mission.png\";\nimport serviceOne from \"./ServiceOne.png\";\nimport earth from \"./Earth.png\";\nimport translateIcon from \"./TranslateIcon.png\";\nimport micro from \"./Micro.png\";\nimport folder from \"./Folders.png\";\nimport summarize from \"./Summarize.png\";\n\nexport {\n  logo,\n  chatlas,\n  visibility,\n  visibilityOff,\n  menu,\n  close,\n  hero,\n  mission,\n  serviceOne,\n  earth,\n  translateIcon,\n  micro,\n  folder,\n  summarize,\n};\n","size_bytes":700},"src/config/api.js":{"content":"// API configuration\nconst getApiBaseUrl = () => {\n  // Check if running in Replit environment\n  if (typeof window !== 'undefined' && window.location.hostname.includes('replit')) {\n    // Use same origin for Replit (backend on port 3000, but accessed through proxy)\n    return 'http://localhost:3000';\n  }\n  \n  // Use environment variable if provided\n  if (import.meta.env.VITE_API_BASE_URL) {\n    return import.meta.env.VITE_API_BASE_URL;\n  }\n  \n  // Default to localhost for local development\n  return 'http://localhost:3000';\n};\n\nexport const API_BASE_URL = getApiBaseUrl();\n","size_bytes":578},"src/components/ui/index.js":{"content":"export { default as Button } from './Button';\nexport { default as Input } from './Input';\nexport { default as Card } from './Card';\nexport { default as Modal } from './Modal';\nexport { default as Badge } from './Badge';\nexport { default as Avatar } from './Avatar';\n","size_bytes":266},"src/components/ui/Input.jsx":{"content":"import React, { forwardRef } from 'react';\n\nconst Input = forwardRef(({ \n  label,\n  error,\n  helperText,\n  icon,\n  fullWidth = true,\n  className = '',\n  ...props \n}, ref) => {\n  return (\n    <div className={`${fullWidth ? 'w-full' : ''}`}>\n      {label && (\n        <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n          {label}\n        </label>\n      )}\n      <div className=\"relative\">\n        {icon && (\n          <div className=\"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400\">\n            {icon}\n          </div>\n        )}\n        <input\n          ref={ref}\n          className={`\n            w-full px-4 py-3 bg-white border rounded-xl\n            transition-all duration-200 \n            placeholder:text-neutral-400\n            focus:outline-none focus:ring-2 focus:ring-primary-500/20\n            disabled:bg-neutral-50 disabled:cursor-not-allowed\n            ${icon ? 'pl-10' : ''}\n            ${error ? 'border-error focus:border-error focus:ring-error/20' : 'border-neutral-200 focus:border-primary-500'}\n            ${className}\n          `}\n          {...props}\n        />\n      </div>\n      {(error || helperText) && (\n        <p className={`mt-1.5 text-sm ${error ? 'text-error' : 'text-neutral-500'}`}>\n          {error || helperText}\n        </p>\n      )}\n    </div>\n  );\n});\n\nInput.displayName = 'Input';\n\nexport default Input;\n","size_bytes":1382},"src/components/home/Feature.jsx":{"content":"import React from \"react\";\nimport { Card } from \"../ui\";\nimport { folder, micro, summarize } from \"../../assets\";\nimport { FaMicrophone, FaFileAlt, FaRobot } from \"react-icons/fa\";\n\nconst Feature = () => {\n  const features = [\n    {\n      id: \"speech\",\n      icon: <FaMicrophone className=\"text-3xl text-primary-600\" />,\n      title: \"Voice-to-Text & Text-to-Speech\",\n      description:\n        \"Transform conversations with Azure AI's powerful speech capabilities. Convert text to natural-sounding speech and vice versa for seamless, engaging communication.\",\n      image: micro,\n      badge: \"AI Powered\",\n      gradient: \"from-primary-500/10 to-primary-600/5\",\n    },\n    {\n      id: \"files\",\n      icon: <FaFileAlt className=\"text-3xl text-accent-600\" />,\n      title: \"Easy File Sharing\",\n      description:\n        \"Share documents, images, and media directly in your chat rooms. File sharing is seamless, secure, and efficient for all your collaborative needs.\",\n      image: folder,\n      badge: \"Secure\",\n      gradient: \"from-accent-500/10 to-accent-600/5\",\n    },\n    {\n      id: \"summarize\",\n      icon: <FaRobot className=\"text-3xl text-success\" />,\n      title: \"AI Chat Summarization\",\n      description:\n        \"Powered by Azure OpenAI, quickly summarize conversations within any date range. Stay updated without reading every message.\",\n      image: summarize,\n      badge: \"Coming Soon\",\n      gradient: \"from-success/10 to-success/5\",\n    },\n  ];\n\n  return (\n    <div className=\"py-24 bg-gradient-to-b from-white to-neutral-50\">\n      <div className=\"section-container\">\n        {/* Section Header */}\n        <div className=\"text-center max-w-3xl mx-auto mb-16 space-y-4\">\n          <div className=\"inline-flex items-center space-x-2 px-4 py-2 bg-primary-50 rounded-full\">\n            <span className=\"text-sm font-semibold text-primary-700\">Features</span>\n          </div>\n          <h2 className=\"text-4xl md:text-5xl font-bold text-neutral-900\">\n            Powerful features for\n            <br />\n            <span className=\"text-gradient\">seamless communication</span>\n          </h2>\n          <p className=\"text-xl text-neutral-600\">\n            Everything you need to connect and collaborate across languages\n          </p>\n        </div>\n\n        {/* Features Grid */}\n        <div className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">\n          {features.map((feature, index) => (\n            <Card\n              key={feature.id}\n              variant=\"default\"\n              hover={true}\n              className=\"relative overflow-hidden group\"\n            >\n              {/* Gradient Background */}\n              <div className={`absolute inset-0 bg-gradient-to-br ${feature.gradient} opacity-0 group-hover:opacity-100 transition-opacity duration-300`}></div>\n\n              <div className=\"relative z-10 space-y-4\">\n                {/* Badge */}\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"p-3 bg-white rounded-xl shadow-soft\">\n                    {feature.icon}\n                  </div>\n                  <span className=\"text-xs font-semibold text-neutral-500 px-3 py-1 bg-neutral-100 rounded-full\">\n                    {feature.badge}\n                  </span>\n                </div>\n\n                {/* Feature Image */}\n                <div className=\"relative h-48 flex items-center justify-center\">\n                  <img\n                    src={feature.image}\n                    alt={feature.title}\n                    className=\"h-full w-auto object-contain group-hover:scale-105 transition-transform duration-300\"\n                  />\n                </div>\n\n                {/* Content */}\n                <div className=\"space-y-2\">\n                  <h3 className=\"text-xl font-semibold text-neutral-900\">\n                    {feature.title}\n                  </h3>\n                  <p className=\"text-neutral-600 leading-relaxed\">\n                    {feature.description}\n                  </p>\n                </div>\n              </div>\n            </Card>\n          ))}\n        </div>\n\n        {/* Bottom CTA */}\n        <div className=\"mt-16 text-center\">\n          <p className=\"text-neutral-600 mb-4\">\n            Want to see more features?\n          </p>\n          <a\n            href=\"#services\"\n            className=\"inline-flex items-center text-primary-600 hover:text-primary-700 font-medium transition-colors\"\n          >\n            Explore all capabilities\n            <svg className=\"ml-2 w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n            </svg>\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Feature;\n","size_bytes":4791},"src/context/authContext.jsx":{"content":"import React, { createContext, useState, useContext, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { API_BASE_URL } from \"../config/api\";\n\nconst AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  console.log(\"AuthProvider rendered\");\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    console.log(token);\n    if (token) {\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n      fetchUser();\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  const fetchUser = async () => {\n    try {\n      const response = await axios.get(`${API_BASE_URL}/auth/me`);\n      setUser(response.data.data.user);\n    } catch (error) {\n      console.error(\"Failed to fetch user\", error);\n      logout();\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const login = (token) => {\n    localStorage.setItem(\"token\", token);\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\n    fetchUser();\n  };\n\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    setUser(null);\n    delete axios.defaults.headers.common[\"Authorization\"];\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, login, logout, loading, error }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\nexport const useAuth = () => {\n  return useContext(AuthContext);\n};\n","size_bytes":1487},"backend/controllers/authController.js":{"content":"const jwt = require('jsonwebtoken');\nconst bcrypt = require('bcryptjs');\nconst { PrismaClient } = require('@prisma/client');\n\nconst prisma = new PrismaClient();\n\nconst signToken = (id) => {\n  return jwt.sign({ id }, process.env.JWT_SECRET, {\n    expiresIn: process.env.JWT_EXPIRES_IN,\n  });\n};\n\nexports.signup = async (req, res, next) => {\n  const { username, email, password, passwordConfirm } = req.body;\n  try {\n    if (password !== passwordConfirm) {\n      return res\n        .status(400)\n        .json({ message: 'Password and password confirm do not match' });\n    }\n    const existingUser = await prisma.user.findUnique({\n      where: { email },\n    });\n    if (existingUser) {\n      return res.status(400).json({ message: 'Email already exists' });\n    }\n    const hashedPassword = await bcrypt.hash(password, 12);\n    const newUser = await prisma.user.create({\n      data: {\n        given_name: username,\n        email,\n        password: hashedPassword,\n      },\n    });\n    const token = signToken(newUser.id);\n    return res.status(201).json({\n      status: 'success',\n      token,\n      message: 'User created successfully',\n    });\n  } catch (err) {\n    return res.status(500).json({ message: err.message });\n  }\n};\n\nexports.login = async (req, res, next) => {\n  const { email, password } = req.body;\n\n  try {\n    const user = await prisma.user.findUnique({\n      where: { email },\n    });\n\n    if (!user) {\n      return res.status(401).json({ message: 'Invalid email or password' });\n    }\n\n    const isPasswordCorrect = await bcrypt.compare(password, user.password);\n\n    if (!isPasswordCorrect) {\n      return res\n        .status(401)\n        .json({ message: 'Please log in by Google account' });\n    }\n    const token = signToken(user.id);\n\n    return res.status(200).json({\n      status: 'success',\n      token,\n      data: {\n        user: {\n          id: user.id,\n          username: user.given_name,\n          email: user.email,\n          picture: user.profile_picture,\n          created_at: user.created_at,\n        },\n      },\n    });\n  } catch (err) {\n    return res.status(500).json({ message: 'Server error' });\n  }\n};\n\nexports.getMe = async (req, res) => {\n  try {\n    const userId = req.user.id;\n\n    const user = await prisma.user.findUnique({\n      where: { id: userId },\n    });\n\n    if (!user) {\n      return res.status(404).json({ message: 'User not found' });\n    }\n\n    return res.status(200).json({\n      status: 'success',\n      data: {\n        user: {\n          id: user.id,\n          username: user.given_name,\n          email: user.email,\n          profile_picture: user.profile_picture,\n          created_at: user.created_at,\n        },\n      },\n    });\n  } catch (err) {\n    return res.status(500).json({ message: 'Server error' });\n  }\n};\n\nexports.protect = async (req, res, next) => {\n  try {\n    let token;\n    if (\n      req.headers.authorization &&\n      req.headers.authorization.startsWith('Bearer')\n    ) {\n      token = req.headers.authorization.split(' ')[1];\n    }\n\n    if (!token) {\n      return res.status(401).json({\n        message: 'You are not logged in! Please log in to get access',\n      });\n    }\n\n    const decoded = jwt.verify(token, process.env.JWT_SECRET);\n\n    const freshUser = await prisma.user.findUnique({\n      where: { id: decoded.id },\n    });\n\n    if (!freshUser) {\n      return res.status(401).json({ message: 'User no longer exists' });\n    }\n\n    if (freshUser.password_changed_at) {\n      const passwordChangedAt = freshUser.password_changed_at;\n      if (\n        passwordChangedAt &&\n        passwordChangedAt > new Date(decoded.iat * 1000)\n      ) {\n        return res.status(401).json({\n          message: 'User recently changed password! Please log in again',\n        });\n      }\n    }\n\n    req.user = freshUser;\n    next();\n  } catch (err) {\n    return res\n      .status(500)\n      .json({ message: 'Server error during token verification' });\n  }\n};\n","size_bytes":3937},"src/constants/index.js":{"content":"export const sections = [\n  { id: \"Home\", title: \"Home\" },\n  { id: \"Chat\", title: \"Chat\" },\n  { id: \"Help\", title: \"Help\" },\n];\n\nexport const languages = [\n  { language: \"Afrikaans\", code: \"af\" },\n  { language: \"Albanian\", code: \"sq\" },\n  { language: \"Amharic\", code: \"am\" },\n  { language: \"Arabic\", code: \"ar\" },\n  { language: \"Armenian\", code: \"hy\" },\n  { language: \"Assamese\", code: \"as\" },\n  { language: \"Azerbaijani (Latin)\", code: \"az\" },\n  { language: \"Bangla\", code: \"bn\" },\n  { language: \"Bashkir\", code: \"ba\" },\n  { language: \"Basque\", code: \"eu\" },\n  { language: \"Bhojpuri\", code: \"bho\" },\n  { language: \"Bodo\", code: \"brx\" },\n  { language: \"Bosnian (Latin)\", code: \"bs\" },\n  { language: \"Bulgarian\", code: \"bg\" },\n  { language: \"Cantonese (Traditional)\", code: \"yue\" },\n  { language: \"Catalan\", code: \"ca\" },\n  { language: \"Chinese (Literary)\", code: \"lzh\" },\n  { language: \"Chinese Simplified\", code: \"zh-Hans\" },\n  { language: \"Chinese Traditional\", code: \"zh-Hant\" },\n  { language: \"chiShona\", code: \"sn\" },\n  { language: \"Croatian\", code: \"hr\" },\n  { language: \"Czech\", code: \"cs\" },\n  { language: \"Danish\", code: \"da\" },\n  { language: \"Dari\", code: \"prs\" },\n  { language: \"Divehi\", code: \"dv\" },\n  { language: \"Dogri\", code: \"doi\" },\n  { language: \"Dutch\", code: \"nl\" },\n  { language: \"English\", code: \"en\" },\n  { language: \"Estonian\", code: \"et\" },\n  { language: \"Faroese\", code: \"fo\" },\n  { language: \"Fijian\", code: \"fj\" },\n  { language: \"Filipino\", code: \"fil\" },\n  { language: \"Finnish\", code: \"fi\" },\n  { language: \"French\", code: \"fr\" },\n  { language: \"French (Canada)\", code: \"fr-ca\" },\n  { language: \"Galician\", code: \"gl\" },\n  { language: \"Georgian\", code: \"ka\" },\n  { language: \"German\", code: \"de\" },\n  { language: \"Greek\", code: \"el\" },\n  { language: \"Gujarati\", code: \"gu\" },\n  { language: \"Haitian Creole\", code: \"ht\" },\n  { language: \"Hausa\", code: \"ha\" },\n  { language: \"Hebrew\", code: \"he\" },\n  { language: \"Hindi\", code: \"hi\" },\n  { language: \"Hmong Daw (Latin)\", code: \"mww\" },\n  { language: \"Hungarian\", code: \"hu\" },\n  { language: \"Icelandic\", code: \"is\" },\n  { language: \"Igbo\", code: \"ig\" },\n  { language: \"Indonesian\", code: \"id\" },\n  { language: \"Inuinnaqtun\", code: \"ikt\" },\n  { language: \"Inuktitut\", code: \"iu\" },\n  { language: \"Inuktitut (Latin)\", code: \"iu-Latn\" },\n  { language: \"Irish\", code: \"ga\" },\n  { language: \"Italian\", code: \"it\" },\n  { language: \"Japanese\", code: \"ja\" },\n  { language: \"Kannada\", code: \"kn\" },\n  { language: \"Kashmiri\", code: \"ks\" },\n  { language: \"Kazakh\", code: \"kk\" },\n  { language: \"Khmer\", code: \"km\" },\n  { language: \"Kinyarwanda\", code: \"rw\" },\n  { language: \"Klingon (Latin)\", code: \"tlh-Latn\" },\n  { language: \"Klingon (plqaD)\", code: \"tlh-Piqd\" },\n  { language: \"Konkani\", code: \"gom\" },\n  { language: \"Korean\", code: \"ko\" },\n  { language: \"Kurdish (Central)\", code: \"ku\" },\n  { language: \"Kurdish (Northern)\", code: \"kmr\" },\n  { language: \"Kyrgyz (Cyrillic)\", code: \"ky\" },\n  { language: \"Lao\", code: \"lo\" },\n  { language: \"Latvian\", code: \"lv\" },\n  { language: \"Lithuanian\", code: \"lt\" },\n  { language: \"Lingala\", code: \"ln\" },\n  { language: \"Lower Sorbian\", code: \"dsb\" },\n  { language: \"Luganda\", code: \"lug\" },\n  { language: \"Macedonian\", code: \"mk\" },\n  { language: \"Maithili\", code: \"mai\" },\n  { language: \"Malagasy\", code: \"mg\" },\n  { language: \"Malay (Latin)\", code: \"ms\" },\n  { language: \"Malayalam\", code: \"ml\" },\n  { language: \"Maltese\", code: \"mt\" },\n  { language: \"Maori\", code: \"mi\" },\n  { language: \"Marathi\", code: \"mr\" },\n  { language: \"Mongolian (Cyrillic)\", code: \"mn-Cyrl\" },\n  { language: \"Mongolian (Traditional)\", code: \"mn-Mong\" },\n  { language: \"Myanmar\", code: \"my\" },\n  { language: \"Nepali\", code: \"ne\" },\n  { language: \"Norwegian Bokmål\", code: \"nb\" },\n  { language: \"Nyanja\", code: \"nya\" },\n  { language: \"Odia\", code: \"or\" },\n  { language: \"Pashto\", code: \"ps\" },\n  { language: \"Persian\", code: \"fa\" },\n  { language: \"Polish\", code: \"pl\" },\n  { language: \"Portuguese (Brazil)\", code: \"pt\" },\n  { language: \"Portuguese (Portugal)\", code: \"pt-pt\" },\n  { language: \"Punjabi\", code: \"pa\" },\n  { language: \"Queretaro Otomi\", code: \"otq\" },\n  { language: \"Romanian\", code: \"ro\" },\n  { language: \"Rundi\", code: \"run\" },\n  { language: \"Russian\", code: \"ru\" },\n  { language: \"Samoan (Latin)\", code: \"sm\" },\n  { language: \"Serbian (Cyrillic)\", code: \"sr-Cyrl\" },\n  { language: \"Serbian (Latin)\", code: \"sr-Latn\" },\n  { language: \"Sesotho\", code: \"st\" },\n  { language: \"Sesotho sa Leboa\", code: \"nso\" },\n  { language: \"Setswana\", code: \"tn\" },\n  { language: \"Sindhi\", code: \"sd\" },\n  { language: \"Sinhala\", code: \"si\" },\n  { language: \"Slovak\", code: \"sk\" },\n  { language: \"Slovenian\", code: \"sl\" },\n  { language: \"Somali (Arabic)\", code: \"so\" },\n  { language: \"Spanish\", code: \"es\" },\n  { language: \"Swahili (Latin)\", code: \"sw\" },\n  { language: \"Swedish\", code: \"sv\" },\n  { language: \"Tahitian\", code: \"ty\" },\n  { language: \"Tamil\", code: \"ta\" },\n  { language: \"Tatar (Latin)\", code: \"tt\" },\n  { language: \"Telugu\", code: \"te\" },\n  { language: \"Thai\", code: \"th\" },\n  { language: \"Tibetan\", code: \"bo\" },\n  { language: \"Tigrinya\", code: \"ti\" },\n  { language: \"Tongan\", code: \"to\" },\n  { language: \"Turkish\", code: \"tr\" },\n  { language: \"Turkmen (Latin)\", code: \"tk\" },\n  { language: \"Ukrainian\", code: \"uk\" },\n  { language: \"Upper Sorbian\", code: \"hsb\" },\n  { language: \"Urdu\", code: \"ur\" },\n  { language: \"Uyghur (Arabic)\", code: \"ug\" },\n  { language: \"Uzbek (Latin)\", code: \"uz\" },\n  { language: \"Vietnamese\", code: \"vi\" },\n  { language: \"Welsh\", code: \"cy\" },\n  { language: \"Xhosa\", code: \"xh\" },\n  { language: \"Yoruba\", code: \"yo\" },\n  { language: \"Yucatec Maya\", code: \"yua\" },\n  { language: \"Zulu\", code: \"zu\" },\n];\n","size_bytes":5730},"src/pages/Signin.jsx":{"content":"import { GoogleLogin } from \"@react-oauth/google\";\nimport React, { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport {\n  showToastError,\n  showToastSuccess,\n} from \"../components/common/ShowToast\";\nimport axios from \"axios\";\nimport { useAuth } from \"../context/authContext\";\nimport { API_BASE_URL } from \"../config/api\";\nimport { Button, Input } from \"../components/ui\";\nimport { FaEye, FaEyeSlash, FaArrowRight } from \"react-icons/fa\";\n\nconst Signin = () => {\n  const formContext = useForm();\n  const { register, handleSubmit, formState } = formContext;\n  const { errors } = formState;\n  const navigate = useNavigate();\n  const { login } = useAuth();\n\n  const [showPassword, setShowPassword] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const togglePasswordVisibility = () => setShowPassword(!showPassword);\n\n  const onSubmit = async (data) => {\n    setLoading(true);\n    try {\n      const response = await axios.post(\n        `${API_BASE_URL}/auth/login`,\n        data\n      );\n      if (response.data.status === \"success\") {\n        showToastSuccess(\"Login successful\");\n        login(response.data?.token);\n        localStorage.setItem('user_id', response.data.user?.id)\n        navigate(\"/\");\n      }\n    } catch (err) {\n      showToastError(err.response?.data?.message || \"Login failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleSuccess = async (response) => {\n    try {\n      setLoading(true);\n      const googleData = { token: response.credential };\n      const result = await axios.post(\n        `${API_BASE_URL}/auth/google`,\n        googleData,\n        {\n          withCredentials: true,\n        }\n      );\n      if (result.data.status === \"success\") {\n        showToastSuccess(\"Login successful\");\n        localStorage.setItem('user_id', result.data.user?.id)\n        login(result.data?.token);\n        navigate(\"/\");\n      }\n    } catch (err) {\n      console.error(\"Error during Google login:\", err);\n      showToastError(\"Google login failed.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGoogleFailure = (error) => {\n    showToastError(\"Google authentication failed\");\n    console.error(\"Google authentication error:\", error);\n  };\n\n  return (\n    <div className=\"min-h-screen grid lg:grid-cols-2\">\n      {/* Left Side - Branding */}\n      <div className=\"hidden lg:flex flex-col justify-between p-12 bg-gradient-to-br from-primary-600 via-primary-500 to-accent-600 relative overflow-hidden\">\n        <div className=\"absolute inset-0 gradient-mesh opacity-30\"></div>\n        \n        <div className=\"relative z-10\">\n          <div className=\"flex items-center space-x-3 cursor-pointer\" onClick={() => navigate(\"/\")}>\n            <img src={logo} alt=\"Chatlas Logo\" className=\"w-12 h-12\" />\n            <span className=\"text-3xl font-bold text-white\">Chatlas</span>\n          </div>\n        </div>\n\n        <div className=\"relative z-10 space-y-6\">\n          <h1 className=\"text-5xl font-bold text-white leading-tight\">\n            Connect with\n            <br />\n            anyone, anywhere\n          </h1>\n          <p className=\"text-xl text-white/90 max-w-md\">\n            Break language barriers with real-time translation and seamless group communication.\n          </p>\n          \n          <div className=\"flex items-center space-x-4 pt-6\">\n            <div className=\"flex -space-x-3\">\n              {[1, 2, 3, 4].map((i) => (\n                <div key={i} className=\"w-10 h-10 rounded-full bg-white/20 border-2 border-white flex items-center justify-center\">\n                  <span className=\"text-white font-medium\">👤</span>\n                </div>\n              ))}\n            </div>\n            <p className=\"text-white/90\">Join 10,000+ users worldwide</p>\n          </div>\n        </div>\n\n        <div className=\"relative z-10 text-white/60 text-sm\">\n          © 2025 Chatlas. All rights reserved.\n        </div>\n      </div>\n\n      {/* Right Side - Sign In Form */}\n      <div className=\"flex items-center justify-center p-6 lg:p-12 bg-neutral-50\">\n        <div className=\"w-full max-w-md space-y-8 animate-fade-in\">\n          {/* Mobile Logo */}\n          <div className=\"lg:hidden flex items-center justify-center space-x-3\">\n            <img src={logo} alt=\"Chatlas Logo\" className=\"w-10 h-10\" />\n            <span className=\"text-2xl font-bold text-neutral-900\">Chatlas</span>\n          </div>\n\n          {/* Header */}\n          <div className=\"text-center lg:text-left space-y-2\">\n            <h2 className=\"text-4xl font-bold text-neutral-900\">Welcome back</h2>\n            <p className=\"text-lg text-neutral-600\">Sign in to continue your conversations</p>\n          </div>\n\n          {/* Google Sign In */}\n          <div className=\"space-y-4\">\n            <div className=\"flex justify-center\">\n              <GoogleLogin\n                onSuccess={handleGoogleSuccess}\n                onError={handleGoogleFailure}\n                useOneTap\n                theme=\"outline\"\n                size=\"large\"\n                width=\"100%\"\n              />\n            </div>\n\n            <div className=\"relative\">\n              <div className=\"absolute inset-0 flex items-center\">\n                <div className=\"w-full border-t border-neutral-200\"></div>\n              </div>\n              <div className=\"relative flex justify-center text-sm\">\n                <span className=\"px-4 bg-neutral-50 text-neutral-500\">Or continue with email</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Sign In Form */}\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                  Email address\n                </label>\n                <input\n                  type=\"email\"\n                  placeholder=\"you@example.com\"\n                  className=\"input-modern\"\n                  {...register(\"email\", {\n                    required: \"Email is required\",\n                    pattern: {\n                      value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n                      message: \"Invalid email address\"\n                    }\n                  })}\n                />\n                {errors.email && (\n                  <p className=\"mt-1.5 text-sm text-error\">{errors.email?.message}</p>\n                )}\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-neutral-700 mb-2\">\n                  Password\n                </label>\n                <div className=\"relative\">\n                  <input\n                    type={showPassword ? \"text\" : \"password\"}\n                    placeholder=\"Enter your password\"\n                    className=\"input-modern pr-12\"\n                    {...register(\"password\", { required: \"Password is required\" })}\n                  />\n                  <button\n                    type=\"button\"\n                    onClick={togglePasswordVisibility}\n                    className=\"absolute right-4 top-1/2 -translate-y-1/2 text-neutral-400 hover:text-neutral-600 transition-colors\"\n                  >\n                    {showPassword ? <FaEyeSlash size={20} /> : <FaEye size={20} />}\n                  </button>\n                </div>\n                {errors.password && (\n                  <p className=\"mt-1.5 text-sm text-error\">{errors.password?.message}</p>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  className=\"w-4 h-4 text-primary-600 border-neutral-300 rounded focus:ring-primary-500\"\n                />\n                <span className=\"ml-2 text-sm text-neutral-600\">Remember me</span>\n              </label>\n              <Link to=\"/forgot-password\" className=\"text-sm font-medium text-primary-600 hover:text-primary-700\">\n                Forgot password?\n              </Link>\n            </div>\n\n            <Button\n              type=\"submit\"\n              variant=\"gradient\"\n              size=\"lg\"\n              fullWidth\n              loading={loading}\n              icon={<FaArrowRight />}\n            >\n              Sign in\n            </Button>\n          </form>\n\n          {/* Sign Up Link */}\n          <div className=\"text-center pt-4\">\n            <p className=\"text-neutral-600\">\n              Don't have an account?{\" \"}\n              <Link to=\"/signup\" className=\"font-medium text-primary-600 hover:text-primary-700 transition-colors\">\n                Sign up\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Signin;\n","size_bytes":8947},"backend/app.js":{"content":"// app.js\nrequire(\"dotenv\").config({ path: \"./config.env\" });\nconst express = require(\"express\");\nconst session = require(\"express-session\");\nconst cors = require(\"cors\");\nconst passport = require(\"./controllers/passController\");\n\nconst userRouter = require(\"./routes/userRoutes\");\nconst roomRoute = require(\"./routes/roomRoutes\");\n// Import your messageRoutes (the file with router.post(\"/rooms/:roomId/messages\"))\nconst messageRoutes = require(\"./routes/messageRoutes\");\n\nconst translate = require(\"./controllers/transController\");\nconst app = express();\n\nconst corsOptions = {\n  origin: true,\n  credentials: true,\n};\napp.use(cors(corsOptions));\napp.use(express.json());\napp.use(express.urlencoded({ extended: true }));\n\n// Serve static files from uploads directory\napp.use('/uploads', express.static('uploads'));\n\n// Security headers (optional)\napp.use((req, res, next) => {\n  res.setHeader(\"Cross-Origin-Opener-Policy\", \"same-origin\");\n  res.setHeader(\"Cross-Origin-Embedder-Policy\", \"require-corp\");\n  next();\n});\n\n// Session\napp.use(\n  session({\n    secret: process.env.SESSION_SECRET || \"some-secret\",\n    resave: false,\n    saveUninitialized: false,\n  })\n);\n\n// Passport\napp.use(passport.initialize());\napp.use(passport.session());\n\n// Example homepage\napp.get(\"/\", (req, res) => {\n  res.send('<a href=\"/auth/google\">Login with Google</a>');\n});\n\n// Example user routes => /auth/...\napp.use(\"/auth\", userRouter);\n\n// Example room routes => /chatroom/...\napp.use(\"/chatroom\", roomRoute);\n\n// Mount your message routes at root => /rooms/:roomId/messages\napp.use(\"/\", messageRoutes);\n\n// If you need translation for testing\napp.get(\"/testTrans\", (req, res) => {\n  translate(\"\", \"vi\", \"How are you?\");\n  res.send(\"ok\");\n});\n\nmodule.exports = app;\n","size_bytes":1751},"backend/routes/messageRoutes.js":{"content":"// routes/messageRoutes.js\nconst express = require(\"express\");\nconst router = express.Router();\nconst messageController = require(\"../controllers/messageController\");\n\nrouter.post(\"/rooms/:roomId/messages\", messageController.createMessage);\n\nmodule.exports = router;","size_bytes":266},"src/components/home/Mission.jsx":{"content":"import React from \"react\";\nimport { mission } from \"../../assets\";\n\nconst Mission = () => {\n  return (\n    <div className=\"relative py-24 overflow-hidden\">\n      {/* Background Image with Overlay */}\n      <div \n        className=\"absolute inset-0 bg-cover bg-center\"\n        style={{ backgroundImage: `url(${mission})` }}\n      >\n        <div className=\"absolute inset-0 bg-gradient-to-r from-neutral-900/80 to-neutral-900/60\"></div>\n      </div>\n\n      <div className=\"section-container relative z-10\">\n        <div className=\"max-w-3xl space-y-8 text-white\">\n          <div className=\"inline-flex items-center space-x-2 px-4 py-2 glass-dark rounded-full\">\n            <span className=\"text-sm font-semibold\">Our Mission</span>\n          </div>\n\n          <h2 className=\"text-5xl md:text-6xl font-bold leading-tight\">\n            A World Without\n            <br />\n            Language Barriers\n          </h2>\n\n          <p className=\"text-xl text-white/90 leading-relaxed\">\n            By combining cutting-edge AI with secure, seamless access, we bring people together—breaking down \n            linguistic divides and building a more connected world.\n          </p>\n\n          <div className=\"grid sm:grid-cols-3 gap-6 pt-8\">\n            <div className=\"glass-dark p-6 rounded-2xl\">\n              <div className=\"text-3xl font-bold mb-2\">140+</div>\n              <div className=\"text-white/80\">Supported Languages</div>\n            </div>\n            <div className=\"glass-dark p-6 rounded-2xl\">\n              <div className=\"text-3xl font-bold mb-2\">10K+</div>\n              <div className=\"text-white/80\">Happy Users</div>\n            </div>\n            <div className=\"glass-dark p-6 rounded-2xl\">\n              <div className=\"text-3xl font-bold mb-2\">24/7</div>\n              <div className=\"text-white/80\">Support</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Mission;\n","size_bytes":1942},"postcss.config.js":{"content":"export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};\n","size_bytes":81},"src/components/chatroom/ChatInfo.jsx":{"content":"import React, { useState, useEffect } from \"react\";\nimport { styles } from \"../../styles\";\nimport { AvatarChat, AvatarPerson, IconButton } from \"./ReusableComponents\";\nimport {\n  FaGlobe,\n  FaEdit,\n  FaEllipsisH,\n  FaCopy,\n  FaTimesCircle,\n  FaCheck,\n  FaTimes,\n  FaUserPlus,\n  FaUserShield,\n  FaSave,\n} from \"react-icons/fa\";\nimport { showToastError, showToastSuccess } from \"../common/ShowToast\";\nimport axios from \"axios\";\nimport { API_BASE_URL } from \"../../config/api\";\n\nconst Modal = ({ isOpen, onClose, title, children }) => {\n  if (!isOpen) return null;\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-lg w-full max-w-md mx-4 shadow-lg py-8 relative\">\n        <button\n          onClick={onClose}\n          className=\"text-gray-500 hover:text-gray-700 absolute right-4 top-4\"\n        >\n          <FaTimes />\n        </button>\n        <h2 className=\"font-['Montserrat'] w-full text-center text-xl font-bold mb-5\">\n          {title}\n        </h2>\n        {children}\n      </div>\n    </div>\n  );\n};\n\nconst ActionButton = ({ onClick, primary, children, className }) => (\n  <button\n    onClick={onClick}\n    className={`font-bold font-['Montserrat'] w-[50%] rounded-md py-2 ${\n      primary\n        ? \"text-black bg-yellow-400 hover:bg-yellow-300\"\n        : \"bg-[#E8E8E8] hover:bg-gray-300 text-[#A30609]\"\n    } ${className || \"\"}`}\n    style={primary ? {} : { border: \"1px solid rgba(0,0,0,0.3)\" }}\n  >\n    {children}\n  </button>\n);\n\nconst MemberItem = ({ member, currentUserId, isAdmin, onUserInfoClick }) => {\n  const { id, given_name, profile_picture } = member;\n\n  const isCurrentUser = id === currentUserId;\n\n  return (\n    <div className=\"flex items-center justify-between mb-2\">\n      <div className=\"flex items-center\">\n        <AvatarPerson\n          person={member}\n          // text={given_name.charAt(0).toUpperCase()}\n          size=\"sm\"\n          // url={profile_picture}\n        />\n        <span className=\"font-['Inter'] ml-2\">\n          {given_name}\n          {isCurrentUser ? \" (You)\" : \"\"}\n        </span>\n      </div>\n      {isCurrentUser ? (\n        <span className=\"font-['Inter'] text-xs text-gray-500\">\n          {isAdmin ? \"Admin\" : \"\"}\n        </span>\n      ) : (\n        <>\n          {isAdmin ? (\n            <div className=\"flex items-center\">\n              <span className=\"font-['Inter'] text-xs text-gray-500 mr-2\">\n                Admin\n              </span>\n              <button\n                className=\"text-gray-500\"\n                onClick={() => onUserInfoClick(member)}\n              >\n                <FaEllipsisH size={16} />\n              </button>\n            </div>\n          ) : (\n            <button\n              className=\"text-gray-500\"\n              onClick={() => onUserInfoClick(member)}\n            >\n              <FaEllipsisH size={16} />\n            </button>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nconst ChatInfo = ({\n  chatId,\n  setCurrentChatId,\n  originalChats,\n  setOriginalChats,\n}) => {\n  const userId = localStorage.getItem(\"user_id\");\n  const [language, setLanguage] = useState(\"English\");\n  const [isLeaveModalOpen, setIsLeaveModalOpen] = useState(false);\n  const [isUserInfoModalOpen, setIsUserInfoModalOpen] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [groupData, setGroupData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [joinRequests, setJoinRequests] = useState([]);\n  const [currentUserId, setCurrentUserId] = useState(userId);\n  const [isEditingName, setIsEditingName] = useState(false);\n  const [newGroupName, setNewGroupName] = useState(\"\");\n  const [isCurrentUserAdmin, setIsCurrentUserAdmin] = useState(false);\n\n  useEffect(() => {\n    const fetchGroupData = async () => {\n      try {\n        // fetch chat room info\n        const response = await axios.get(\n          `${API_BASE_URL}/chatroom/${chatId}`\n        );\n        const chatRoom = response.data.chatRoom;\n\n        // get member and pending members list\n        const members = [];\n        const pendingMembers = [];\n\n        for (const member of chatRoom.members) {\n          if (member.status == \"approved\") {\n            members.push(member);\n          } else if (member.status == \"pending\") {\n            pendingMembers.push(member);\n          }\n        }\n\n        setLoading(true);\n        setTimeout(async () => {\n          const mockData = {\n            id: chatRoom.id,\n            name: chatRoom.name,\n            createdAt: chatRoom.created_at,\n            description: chatRoom.description,\n            adminId: chatRoom.admin_id,\n            inviteLink: `localhost:5173/Chat/${chatRoom.id}`,\n            members: members,\n            joinRequests: pendingMembers,\n          };\n\n          setGroupData(mockData);\n          setNewGroupName(mockData.name);\n          setJoinRequests(mockData.joinRequests);\n          setLoading(false);\n        }, 300);\n      } catch (err) {\n        setError(\"Failed to load group data: \", err.message);\n        setLoading(false);\n      }\n    };\n\n    fetchGroupData();\n  }, [chatId]);\n\n  axios\n    .get(`${API_BASE_URL}/chatroom/${chatId}/admin/${userId}`)\n    .then((response) => {\n      const isAdmin = response.data?.isAdmin;\n      setIsCurrentUserAdmin(isAdmin);\n    });\n\n  const handleLeaveGroup = async () => {\n    try {\n      console.log(\"Left group\", chatId);\n\n      await axios.delete(\n        `${API_BASE_URL}/chatroom/${chatId}/leave/${userId}`\n      );\n\n      showToastSuccess(`Left group successfully`);\n      const remainingChats = originalChats.filter((chat) => chat.id !== chatId);\n      console.log(chatId, remainingChats);\n\n      setOriginalChats(remainingChats);\n      setCurrentChatId(remainingChats[0].id);\n      setIsLeaveModalOpen(false);\n    } catch (err) {\n      console.error(\"Failed to leave group\", err);\n\n      const remainingChats = originalChats.filter((chat) => chat.id !== chatId);\n      setOriginalChats(remainingChats);\n      setCurrentChatId(remainingChats[0].id);\n      setIsLeaveModalOpen(false);\n    }\n  };\n\n  const handleUserAction = async (userId, action) => {\n    try {\n      setIsUserInfoModalOpen(false);\n\n      if (action === \"makeAdmin\") {\n        await axios.put(\n          `${API_BASE_URL}/chatroom/${chatId}/changeAdmin`,\n          {\n            newAdminId: userId,\n          }\n        );\n        setGroupData((prev) => ({\n          ...prev,\n          members: prev.members.map((member) =>\n            member.id === userId ? { ...member, isAdmin: true } : member\n          ),\n          adminId: userId,\n        }));\n\n        setIsCurrentUserAdmin(false);\n      } else if (action === \"removeMember\") {\n        await axios.delete(\n          `${API_BASE_URL}/chatroom/${chatId}/members/${userId}`\n        );\n        setGroupData((prev) => ({\n          ...prev,\n          members: prev.members.filter((member) => member.id !== userId),\n        }));\n      }\n    } catch (err) {\n      console.error(`Failed to ${action}`, err);\n    }\n  };\n\n  const handleJoinRequest = async (userId, accept) => {\n    try {\n      setJoinRequests((prev) => prev.filter((req) => req.id !== userId));\n\n      if (accept) {\n        const newMember = joinRequests.find((req) => req.id === userId);\n        setGroupData((prev) => ({\n          ...prev,\n          members: [\n            ...prev.members,\n            { ...newMember, joined: new Date(), isAdmin: false },\n          ],\n        }));\n\n        // send backend accept request\n        await axios.put(\n          `${API_BASE_URL}/chatroom/${chatId}/memberRequest`,\n          {\n            userId: userId,\n            status: \"approved\",\n          }\n        );\n      } else {\n        await axios.put(\n          `${API_BASE_URL}/chatroom/${chatId}/memberRequest`,\n          {\n            userId: userId,\n            status: \"rejected\",\n          }\n        );\n      }\n    } catch (err) {\n      console.error(\"Failed to handle join request\", err);\n    }\n  };\n\n  const handleCopyInviteLink = () => {\n    if (groupData?.inviteLink) {\n      navigator.clipboard\n        .writeText(groupData.inviteLink)\n        .then(() => {\n          showToastSuccess(\"Copied to clipboard\");\n        })\n        .catch((err) => {\n          console.error(\"Failed to copy\", err);\n        });\n    }\n  };\n\n  const handleUserInfoClick = (user) => {\n    setSelectedUser(user);\n    setIsUserInfoModalOpen(true);\n  };\n\n  const handleEditNameClick = () => {\n    setIsEditingName(true);\n  };\n\n  const handleSaveName = async () => {\n    try {\n      if (!newGroupName.trim()) {\n        showToastError(\"Group name cannot be empty\");\n        return;\n      }\n\n      if (newGroupName.trim() === groupData.name) {\n        setIsEditingName(false);\n        return;\n      }\n\n      // update backend\n      await axios.put(`${API_BASE_URL}/chatroom/${chatId}`, {\n        name: newGroupName,\n      });\n\n      setGroupData((prev) => ({\n        ...prev,\n        name: newGroupName.trim(),\n      }));\n\n      setIsEditingName(false);\n\n      showToastSuccess(\"Group name updated successfully\");\n    } catch (err) {\n      console.error(\"Failed to update group name\", err);\n      showToastError(\"Failed to update group name\");\n    }\n  };\n\n  const handleCancelNameEdit = () => {\n    setNewGroupName(groupData.name);\n    setIsEditingName(false);\n  };\n\n  if (loading) {\n    return (\n      <div\n        className={`xl:pt-18 lg:pt-16 md:pt-12 sm:pt-8 pt-6 mt-10 lg:mt-2 md:mt-5 flex flex-col w-80 border-l border-gray-200 bg-white items-center justify-center`}\n      >\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div\n        className={`xl:pt-18 lg:pt-16 md:pt-12 sm:pt-8 pt-6 mt-10 lg:mt-2 md:mt-5 flex flex-col w-80 border-l border-gray-200 bg-white items-center justify-center`}\n      >\n        <p className=\"text-red-500\">{error}</p>\n        <button\n          className=\"mt-2 text-blue-500\"\n          onClick={() => window.location.reload()}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    });\n  };\n\n  return (\n    <div\n      className={`xl:pt-18 lg:pt-16 md:pt-12 sm:pt-8 pt-6 mt-10 lg:mt-2 md:mt-5 flex flex-col w-80 border-l border-gray-200 bg-white overflow-auto`}\n    >\n      <div className=\"flex items-center justify-between p-4 border-b\">\n        {isEditingName ? (\n          <div className=\"flex items-center w-full\">\n            <input\n              type=\"text\"\n              value={newGroupName}\n              onChange={(e) => setNewGroupName(e.target.value)}\n              className=\"font-['Montserrat'] text-lg font-bold w-full p-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-yellow-300\"\n              autoFocus\n              maxLength={50}\n            />\n            <div className=\"flex ml-2\">\n              <button\n                className=\"text-green-500 mr-1\"\n                onClick={handleSaveName}\n                title=\"Save\"\n              >\n                <FaCheck size={16} />\n              </button>\n              <button\n                className=\"text-red-500\"\n                onClick={handleCancelNameEdit}\n                title=\"Cancel\"\n              >\n                <FaTimes size={16} />\n              </button>\n            </div>\n          </div>\n        ) : (\n          <>\n            <h2 className=\"font-['Montserrat'] text-2xl font-bold\">\n              {groupData?.name}\n            </h2>\n            {isCurrentUserAdmin && (\n              <button\n                className=\"text-gray-500 hover:text-gray-700\"\n                onClick={handleEditNameClick}\n                title=\"Edit group name\"\n              >\n                <FaEdit size={16} />\n              </button>\n            )}\n          </>\n        )}\n      </div>\n\n      <div className=\"flex md:hidden items-center p-4\">\n        <IconButton icon={<FaGlobe />} />\n        <select\n          value={language}\n          onChange={(e) => setLanguage(e.target.value)}\n          className=\"font-['Inter'] w-full p-2 border rounded focus:outline-none focus:ring-2 focus:ring-yellow-300\"\n        >\n          <option>English</option>\n          <option>Spanish</option>\n          <option>French</option>\n          <option>German</option>\n        </select>\n      </div>\n\n      <div className=\"p-4 border-b\">\n        <h3 className=\"font-['Montserrat'] font-bold mb-1\">Created</h3>\n        <p className=\"font-['Inter'] text-sm\">\n          {formatDate(groupData?.createdAt)}\n        </p>\n      </div>\n\n      <div className=\"p-4 border-b\">\n        <h3 className=\"font-['Montserrat'] font-bold mb-2\">\n          Members ({groupData?.members.length})\n        </h3>\n        {groupData?.members.map((member) => (\n          <MemberItem\n            key={member.id}\n            member={member}\n            currentUserId={currentUserId}\n            isAdmin={member.id == groupData.adminId}\n            onUserInfoClick={handleUserInfoClick}\n          />\n        ))}\n      </div>\n\n      {isCurrentUserAdmin && joinRequests.length > 0 && (\n        <div className=\"p-4 border-b\">\n          <h3 className=\"font-['Montserrat'] font-bold mb-2\">\n            Requests ({joinRequests.length})\n          </h3>\n          {joinRequests.map((request) => (\n            <div\n              key={request.id}\n              className=\"flex items-center justify-between mb-2\"\n            >\n              <div className=\"flex items-center\">\n                <AvatarPerson\n                  person={request}\n                  // text={request.given_name.charAt(0).toUpperCase()}\n                  size=\"sm\"\n                  // url={request.profile_picture}\n                />\n                <span className=\"font-['Inter'] ml-2\">\n                  {request.given_name}\n                </span>\n              </div>\n              <div className=\"flex\">\n                <button\n                  className=\"text-green-500 mr-2\"\n                  onClick={() => handleJoinRequest(request.id, true)}\n                >\n                  <FaCheck size={16} />\n                </button>\n                <button\n                  className=\"text-red-500\"\n                  onClick={() => handleJoinRequest(request.id, false)}\n                >\n                  <FaTimes size={16} />\n                </button>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      <div className=\"p-4 border-b\">\n        <h3 className=\"font-['Montserrat'] font-bold mb-2\">Invite Link</h3>\n        <div className=\"flex items-center\">\n          <p className=\"text-xs truncate mr-2\">{groupData?.inviteLink}</p>\n          <button className=\"text-[#65686C]\" onClick={handleCopyInviteLink}>\n            <FaCopy size={16} />\n          </button>\n        </div>\n      </div>\n\n      <div className=\"p-4 mt-auto flex items-center justify-center\">\n        <button\n          className=\"font-['Montserrat'] font-semibold flex items-center text-red-500 font-medium\"\n          onClick={() => setIsLeaveModalOpen(true)}\n        >\n          <FaTimesCircle size={16} className=\"mr-1\" />\n          Leave Group\n        </button>\n      </div>\n\n      <Modal\n        isOpen={isLeaveModalOpen}\n        onClose={() => setIsLeaveModalOpen(false)}\n        title=\"Leave Group?\"\n      >\n        <div className=\"flex flex-col gap-5 items-center justify-center w-full\">\n          <ActionButton onClick={handleLeaveGroup} primary>\n            Yes\n          </ActionButton>\n          <ActionButton onClick={() => setIsLeaveModalOpen(false)}>\n            No\n          </ActionButton>\n        </div>\n      </Modal>\n\n      <Modal\n        isOpen={isUserInfoModalOpen}\n        onClose={() => setIsUserInfoModalOpen(false)}\n        title=\"User Info\"\n      >\n        <div className=\"text-center mb-6\">\n          <div className=\"font-medium text-gray-700\">Joined</div>\n          <p className=\"text-gray-600\">{formatDate(selectedUser?.timestamp)}</p>\n          <p className=\"text-gray-600\">{selectedUser?.email}</p>\n        </div>\n        {isCurrentUserAdmin && (\n          <div className=\"flex flex-col gap-5 items-center justify-center w-full\">\n            {/* <ActionButton\n            onClick={() => handleUserAction(selectedUser?.id, \"removeAdmin\")}\n            primary\n          >\n            <div className=\"flex items-center justify-center\">\n              <FaUserShield className=\"mr-2\" />\n              Remove Admin Status\n            </div>\n          </ActionButton> */}\n            <ActionButton\n              onClick={() => handleUserAction(selectedUser?.id, \"makeAdmin\")}\n              primary\n            >\n              <div className=\"flex items-center justify-center\">\n                <FaUserShield className=\"mr-2\" />\n                Make Admin\n              </div>\n            </ActionButton>\n            <ActionButton\n              onClick={() => handleUserAction(selectedUser?.id, \"removeMember\")}\n            >\n              <div className=\"flex items-center justify-center\">\n                <FaTimesCircle className=\"mr-2\" />\n                Remove Member\n              </div>\n            </ActionButton>\n          </div>\n        )}\n      </Modal>\n    </div>\n  );\n};\n\nexport default ChatInfo;\n","size_bytes":17325},"src/components/chatroom/Sidebar.jsx":{"content":"import { AvatarChat, AvatarPerson } from \"./ReusableComponents.jsx\";\nimport { TabButton } from \"./ReusableComponents.jsx\";\nimport { IconButton } from \"./ReusableComponents.jsx\";\nimport { FaSearch, FaCommentDots } from \"react-icons/fa\";\nimport { useEffect } from \"react\";\n\nconst showTime = (timestamp) => {\n  const sentTime = new Date(timestamp);\n  const now = new Date();\n  const diffInSeconds = Math.floor((now - sentTime) / 1000);\n\n  if (diffInSeconds < 60) return \"now\"; // Less than 1 minute\n  const diffInMinutes = Math.floor(diffInSeconds / 60);\n  if (diffInMinutes < 60) return `${diffInMinutes}m`; // Less than 1 hour\n  const diffInHours = Math.floor(diffInMinutes / 60);\n  if (diffInHours < 24) return `${diffInHours}h`; // Less than 1 day\n  const diffInDays = Math.floor(diffInHours / 24);\n  if (diffInDays < 30) return `${diffInDays}d`; // Less than 1 month\n  const diffInMonths = Math.floor(diffInDays / 30);\n  if (diffInMonths < 12) return `${diffInMonths}m`; // Less than 1 year\n  const diffInYears = Math.floor(diffInMonths / 12);\n  return `${diffInYears} y`; // More than 1 year\n};\n\nconst Sidebar = ({\n  chats,\n  currentChatId,\n  onChatClick,\n  searchTerm,\n  setSearchTerm,\n  activeFilter,\n  setActiveFilter,\n  onNewChat,\n}) => {\n  \n  return (\n    <div\n      className={`xl:pt-18 lg:pt-16 md:pt-12 sm:pt-8 pt-6 mt-10 lg:mt-2 w-80 border-r bg-white flex flex-col`}\n    >\n      {/* Sidebar Header */}\n      <div className=\"p-4 border-b flex justify-between items-center\">\n        <h1 className=\"text-[#081C48] font-['Montserrat'] text-[1.75rem] font-bold\">\n          Chats\n        </h1>\n        <IconButton icon={<FaCommentDots />} onClick={onNewChat} />\n      </div>\n\n      {/* Search Bar */}\n      <div className=\"p-4\">\n        <div className=\"bg-[#E8E8E8] rounded-full p-2 flex items-center\">\n          <FaSearch className=\"text-[#65686C] mx-2\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search\"\n            className=\"font-['Inter'] bg-transparent outline-none w-full placeholder-[#65686C]\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n          />\n        </div>\n      </div>\n\n      {/* Filter Tabs */}\n      <div className=\"flex px-4 gap-2 mb-2\">\n        <TabButton\n          text=\"All\"\n          isActive={activeFilter === \"all\"}\n          onClick={() => setActiveFilter(\"all\")}\n        />\n        <TabButton\n          text=\"Unread\"\n          isActive={activeFilter === \"unread\"}\n          onClick={() => setActiveFilter(\"unread\")}\n        />\n        <TabButton\n          text=\"Pending\"\n          isActive={activeFilter === \"pending\"}\n          onClick={() => setActiveFilter(\"pending\")}\n        />\n      </div>\n\n      {/* Chat List */}\n      <div className=\"flex-1 overflow-y-auto\">\n        {chats.length === 0 ? (\n          <div className=\"p-4 text-center text-gray-500\">No chats found</div>\n        ) : (\n          chats.map((chat) => (\n            <div\n              key={chat.id}\n              className={`py-2 px-4 border-b hover:bg-gray-100 flex items-center cursor-pointer ${\n                chat.id === currentChatId ? \"bg-gray-100\" : \"\"\n              }`}\n              onClick={() => onChatClick(chat.id)}\n            >\n              <AvatarChat color={chat.avatar_color} text={chat.avatar_text} />\n              <div className=\"ml-3\">\n                <div className=\"flex justify-between\">\n                  <span className=\"font-['Montserrat'] font-semibold\">\n                    {chat.name}\n                  </span>\n                  <span className=\"font-['Inter'] text-[#989898] text-xs\">\n                    {showTime(chat.updated_at)}\n                  </span>\n                </div>\n                <p className=\"font-['Inter'] text-[#65686C] text-sm truncate w-[220px] overflow-hidden\">\n                  {chat.last_message}\n                </p>\n              </div>\n              {chat.unread && (\n                <div className=\"bg-red-500 rounded-full h-2 w-2\"></div>\n              )}\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Sidebar;\n","size_bytes":4101},"backend/routes/roomRoutes.js":{"content":"const express = require(\"express\");\nconst {\n    createRoom,\n    getChatRoomDetails,\n    updateRoomData,\n    requestJoin,\n    handleMemberRequest,\n    removeMember,\n    leaveRoom,\n    loadMessages,\n    loadChatRooms,\n    isAdmin,\n    getReadStatus,\n    updateReadStatus,\n    getMembers,\n    getPendingMembers,\n    changeAdmin,\n    isMember,\n    getPendingRooms,\n    uploadFile,\n    upload\n} = require(\"../controllers/roomController\");\n\nconst router = express.Router();\n\nrouter.get(\"/\", (req, res) => {\n    res.json({ message: \"test chat room ok\" });\n})\n\nrouter.get(\"/:chatId\", getChatRoomDetails);\nrouter.get(\"/:chatId/messages\", loadMessages);\nrouter.get(\"/user/:userId\", loadChatRooms);\nrouter.get(\"/:chatId/admin/:userId\", isAdmin);\nrouter.get(\"/:chatId/readStatus/:userId\", getReadStatus);\nrouter.get(\"/:chatId/members\", getMembers);\nrouter.get(\"/:chatId/pending\", getPendingMembers);\nrouter.get(\"/pendingRooms/:userId\", getPendingRooms);\nrouter.get(\"/:chatId/isMember/:userId\", isMember)\n\nrouter.post(\"/\", createRoom);\nrouter.post(\"/:chatId/request\", requestJoin);\n\nrouter.put(\"/:chatId\", updateRoomData);\nrouter.put(\"/:chatId/readStatus/:userId\", updateReadStatus);\nrouter.put(\"/:chatId/memberRequest\", handleMemberRequest);\nrouter.put(\"/:chatId/changeAdmin/\", changeAdmin)\n\nrouter.delete(\"/:chatId/members/:userId\", removeMember);\nrouter.delete(\"/:chatId/leave/:userId\", leaveRoom);\n\nrouter.post(\"/upload\", upload.single('file'), uploadFile);\n\n\nmodule.exports = router;\n","size_bytes":1476},"src/components/NavBar.jsx":{"content":"import { useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { logo } from \"../assets\";\nimport { sections } from \"../constants/index.js\";\nimport { useAuth } from \"../context/authContext.jsx\";\nimport { Button } from \"./ui\";\nimport { FaBars, FaTimes, FaUser, FaSignOutAlt } from \"react-icons/fa\";\n\nconst NavBar = () => {\n  const pathname = window.location.pathname;\n  const [active, setActive] = useState(\n    pathname === \"/\" || pathname === \"/Home\"\n      ? \"Home\"\n      : pathname === \"/Chat\"\n      ? \"Chat\"\n      : pathname === \"/Help\"\n      ? \"Help\"\n      : \"\"\n  );\n\n  const { user, logout } = useAuth();\n  const [toggle, setToggle] = useState(false);\n  const [isDropdownVisible, setIsDropdownVisible] = useState(false);\n  const navigate = useNavigate();\n\n  const handleLogout = () => {\n    logout();\n    navigate(\"/signin\");\n  };\n\n  return (\n    <nav className=\"fixed top-0 left-0 right-0 z-50 glass border-b border-white/10 backdrop-blur-xl\">\n      <div className=\"section-container\">\n        <div className=\"flex items-center justify-between h-20\">\n          {/* Logo */}\n          <Link\n            to=\"/\"\n            className=\"flex items-center space-x-3 hover:opacity-80 transition-opacity\"\n            onClick={() => {\n              setActive(\"Home\");\n              window.scrollTo(0, 0);\n            }}\n          >\n            <img src={logo} alt=\"Chatlas\" className=\"h-10 w-10\" />\n            <span className=\"text-2xl font-bold text-neutral-900\">Chatlas</span>\n          </Link>\n\n          {/* Desktop Navigation */}\n          <ul className=\"hidden md:flex items-center space-x-1\">\n            {sections.map((link) => (\n              <li key={link.id}>\n                <Link\n                  to={`/${link.id}`}\n                  onClick={() => setActive(link.title)}\n                  className={`\n                    px-4 py-2 rounded-xl font-medium transition-all duration-200\n                    ${\n                      active === link.title\n                        ? \"bg-primary-600 text-white\"\n                        : \"text-neutral-700 hover:bg-neutral-100\"\n                    }\n                  `}\n                >\n                  {link.title}\n                </Link>\n              </li>\n            ))}\n          </ul>\n\n          {/* Desktop Auth */}\n          <div className=\"hidden md:flex items-center space-x-4\">\n            {user ? (\n              <div\n                className=\"relative\"\n                onMouseEnter={() => setIsDropdownVisible(true)}\n                onMouseLeave={() => setIsDropdownVisible(false)}\n              >\n                <button className=\"flex items-center space-x-2 px-4 py-2 rounded-xl hover:bg-neutral-100 transition-colors\">\n                  <div className=\"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center\">\n                    <FaUser className=\"text-primary-600\" />\n                  </div>\n                  <span className=\"font-medium text-neutral-900\">\n                    {user?.username || \"User\"}\n                  </span>\n                </button>\n\n                {isDropdownVisible && (\n                  <div className=\"absolute right-0 top-full mt-2 w-48 glass rounded-xl shadow-large p-2 animate-scale-in\">\n                    <button\n                      onClick={handleLogout}\n                      className=\"flex items-center space-x-2 w-full px-4 py-2 text-left rounded-lg hover:bg-neutral-100 transition-colors text-neutral-700\"\n                    >\n                      <FaSignOutAlt />\n                      <span>Log out</span>\n                    </button>\n                  </div>\n                )}\n              </div>\n            ) : (\n              <div className=\"flex items-center space-x-3\">\n                <Button\n                  variant=\"ghost\"\n                  onClick={() => navigate(\"/signin\")}\n                >\n                  Sign in\n                </Button>\n                <Button\n                  variant=\"gradient\"\n                  onClick={() => navigate(\"/signup\")}\n                >\n                  Get Started\n                </Button>\n              </div>\n            )}\n          </div>\n\n          {/* Mobile Menu Button */}\n          <button\n            className=\"md:hidden p-2 rounded-xl hover:bg-neutral-100 transition-colors\"\n            onClick={() => setToggle(!toggle)}\n          >\n            {toggle ? <FaTimes size={24} /> : <FaBars size={24} />}\n          </button>\n        </div>\n      </div>\n\n      {/* Mobile Menu */}\n      {toggle && (\n        <div className=\"md:hidden glass border-t border-white/10 animate-slide-down\">\n          <div className=\"section-container py-6 space-y-4\">\n            <ul className=\"space-y-2\">\n              {sections.map((link) => (\n                <li key={link.id}>\n                  <Link\n                    to={`/${link.id}`}\n                    onClick={() => {\n                      setActive(link.title);\n                      setToggle(false);\n                    }}\n                    className={`\n                      block px-4 py-3 rounded-xl font-medium transition-all\n                      ${\n                        active === link.title\n                          ? \"bg-primary-600 text-white\"\n                          : \"text-neutral-700 hover:bg-neutral-100\"\n                      }\n                    `}\n                  >\n                    {link.title}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n\n            {user ? (\n              <div className=\"space-y-2 pt-4 border-t border-neutral-200\">\n                <div className=\"px-4 py-2 text-sm text-neutral-600\">\n                  Signed in as <span className=\"font-medium text-neutral-900\">{user?.username}</span>\n                </div>\n                <Button\n                  variant=\"outline\"\n                  fullWidth\n                  onClick={() => {\n                    handleLogout();\n                    setToggle(false);\n                  }}\n                  icon={<FaSignOutAlt />}\n                >\n                  Log out\n                </Button>\n              </div>\n            ) : (\n              <div className=\"flex flex-col space-y-2 pt-4 border-t border-neutral-200\">\n                <Button\n                  variant=\"ghost\"\n                  fullWidth\n                  onClick={() => {\n                    navigate(\"/signin\");\n                    setToggle(false);\n                  }}\n                >\n                  Sign in\n                </Button>\n                <Button\n                  variant=\"gradient\"\n                  fullWidth\n                  onClick={() => {\n                    navigate(\"/signup\");\n                    setToggle(false);\n                  }}\n                >\n                  Get Started\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </nav>\n  );\n};\n\nexport default NavBar;\n","size_bytes":6958},"eslint.config.js":{"content":"import js from '@eslint/js'\nimport globals from 'globals'\nimport reactHooks from 'eslint-plugin-react-hooks'\nimport reactRefresh from 'eslint-plugin-react-refresh'\n\nexport default [\n  { ignores: ['dist'] },\n  {\n    files: ['**/*.{js,jsx}'],\n    languageOptions: {\n      ecmaVersion: 2020,\n      globals: globals.browser,\n      parserOptions: {\n        ecmaVersion: 'latest',\n        ecmaFeatures: { jsx: true },\n        sourceType: 'module',\n      },\n    },\n    plugins: {\n      'react-hooks': reactHooks,\n      'react-refresh': reactRefresh,\n    },\n    rules: {\n      ...js.configs.recommended.rules,\n      ...reactHooks.configs.recommended.rules,\n      'no-unused-vars': ['error', { varsIgnorePattern: '^[A-Z_]' }],\n      'react-refresh/only-export-components': [\n        'warn',\n        { allowConstantExport: true },\n      ],\n    },\n  },\n]\n","size_bytes":844},"backend/controllers/transController.js":{"content":"const axios = require('axios').default;\nconst { v4: uuidv4 } = require('uuid');\nconst transConfig = require('../config/trans.config');\n\nlet key = transConfig.key;\nlet endpoint = \"https://api.cognitive.microsofttranslator.com\";\n\nlet location = transConfig.location;\n\nconst translate = async (toLang, text) => {\n    try {\n        const response = await axios({\n            baseURL: endpoint,\n            url: '/translate',\n            method: 'post',\n            headers: {\n                'Ocp-Apim-Subscription-Key': key,\n                'Ocp-Apim-Subscription-Region': location,\n                'Content-type': 'application/json',\n                'X-ClientTraceId': uuidv4().toString()\n            },\n            params: {\n                'api-version': '3.0',\n                'from': '',\n                'to': toLang\n            },\n            data: [{\n                'text': text\n            }],\n            responseType: 'json'\n        });\n\n        console.log(\"Translation response:\", JSON.stringify(response.data, null, 4));\n        return response.data;\n\n    } catch (err) {\n        if (err.response) {\n            console.error(\"API Error:\");\n        } else if (err.request) {\n            console.error(\"No Response from API:\");\n        } else {\n            console.error(\"Request Error:\");\n        }\n        throw err;\n    }\n};\n\nmodule.exports = translate;","size_bytes":1366}},"version":2}